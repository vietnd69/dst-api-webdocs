"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[70403],{28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var i=s(96540);const r={},d=i.createContext(r);function t(e){const n=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(d.Provider,{value:n},e.children)}},71829:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"game-scripts/core-systems/mod-support/core/modutil","title":"Mod Utilities","description":"Core utility functions and environment setup for mod development","source":"@site/docs/game-scripts/core-systems/mod-support/core/modutil.md","sourceDirName":"game-scripts/core-systems/mod-support/core","slug":"/game-scripts/core-systems/mod-support/core/modutil","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/mod-support/core/modutil","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"modutil","title":"Mod Utilities","description":"Core utility functions and environment setup for mod development","sidebar_position":3,"last_updated":"2025-06-21T00:00:00.000Z","build_version":676042,"change_status":"stable"},"sidebar":"docs","previous":{"title":"Mod Index","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/mod-support/core/modindex"},"next":{"title":"Mod Compatibility","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/mod-support/core/modcompatability"}}');var r=s(74848),d=s(28453);const t={id:"modutil",title:"Mod Utilities",description:"Core utility functions and environment setup for mod development",sidebar_position:3,last_updated:new Date("2025-06-21T00:00:00.000Z"),build_version:676042,change_status:"stable"},l="Mod Utilities",o={},a=[{value:"Version History",id:"version-history",level:2},{value:"Overview",id:"overview",level:2},{value:"Usage Example",id:"usage-example",level:2},{value:"Error Handling Functions",id:"error-handling-functions",level:2},{value:"moderror(message, level)",id:"moderror",level:3},{value:"modassert(test, message)",id:"modassert",level:3},{value:"modprint(...)",id:"modprint",level:3},{value:"Release ID System",id:"release-id-system",level:2},{value:"CurrentRelease.GreaterOrEqualTo(release_id)",id:"current-release-greater-or-equal-to",level:3},{value:"CurrentRelease.PrintID()",id:"current-release-print-id",level:3},{value:"Configuration Management",id:"configuration-management",level:2},{value:"GetModConfigData(optionname, modname, get_local_config)",id:"get-mod-config-data",level:3},{value:"Character Management",id:"character-management",level:2},{value:"AddModCharacter(name, gender, modes)",id:"add-mod-character",level:3},{value:"RemoveDefaultCharacter(name)",id:"remove-default-character",level:3},{value:"Environment Setup Functions",id:"environment-setup-functions",level:2},{value:"World Generation",id:"world-generation",level:3},{value:"Customization and UI",id:"customization-and-ui",level:3},{value:"Tiles and Terrain",id:"tiles-and-terrain",level:3},{value:"Post-Initialization Systems",id:"post-initialization-systems",level:3},{value:"Recipe and Crafting",id:"recipe-and-crafting",level:3},{value:"Actions and Interactions",id:"actions-and-interactions",level:3},{value:"Assets and Resources",id:"assets-and-resources",level:3},{value:"Networking",id:"networking",level:3},{value:"Cooking and Food",id:"cooking-and-food",level:3},{value:"Localization",id:"localization",level:3},{value:"UI and Interface",id:"ui-and-interface",level:3},{value:"Internal Environment Functions",id:"internal-environment-functions",level:2},{value:"InsertPostInitFunctions(env, isworldgen, isfrontend)",id:"insertpostinitfunctionsenv-isworldgen-isfrontend",level:3},{value:"Utility Functions",id:"utility-functions",level:2},{value:"ModInfoname(name)",id:"mod-info-name",level:3},{value:"Class Modification",id:"class-modification",level:2},{value:"AddClassPostConstruct(package, postfn)",id:"addclasspostconstructpackage-postfn",level:3},{value:"AddGlobalClassPostConstruct(package, classname, postfn)",id:"addglobalclasspostconstructpackage-classname-postfn",level:3},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Integration",id:"integration",level:2},{value:"Related Modules",id:"related-modules",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"mod-utilities",children:"Mod Utilities"})}),"\n",(0,r.jsx)(n.h2,{id:"version-history",children:"Version History"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Build Version"}),(0,r.jsx)(n.th,{children:"Change Date"}),(0,r.jsx)(n.th,{children:"Change Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"676042"}),(0,r.jsx)(n.td,{children:"2025-06-21"}),(0,r.jsx)(n.td,{children:"stable"}),(0,r.jsx)(n.td,{children:"Current version"})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"modutil"})," module provides essential utility functions for mod development, including error handling, environment setup, configuration management, and integration with the game's various systems. It serves as the foundation for mod development in Don't Starve Together."]}),"\n",(0,r.jsx)(n.h2,{id:"usage-example",children:"Usage Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- Error handling in mods\nmodassert(condition, "This must be true")\nmoderror("Something went wrong")\nmodprint("Debug information")\n\n-- Get mod configuration\nlocal config_value = GetModConfigData("option_name")\n\n-- Character management\nAddModCharacter("mycharacter", "MALE", {"forest", "cave"})\nRemoveDefaultCharacter("wilson")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"error-handling-functions",children:"Error Handling Functions"}),"\n",(0,r.jsx)(n.h3,{id:"moderror",children:"moderror(message, level)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nReports mod errors with proper context and mod identification. Behavior depends on whether mod debug printing is enabled - will assert if enabled, otherwise prints a warning."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"message"})," (string): Error message to display"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"level"})," (number): Optional stack level for error reporting (default: 1)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'moderror("Invalid configuration value")\nmoderror("Function called with wrong parameters", 2)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"modassert",children:"modassert(test, message)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nAssert function for mods that uses moderror for reporting. Only triggers if the test condition fails."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"test"})," (any): Condition to test (truthy/falsy)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"message"})," (string): Error message if assertion fails"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"(any): The test value if successful"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'local value = modassert(some_value, "Value cannot be nil")\nmodassert(#items > 0, "Items list must not be empty")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"modprint",children:"modprint(...)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nDebug print function for mods. Only outputs if mod debug printing is enabled in the mod index settings."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"..."})," (any): Values to print"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'modprint("Debug info:", player_count, world_state)\nmodprint("Mod initialized successfully")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"release-id-system",children:"Release ID System"}),"\n",(0,r.jsx)(n.h3,{id:"current-release-greater-or-equal-to",children:"CurrentRelease.GreaterOrEqualTo(release_id)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nChecks if the current game version supports a specific release ID, allowing mods to conditionally use features based on game version."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"release_id"})," (string): Release ID to check"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"(boolean): True if current version supports the release"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'if CurrentRelease.GreaterOrEqualTo("R35_SANITYTROUBLES") then\n    -- Use sanity trouble features\n    inst.components.sanity:AddSanityPenalty("darkness", -5)\nend\n'})}),"\n",(0,r.jsx)(n.h3,{id:"current-release-print-id",children:"CurrentRelease.PrintID()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nPrints the current release ID to console for debugging purposes."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'CurrentRelease.PrintID()\n-- Output: "Current Release ID: ReleaseID.R37_LUNAR_CAGE"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"configuration-management",children:"Configuration Management"}),"\n",(0,r.jsx)(n.h3,{id:"get-mod-config-data",children:"GetModConfigData(optionname, modname, get_local_config)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nRetrieves configuration values for mod settings. This is an internal function - mods should use the environment version provided during initialization."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"optionname"})," (string): Name of the configuration option"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"modname"})," (string): Mod identifier (required when calling outside modmain)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"get_local_config"})," (boolean): Whether to get client-local config (optional)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"(any): Configuration value, or nil if not found"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- Within mod environment (modname automatically provided)\nlocal difficulty = GetModConfigData("difficulty_level")\nlocal show_debug = GetModConfigData("debug_mode")\n\n-- Manual call with modname\nlocal value = GetModConfigData("option", "workshop-12345", false)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"character-management",children:"Character Management"}),"\n",(0,r.jsx)(n.h3,{id:"add-mod-character",children:"AddModCharacter(name, gender, modes)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nRegisters a new mod character with the game, including gender assignment and custom skin modes for animation states."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name"})," (string): Character prefab name"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"gender"}),' (string): Character gender ("MALE", "FEMALE", "ROBOT", "NEUTRAL", "PLURAL")']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"modes"})," (table): Optional skin mode definitions for character animation states"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- Basic character registration\nAddModCharacter("mycharacter", "FEMALE")\n\n-- Character with custom skin modes\nAddModCharacter("mycharacter", "FEMALE", {\n    { type = "normal_skin", play_emotes = true },\n    { type = "ghost_skin", anim_bank = "ghost", idle_anim = "idle", scale = 0.75, offset = { 0, -25 } },\n    { type = "powered_skin", anim_bank = "mycharacter_powered", scale = 1.1 }\n})\n'})}),"\n",(0,r.jsx)(n.h3,{id:"remove-default-character",children:"RemoveDefaultCharacter(name)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nRemoves a default game character from the character selection list."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name"})," (string): Character name to remove"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'RemoveDefaultCharacter("wilson")\nRemoveDefaultCharacter("willow")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"environment-setup-functions",children:"Environment Setup Functions"}),"\n",(0,r.jsx)(n.p,{children:"The modutil system provides numerous environment setup functions that are automatically added to mod environments. These functions enable mods to integrate with various game systems:"}),"\n",(0,r.jsx)(n.h3,{id:"world-generation",children:"World Generation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddLevel(level)"}),": Add custom world level"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddTask(task)"}),": Add world generation task"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddTaskSet(taskset)"}),": Add task set for level generation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddRoom(room)"}),": Add custom room type"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddStartLocation(location)"}),": Add spawn location option"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"customization-and-ui",children:"Customization and UI"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddRecipeFilter(filter)"}),": Add crafting recipe filter"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddIngredientValues(values)"}),": Add ingredient nutritional values"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddCharacterSelectPostInit(fn)"}),": Add character select screen modifications"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddMainPostInit(fn)"}),": Add main menu modifications"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddGamePostInit(fn)"}),": Add post-game initialization"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"tiles-and-terrain",children:"Tiles and Terrain"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddTile(tile)"}),": Register custom ground tile"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddTileData(data)"}),": Add tile behavior data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddNoiseFunction(name, fn)"}),": Add terrain noise function"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"post-initialization-systems",children:"Post-Initialization Systems"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddPlayerPostInit(fn)"}),": Add player initialization callback"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddPrefabPostInit(prefab, fn)"}),": Add prefab modification callback"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddComponentPostInit(component, fn)"}),": Add component modification callback"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddClassPostConstruct(class, fn)"}),": Add class constructor callback"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddStategraphPostInit(sg, fn)"}),": Add stategraph modification callback"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddBrainPostInit(brain, fn)"}),": Add brain modification callback"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"recipe-and-crafting",children:"Recipe and Crafting"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddRecipe2(name, ingredients, tech, config)"}),": Add crafting recipe (new system)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddRecipe(name, ingredients, tech, config)"}),": Add crafting recipe (legacy)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddDeconstructRecipe(prefab, ingredients)"}),": Add deconstruction recipe"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddCookerRecipe(cooker, recipe)"}),": Add cooking recipe"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"actions-and-interactions",children:"Actions and Interactions"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddAction(action)"}),": Register custom action"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddComponentAction(type, component, fn)"}),": Add component action"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddStategraphAction(action)"}),": Add stategraph action"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddStategraphActionHandler(sg, action, handler)"}),": Add action handler"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"assets-and-resources",children:"Assets and Resources"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"RegisterInventoryItemAtlas(atlas, prefab)"}),": Register inventory atlas"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"RegisterSkinAtlas(atlas, build)"}),": Register skin atlas"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"LoadPOFile(path, lang)"}),": Load localization file"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ModAssets"}),": Table for mod asset registration"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"networking",children:"Networking"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddModRPCHandler(namespace, name, fn)"}),": Add RPC handler"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddShardModRPCHandler(namespace, name, fn)"}),": Add shard RPC handler"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddUserCommand(command)"}),": Add user console command"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddVoteCommand(command)"}),": Add voting command"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"cooking-and-food",children:"Cooking and Food"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddCookerRecipe(cooker, recipe)"}),": Add recipe to specific cooker"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddFoodData(name, food_data)"}),": Add food nutritional data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddIngredientValues(values)"}),": Add ingredient cooking values"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"localization",children:"Localization"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"STRINGS"}),": Global strings table for localization"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"LoadPOFile(path, lang)"}),": Load translation files"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CreatePrefabSkinStrings(prefab)"}),": Create skin name strings"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"ui-and-interface",children:"UI and Interface"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddModScreenPostInit(screen, fn)"}),": Modify game screens"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddOptionScreenPostInit(fn)"}),": Modify options screen"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AddFrontEndAssets(assets)"}),": Add frontend-specific assets"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"internal-environment-functions",children:"Internal Environment Functions"}),"\n",(0,r.jsx)(n.h3,{id:"insertpostinitfunctionsenv-isworldgen-isfrontend",children:"InsertPostInitFunctions(env, isworldgen, isfrontend)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nInternal function that sets up the mod environment with all necessary post-initialization functions and utilities. This creates the sandboxed environment that mods execute within."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"env"})," (table): Environment table to populate"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"isworldgen"})," (boolean): Whether this is world generation context"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"isfrontend"})," (boolean): Whether this is frontend context"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"utility-functions",children:"Utility Functions"}),"\n",(0,r.jsx)(n.h3,{id:"mod-info-name",children:"ModInfoname(name)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nReturns a formatted mod name string including both the mod ID and display name for better identification in logs and error messages."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name"})," (string): Mod identifier"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"(string): Formatted name string"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'local formatted = ModInfoname("workshop-12345")\n-- Output: "workshop-12345 (Better Farming Mod)"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"class-modification",children:"Class Modification"}),"\n",(0,r.jsx)(n.h3,{id:"addclasspostconstructpackage-postfn",children:"AddClassPostConstruct(package, postfn)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nAdds a post-construction callback to a class loaded from a package, allowing mods to modify class instances after creation."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"package"})," (string): Package path to the class"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"postfn"})," (function): Function to call after construction"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"addglobalclasspostconstructpackage-classname-postfn",children:"AddGlobalClassPostConstruct(package, classname, postfn)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nAdds a post-construction callback to a global class, useful for modifying game classes."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"package"})," (string): Package path where class is defined"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"classname"})," (string): Name of the global class"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"postfn"})," (function): Function to call after construction"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,r.jsx)(n.p,{children:"Mods receive these environment variables automatically:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"modname"}),": Current mod identifier"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"modassert"}),": Mod assertion function"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"moderror"}),": Mod error reporting function"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"postinitfns"}),": Table of post-initialization functions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"postinitdata"}),": Table of post-initialization data"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"integration",children:"Integration"}),"\n",(0,r.jsx)(n.p,{children:"The mod utilities integrate with:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error System"}),": Standardized error reporting and debugging"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Configuration"}),": Mod settings and options management"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Character System"}),": Custom character registration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Asset Loading"}),": Mod-specific asset integration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Networking"}),": RPC and communication systems"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"UI System"}),": Interface modifications and additions"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"related-modules",children:"Related Modules"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/dst-api-webdocs/docs/game-scripts/core-systems/mod-support/core/mods",children:"Mods"}),": Core mod loading and management system"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/dst-api-webdocs/docs/game-scripts/core-systems/mod-support/core/modindex",children:"Mod Index"}),": Mod registry and information management"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/dst-api-webdocs/docs/game-scripts/core-systems/mod-support/core/modcompatability",children:"Mod Compatibility"}),": Version upgrade and compatibility handling"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);