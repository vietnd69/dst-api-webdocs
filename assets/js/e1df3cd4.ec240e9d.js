"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[28165],{28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var i=s(96540);const t={},l=i.createContext(t);function r(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:n},e.children)}},79042:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"game-scripts/core-systems/development-tools/debugging/debughelpers","title":"Debug Helpers","description":"Debug utility functions for inspecting and analyzing entities, components, and function upvalues in Don\'t Starve Together","source":"@site/docs/game-scripts/core-systems/development-tools/debugging/debughelpers.md","sourceDirName":"game-scripts/core-systems/development-tools/debugging","slug":"/game-scripts/core-systems/development-tools/debugging/debughelpers","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/development-tools/debugging/debughelpers","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"debughelpers","title":"Debug Helpers","description":"Debug utility functions for inspecting and analyzing entities, components, and function upvalues in Don\'t Starve Together","sidebar_position":3,"last_updated":"2025-06-21T00:00:00.000Z","build_version":676042,"change_status":"stable"},"sidebar":"docs","previous":{"title":"Debug Commands","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/development-tools/debugging/debugcommands"},"next":{"title":"Debug Keys","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/development-tools/debugging/debugkeys"}}');var t=s(74848),l=s(28453);const r={id:"debughelpers",title:"Debug Helpers",description:"Debug utility functions for inspecting and analyzing entities, components, and function upvalues in Don't Starve Together",sidebar_position:3,last_updated:new Date("2025-06-21T00:00:00.000Z"),build_version:676042,change_status:"stable"},o="Debug Helpers",c={},d=[{value:"Version History",id:"version-history",level:2},{value:"Overview",id:"overview",level:2},{value:"Usage Example",id:"usage-example",level:2},{value:"Functions",id:"functions",level:2},{value:"DumpComponent(comp)",id:"dump-component",level:3},{value:"DumpEntity(ent)",id:"dump-entity",level:3},{value:"DumpUpvalues(func)",id:"dump-upvalues",level:3},{value:"Technical Implementation",id:"technical-implementation",level:2},{value:"Debug Information Sources",id:"debug-information-sources",level:3},{value:"Output Formatting",id:"output-formatting",level:3},{value:"Performance Considerations",id:"performance-considerations",level:3},{value:"Usage Guidelines",id:"usage-guidelines",level:2},{value:"Development Best Practices",id:"development-best-practices",level:3},{value:"Common Use Cases",id:"common-use-cases",level:3},{value:"Debugging Workflow",id:"debugging-workflow",level:3},{value:"Dependencies",id:"dependencies",level:2},{value:"Required Systems",id:"required-systems",level:3},{value:"Global Functions Used",id:"global-functions-used",level:3},{value:"Related Modules",id:"related-modules",level:2},{value:"Notes",id:"notes",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"debug-helpers",children:"Debug Helpers"})}),"\n",(0,t.jsx)(n.h2,{id:"version-history",children:"Version History"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Build Version"}),(0,t.jsx)(n.th,{children:"Change Date"}),(0,t.jsx)(n.th,{children:"Change Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"676042"}),(0,t.jsx)(n.td,{children:"2025-06-21"}),(0,t.jsx)(n.td,{children:"stable"}),(0,t.jsx)(n.td,{children:"Current stable implementation"})]})})]}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"debughelpers"})," module provides essential debug utility functions for inspecting and analyzing entities, components, and function upvalues in Don't Starve Together. These functions are primarily used for debugging, troubleshooting, and understanding the internal structure of game objects during development."]}),"\n",(0,t.jsx)(n.admonition,{title:"Development Tool",type:"info",children:(0,t.jsx)(n.p,{children:"These functions are debugging utilities designed to help developers understand the internal state and structure of game objects. They output detailed information to the console for analysis."})}),"\n",(0,t.jsx)(n.h2,{id:"usage-example",children:"Usage Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'-- Dump detailed information about an entity\nlocal player = ThePlayer\nDumpEntity(player)\n\n-- Inspect a specific component\nDumpComponent(player.components.health)\n\n-- Analyze function upvalues\nlocal myFunction = function() return "test" end\nDumpUpvalues(myFunction)\n'})}),"\n",(0,t.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,t.jsx)(n.h3,{id:"dump-component",children:"DumpComponent(comp)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Status:"})," ",(0,t.jsx)(n.code,{children:"stable"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Description:"}),"\nOutputs detailed information about a component to the console, including all properties and methods with their source locations."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"comp"})," (Component): The component instance to dump"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Output Information:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Functions"}),": Function name and source file location with line number"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Entity References"}),": Entity objects with validity status"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Properties"}),": All other properties with their current values"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"-- Dump player's health component\nlocal player = ThePlayer\nDumpComponent(player.components.health)\n\n-- Output example:\n--       currenthealth = 100\n--       maxhealth = 100\n--       SetHealth = function - scripts/components/health.lua:45\n--       DoDelta = function - scripts/components/health.lua:67\n--       owner = [entity 100001] (valid:true)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Version History:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Current implementation since build 676042"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"dump-entity",children:"DumpEntity(ent)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Status:"})," ",(0,t.jsx)(n.code,{children:"stable"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Description:"}),"\nProvides comprehensive debugging output for an entity, including entity properties, debug string, and detailed information for all attached components."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ent"})," (Entity): The entity instance to dump"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Output Structure:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Header"}),": Entity identification and debug string"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Entity Properties"}),": All entity-level properties and methods"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Component Analysis"}),": Detailed dump of each attached component"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"-- Dump complete entity information\nlocal player = ThePlayer\nDumpEntity(player)\n\n-- Output structure:\n-- ============================================ Dumping entity [entity] ============================================\n-- [Entity debug string output]\n-- --------------------------------------------------------------------------------------------------------------------\n-- [Entity properties and methods]\n-- --------------------------------------------------------------------------------------------------------------------\n-- Dumping component health\n--       [Component details]\n-- Dumping component inventory\n--       [Component details]\n-- ====================================================================================================================================\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Output Details:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Functions"}),": Listed with source file and line number information"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Entity References"}),": Shown with validity status when applicable"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Component Breakdown"}),": Each component is individually analyzed using ",(0,t.jsx)(n.code,{children:"DumpComponent"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Version History:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Current implementation since build 676042"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"dump-upvalues",children:"DumpUpvalues(func)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Status:"})," ",(0,t.jsx)(n.code,{children:"stable"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Description:"}),"\nAnalyzes and displays all upvalues (external variables) captured by a function closure, providing insight into function scope and variable capture."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"func"})," (function): The function whose upvalues should be analyzed"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Output Information:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Function Metadata"}),": Function name, source file, and definition line"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Upvalue Count"}),": Total number of captured upvalues"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Upvalue Details"}),": Index, name, type, and current value for each upvalue"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'-- Analyze function upvalues\nlocal captured_var = "test_value"\nlocal my_function = function()\n    return captured_var .. "_modified"\nend\n\nDumpUpvalues(my_function)\n\n-- Output example:\n-- ============================================ Dumping Upvalues ============================================\n-- Upvalues (1 of \'em) for function nil defined at @console:2\n-- 1:    captured_var (string)    = test_value\n-- --------------------------------------------------------------------------------------------------------------------\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Closure Analysis"}),": Understanding what variables a function captures"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Memory Debugging"}),": Identifying potential memory leaks through upvalue references"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scope Investigation"}),": Analyzing variable scope and capture behavior"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Function Optimization"}),": Understanding function dependencies for optimization"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Version History:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Current implementation since build 676042"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"technical-implementation",children:"Technical Implementation"}),"\n",(0,t.jsx)(n.h3,{id:"debug-information-sources",children:"Debug Information Sources"}),"\n",(0,t.jsx)(n.p,{children:"The module utilizes Lua's built-in debug library for introspection:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"debug.getinfo()"})}),": Retrieves function metadata including source location"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"debug.getupvalue()"})}),": Accesses function upvalue information"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Entity Debug System"}),": Uses entity-specific debug methods"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"output-formatting",children:"Output Formatting"}),"\n",(0,t.jsx)(n.p,{children:"All functions use consistent formatting patterns:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hierarchical Structure"}),": Clear indentation for nested information"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Type Information"}),": Explicit type indicators for all values"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Validity Checks"}),": Entity validity status when applicable"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Source Tracking"}),": File and line number information for functions"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Console Output"}),": All functions output directly to console"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Memory Usage"}),": Temporary strings created for formatting"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Iteration Overhead"}),": Complete traversal of object properties"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Debug Library"}),": Uses reflection which has performance implications"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"usage-guidelines",children:"Usage Guidelines"}),"\n",(0,t.jsx)(n.h3,{id:"development-best-practices",children:"Development Best Practices"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Console Preparation"}),": Ensure console output is visible and accessible"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Large Objects"}),": Be cautious when dumping entities with many components"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Output Management"}),": Consider redirecting output for large dumps"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Performance Impact"}),": Avoid using in performance-critical code paths"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"common-use-cases",children:"Common Use Cases"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"-- Entity debugging during development\nlocal suspicious_entity = c_sel() -- Get selected entity\nDumpEntity(suspicious_entity)\n\n-- Component state analysis\nlocal health_comp = ThePlayer.components.health\nDumpComponent(health_comp)\n\n-- Function closure investigation\nlocal closure_func = some_module.create_closure()\nDumpUpvalues(closure_func)\n\n-- Component comparison\nDumpComponent(entity1.components.health)\nDumpComponent(entity2.components.health)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"debugging-workflow",children:"Debugging Workflow"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Identify Target"}),": Determine which entity, component, or function to analyze"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Capture State"}),": Use appropriate dump function at the right moment"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Analyze Output"}),": Review console output for relevant information"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Compare States"}),": Use multiple dumps to track changes over time"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Document Findings"}),": Record important discoveries for future reference"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,t.jsx)(n.h3,{id:"required-systems",children:"Required Systems"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Lua Debug Library"}),": Core functionality for introspection"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Entity Framework"}),": Entity and component structure access"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Console System"}),": Output destination for debug information"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"global-functions-used",children:"Global Functions Used"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"debug.getinfo()"}),": Function metadata retrieval"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"debug.getupvalue()"}),": Upvalue access and analysis"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pairs()"}),": Property iteration"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tostring()"}),": Value string conversion"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"related-modules",children:"Related Modules"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/dst-api-webdocs/docs/game-scripts/core-systems/development-tools/debugging/debugcommands",children:"Debug Commands"}),": Command-line debug utilities"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/dst-api-webdocs/docs/game-scripts/core-systems/development-tools/debugging/debugkeys",children:"Debug Keys"}),": Debug input handling"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/dst-api-webdocs/docs/game-scripts/core-systems/development-tools/debugging/debugprint",children:"Debug Print"}),": Debug output formatting utilities"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Development Tool"}),": These functions are debugging aids, not gameplay features"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Console Dependency"}),": All output goes to console, requiring console access"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Reflection Performance"}),": Debug operations have performance overhead"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Object Traversal"}),": Functions perform complete object property traversal"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Memory Considerations"}),": Large objects may produce extensive output"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Thread Safety"}),": Functions should be used from main thread context"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);