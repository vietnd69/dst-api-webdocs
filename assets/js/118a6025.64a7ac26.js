"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[19293],{10846:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"game-scripts/core-systems/localization-content/content/signgenerator","title":"Sign Generator","description":"Utility module for generating random sign descriptions based on ground type and predefined string patterns","source":"@site/docs/game-scripts/core-systems/localization-content/content/signgenerator.md","sourceDirName":"game-scripts/core-systems/localization-content/content","slug":"/game-scripts/core-systems/localization-content/content/signgenerator","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/localization-content/content/signgenerator","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"signgenerator","title":"Sign Generator","description":"Utility module for generating random sign descriptions based on ground type and predefined string patterns","sidebar_position":4,"last_updated":"2025-06-21T00:00:00.000Z","build_version":676042,"change_status":"stable"},"sidebar":"docs","previous":{"title":"Scrapbook Prefabs","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/localization-content/content/scrapbook-prefabs"},"next":{"title":"Strings Stage Actor","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/localization-content/content/strings-stageactor"}}');var t=i(74848),r=i(28453);const d={id:"signgenerator",title:"Sign Generator",description:"Utility module for generating random sign descriptions based on ground type and predefined string patterns",sidebar_position:4,last_updated:new Date("2025-06-21T00:00:00.000Z"),build_version:676042,change_status:"stable"},o="Sign Generator",l={},a=[{value:"Version History",id:"version-history",level:2},{value:"Overview",id:"overview",level:2},{value:"Usage Example",id:"usage-example",level:2},{value:"Functions",id:"functions",level:2},{value:"GenerateRandomDescription(inst, doer)",id:"generate-random-description",level:3},{value:"Data Structures",id:"data-structures",level:2},{value:"STRINGS.SIGNS Components",id:"stringssigns-components",level:3},{value:"Quantifiers (40% probability)",id:"quantifiers-40-probability",level:4},{value:"Adjectives (100% probability)",id:"adjectives-100-probability",level:4},{value:"Ground-Type Specific Nouns",id:"ground-type-specific-nouns",level:4},{value:"Default Nouns",id:"default-nouns",level:4},{value:"Additions (20% probability)",id:"additions-20-probability",level:4},{value:"Format Strings",id:"format-strings",level:3},{value:"Integration Points",id:"integration-points",level:2},{value:"Ground Type Detection",id:"ground-type-detection",level:3},{value:"String Formatting",id:"string-formatting",level:3},{value:"Usage Context",id:"usage-context",level:3},{value:"Common Usage Patterns",id:"common-usage-patterns",level:2},{value:"Manual Integration",id:"manual-integration",level:3},{value:"Probability Customization",id:"probability-customization",level:3},{value:"Related Modules",id:"related-modules",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"sign-generator",children:"Sign Generator"})}),"\n",(0,t.jsx)(n.h2,{id:"version-history",children:"Version History"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Build Version"}),(0,t.jsx)(n.th,{children:"Change Date"}),(0,t.jsx)(n.th,{children:"Change Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"676042"}),(0,t.jsx)(n.td,{children:"2025-06-21"}),(0,t.jsx)(n.td,{children:"stable"}),(0,t.jsx)(n.td,{children:"Current version"})]})})]}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"Sign Generator"})," is a utility module that generates random descriptive text for signs based on the player's current ground type and predefined string patterns. It creates contextually appropriate descriptions by combining quantifiers, adjectives, nouns, and additions from the ",(0,t.jsx)(n.code,{children:"STRINGS.SIGNS"})," data structure."]}),"\n",(0,t.jsx)(n.h2,{id:"usage-example",children:"Usage Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'local signgenerator = require("signgenerator")\n\n-- Generate random description for a sign\nlocal description = signgenerator(inst, doer)\n-- Returns something like: "Very Dangerous Swamp of Perilousness"\n'})}),"\n",(0,t.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,t.jsx)(n.h3,{id:"generate-random-description",children:"GenerateRandomDescription(inst, doer)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Status:"})," ",(0,t.jsx)(n.code,{children:"stable"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Description:"}),"\nGenerates a random descriptive text string for signs based on the doer's current ground tile type. The function combines various text elements with configurable probability to create varied and contextually appropriate descriptions."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"inst"})," (entity): The sign entity instance (currently unused in function logic)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"doer"})," (entity): The player entity used to determine current ground tile type"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"(string): A randomly generated description formatted according to available components"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Quantifier Selection"})," (40% chance): Randomly selects from ",(0,t.jsx)(n.code,{children:"STRINGS.SIGNS.QUANTIFIERS"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Adjective Selection"})," (100% chance): Always selects from ",(0,t.jsx)(n.code,{children:"STRINGS.SIGNS.ADJECTIVES"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Noun Selection"})," (100% chance): Selects from ground-type-specific nouns or defaults"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Addition Selection"})," (20% chance): Randomly selects from ",(0,t.jsx)(n.code,{children:"STRINGS.SIGNS.ADDITIONS"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Format Assembly"}),": Combines elements using appropriate format string"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'-- Player standing on marsh ground (tile type 8)\nlocal description = GenerateRandomDescription(inst, player)\n-- Possible outputs:\n-- "Wet Marsh"\n-- "Extremely Dangerous Swamp of Shadows"\n-- "Lonely Bog infested with Monsters"\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Format Patterns:"}),"\nThe function uses four different format strings based on component availability:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"QUANT_ADJ_NOUN_ADD_FMT"}),": When both quantifier and addition are present"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"QUANT_ADJ_NOUN_FMT"}),": When only quantifier is present"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ADJ_NOUN_ADD_FMT"}),": When only addition is present"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ADJ_NOUN_FMT"}),": When neither quantifier nor addition are present"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"data-structures",children:"Data Structures"}),"\n",(0,t.jsx)(n.h3,{id:"stringssigns-components",children:"STRINGS.SIGNS Components"}),"\n",(0,t.jsxs)(n.p,{children:["The module relies on predefined string collections in ",(0,t.jsx)(n.code,{children:"STRINGS.SIGNS"}),":"]}),"\n",(0,t.jsx)(n.h4,{id:"quantifiers-40-probability",children:"Quantifiers (40% probability)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'STRINGS.SIGNS.QUANTIFIERS = {\n    "Really", "Very", "Quite", "Very Very", "Extremely",\n    "Moderately", "Minimally", "Sort of", "Totally"\n}\n'})}),"\n",(0,t.jsx)(n.h4,{id:"adjectives-100-probability",children:"Adjectives (100% probability)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'STRINGS.SIGNS.ADJECTIVES = {\n    "Sunny", "Dark", "Dangerous", "Creepy", "Wet", "Huge",\n    "Picturesque", "Boring", "Magnificent", "Awesome", ...\n}\n'})}),"\n",(0,t.jsx)(n.h4,{id:"ground-type-specific-nouns",children:"Ground-Type Specific Nouns"}),"\n",(0,t.jsx)(n.p,{children:"The module selects nouns based on the doer's current tile type:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Ground Type"}),(0,t.jsx)(n.th,{children:"Example Nouns"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Road (2)"}),(0,t.jsx)(n.td,{children:'"Road", "Path"'})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Rock (3)"}),(0,t.jsx)(n.td,{children:'"Crag", "Area", "Rocky Place"'})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Dirt (4)"}),(0,t.jsx)(n.td,{children:'"Patch", "Turf", "Tract"'})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Savanna (5)"}),(0,t.jsx)(n.td,{children:'"Savannah", "Grassland", "Prairie"'})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Grass (6)"}),(0,t.jsx)(n.td,{children:'"Field", "Pasture", "Garden"'})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Forest (7)"}),(0,t.jsx)(n.td,{children:'"Forest", "Woods", "Grove"'})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Marsh (8)"}),(0,t.jsx)(n.td,{children:'"Marsh", "Swamp", "Bog"'})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Cave Types (13-25)"}),(0,t.jsx)(n.td,{children:'"Cave"'})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Desert (31)"}),(0,t.jsx)(n.td,{children:'"Desert", "Badlands", "Flats"'})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"default-nouns",children:"Default Nouns"}),"\n",(0,t.jsx)(n.p,{children:"Used when no ground-type-specific nouns are available:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'STRINGS.SIGNS.DEFAULT_NOUNS = {\n    "Spot", "Area", "Region", "Point", "Locality", "Site"\n}\n'})}),"\n",(0,t.jsx)(n.h4,{id:"additions-20-probability",children:"Additions (20% probability)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'STRINGS.SIGNS.ADDITIONS = {\n    "of Perilousness", "of Danger", "of Shadows",\n    "infested with Monsters", "full of Bees", ...\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"format-strings",children:"Format Strings"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'STRINGS.SIGNS.ADJ_NOUN_FMT = "{adjective} {noun}"\nSTRINGS.SIGNS.ADJ_NOUN_ADD_FMT = "{adjective} {noun} {addition}"\nSTRINGS.SIGNS.QUANT_ADJ_NOUN_FMT = "{quantifier} {adjective} {noun}"\nSTRINGS.SIGNS.QUANT_ADJ_NOUN_ADD_FMT = "{quantifier} {adjective} {noun} {addition}"\n'})}),"\n",(0,t.jsx)(n.h2,{id:"integration-points",children:"Integration Points"}),"\n",(0,t.jsx)(n.h3,{id:"ground-type-detection",children:"Ground Type Detection"}),"\n",(0,t.jsxs)(n.p,{children:["The module uses ",(0,t.jsx)(n.code,{children:"doer:GetCurrentTileType()"})," to determine the appropriate noun category. This integrates with:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Tile System"}),": Ground tile type constants"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Player Entity"}),": Current position and tile detection"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"string-formatting",children:"String Formatting"}),"\n",(0,t.jsxs)(n.p,{children:["Uses ",(0,t.jsx)(n.code,{children:"subfmt()"})," function for string interpolation with named parameters."]}),"\n",(0,t.jsx)(n.h3,{id:"usage-context",children:"Usage Context"}),"\n",(0,t.jsx)(n.p,{children:"This module is typically used by:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Sign Entities"}),": When players choose random text generation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Menu Systems"}),": Random button functionality in sign writing interface"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"common-usage-patterns",children:"Common Usage Patterns"}),"\n",(0,t.jsx)(n.h3,{id:"manual-integration",children:"Manual Integration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'local signgenerator = require("signgenerator")\n\n-- In sign interaction code\nlocal function OnRandomPressed(inst, doer, widget)\n    local description = signgenerator(inst, doer)\n    widget:SetText(description)\nend\n'})}),"\n",(0,t.jsx)(n.h3,{id:"probability-customization",children:"Probability Customization"}),"\n",(0,t.jsx)(n.p,{children:"The module uses fixed probabilities:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Quantifier: 40% chance (",(0,t.jsx)(n.code,{children:"math.random() < .4"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:["Addition: 20% chance (",(0,t.jsx)(n.code,{children:"math.random() < .2"}),")"]}),"\n",(0,t.jsx)(n.li,{children:"Adjective and Noun: 100% chance (always included)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"related-modules",children:"Related Modules"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./strings.md",children:(0,t.jsx)(n.strong,{children:"Strings"})}),": Contains all the text data used by the generator"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./writeables.md",children:(0,t.jsx)(n.strong,{children:"Writeables"})}),": Implements sign writing interface that uses this generator"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./constants.md",children:(0,t.jsx)(n.strong,{children:"Constants"})}),": Defines ground tile type values used for noun selection"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>o});var s=i(96540);const t={},r=s.createContext(t);function d(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);