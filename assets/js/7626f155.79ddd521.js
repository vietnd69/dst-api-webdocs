"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[58921],{7055:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"game-scripts/core-systems/game-mechanics/cooking/spicedfoods","title":"Spiced Foods","description":"System for generating spiced variants of food items with additional effects and properties","source":"@site/docs/game-scripts/core-systems/game-mechanics/cooking/spicedfoods.md","sourceDirName":"game-scripts/core-systems/game-mechanics/cooking","slug":"/game-scripts/core-systems/game-mechanics/cooking/spicedfoods","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/game-mechanics/cooking/spicedfoods","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"id":"spicedfoods","title":"Spiced Foods","description":"System for generating spiced variants of food items with additional effects and properties","sidebar_position":6,"last_updated":"2025-06-21T00:00:00.000Z","build_version":676042,"change_status":"stable"}}');var d=n(74848),r=n(28453);const c={id:"spicedfoods",title:"Spiced Foods",description:"System for generating spiced variants of food items with additional effects and properties",sidebar_position:6,last_updated:new Date("2025-06-21T00:00:00.000Z"),build_version:676042,change_status:"stable"},o="Spiced Foods",t={},a=[{value:"Version History",id:"version-history",level:2},{value:"Overview",id:"overview",level:2},{value:"Usage Example",id:"usage-example",level:2},{value:"Spice Types",id:"spice-types",level:2},{value:"SPICE_GARLIC",id:"spice_garlic",level:3},{value:"SPICE_SUGAR",id:"spice_sugar",level:3},{value:"SPICE_CHILI",id:"spice_chili",level:3},{value:"SPICE_SALT",id:"spice_salt",level:3},{value:"Functions",id:"functions",level:2},{value:"GenerateSpicedFoods(foods)",id:"generate-spiced-foods",level:3},{value:"Constants",id:"constants",level:2},{value:"SPICES",id:"spices",level:3},{value:"Module Initialization",id:"module-initialization",level:2},{value:"Recipe Testing",id:"recipe-testing",level:2},{value:"Related Modules",id:"related-modules",level:2}];function l(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.header,{children:(0,d.jsx)(s.h1,{id:"spiced-foods",children:"Spiced Foods"})}),"\n",(0,d.jsx)(s.h2,{id:"version-history",children:"Version History"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Build Version"}),(0,d.jsx)(s.th,{children:"Change Date"}),(0,d.jsx)(s.th,{children:"Change Type"}),(0,d.jsx)(s.th,{children:"Description"})]})}),(0,d.jsx)(s.tbody,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"676042"}),(0,d.jsx)(s.td,{children:"2025-06-21"}),(0,d.jsx)(s.td,{children:"stable"}),(0,d.jsx)(s.td,{children:"Current version"})]})})]}),"\n",(0,d.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,d.jsxs)(s.p,{children:["The ",(0,d.jsx)(s.code,{children:"spicedfoods"})," system provides functionality for generating spiced variants of food items. It defines different spice types with unique effects and automatically creates spiced versions of all prepared foods with modified properties and additional buffs when consumed."]}),"\n",(0,d.jsx)(s.h2,{id:"usage-example",children:"Usage Example"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-lua",children:'-- The spiced foods are automatically generated when the module loads\nlocal spicedfoods = require("spicedfoods")\n\n-- Access a specific spiced food\nlocal spiced_meatballs_garlic = spicedfoods["meatballs_spice_garlic"]\n'})}),"\n",(0,d.jsx)(s.h2,{id:"spice-types",children:"Spice Types"}),"\n",(0,d.jsx)(s.h3,{id:"spice_garlic",children:"SPICE_GARLIC"}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Status:"})," ",(0,d.jsx)(s.code,{children:"stable"})]}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Description:"}),"\nGarlic spice that provides damage absorption when consumed."]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Effect:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["Adds ",(0,d.jsx)(s.code,{children:"buff_playerabsorption"})," debuff to the eater"]}),"\n",(0,d.jsx)(s.li,{children:"Provides damage reduction capabilities"}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Example:"})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-lua",children:'local function oneaten_garlic(inst, eater)\n    eater:AddDebuff("buff_playerabsorption", "buff_playerabsorption")\nend\n'})}),"\n",(0,d.jsx)(s.h3,{id:"spice_sugar",children:"SPICE_SUGAR"}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Status:"})," ",(0,d.jsx)(s.code,{children:"stable"})]}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Description:"}),"\nSugar spice that enhances work effectiveness when consumed."]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Effect:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["Adds ",(0,d.jsx)(s.code,{children:"buff_workeffectiveness"})," debuff to the eater"]}),"\n",(0,d.jsx)(s.li,{children:"Improves work speed and efficiency"}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Example:"})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-lua",children:'local function oneaten_sugar(inst, eater)\n    eater:AddDebuff("buff_workeffectiveness", "buff_workeffectiveness")\nend\n'})}),"\n",(0,d.jsx)(s.h3,{id:"spice_chili",children:"SPICE_CHILI"}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Status:"})," ",(0,d.jsx)(s.code,{children:"stable"})]}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Description:"}),"\nChili spice that increases attack power and adds temperature effects when consumed."]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Effect:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["Adds ",(0,d.jsx)(s.code,{children:"buff_attack"})," debuff to the eater"]}),"\n",(0,d.jsx)(s.li,{children:"Increases damage output"}),"\n",(0,d.jsx)(s.li,{children:"Adds or enhances temperature effects to the food"}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Temperature Modifications:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["For regular food: Adds permanent heat effect (",(0,d.jsx)(s.code,{children:"TUNING.HOT_FOOD_BONUS_TEMP"}),")"]}),"\n",(0,d.jsx)(s.li,{children:"For hot food: Upgrades to permanent heat with extended duration"}),"\n",(0,d.jsxs)(s.li,{children:["Sets ",(0,d.jsx)(s.code,{children:"nochill = true"})," to prevent cooling"]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Example:"})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-lua",children:'local function oneaten_chili(inst, eater)\n    eater:AddDebuff("buff_attack", "buff_attack")\nend\n'})}),"\n",(0,d.jsx)(s.h3,{id:"spice_salt",children:"SPICE_SALT"}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Status:"})," ",(0,d.jsx)(s.code,{children:"stable"})]}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Description:"}),"\nSalt spice with no additional effects beyond the base spiced food properties."]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Effect:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:"No special buff or debuff effects"}),"\n",(0,d.jsx)(s.li,{children:"Only provides the standard spiced food modifications"}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"functions",children:"Functions"}),"\n",(0,d.jsx)(s.h3,{id:"generate-spiced-foods",children:"GenerateSpicedFoods(foods)"}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Status:"})," ",(0,d.jsx)(s.code,{children:"stable"})]}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Description:"}),"\nGenerates spiced variants for all foods in the provided food table. Creates new food entries with spice-specific modifications and effects."]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Parameters:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"foods"})," (table): Table of food definitions to generate spiced variants for"]}),"\n"]}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Generated Properties:"}),"\nEach spiced food receives these modifications:"]}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"test"})," (function): Recipe test function checking for base food and spice"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"priority"})," (number): Recipe priority (100 for normal foods, -10 for wetgoop)"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"cooktime"})," (number): Fixed at 0.12 seconds"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"stacksize"})," (nil): Removes stacking capability"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"spice"})," (string): Spice type identifier (uppercase)"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"basename"})," (string): Original food name"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"name"}),' (string): Generated name in format "foodname_spicename"']}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"floater"})," (table): Floating properties ",(0,d.jsx)(s.code,{children:'{"med", nil, {0.85, 0.7, 0.85}}'})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"official"})," (boolean): Always set to ",(0,d.jsx)(s.code,{children:"true"})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"cookbook_category"}),' (string): Prefixed with "spiced_" if original has category']}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Special Handling:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Wetgoop"}),": Uses simplified test function checking only for spice presence"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Chili Spice"}),": Adds temperature effects and ",(0,d.jsx)(s.code,{children:"nochill"})," property"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Buff Integration"}),": Merges spice prefabs with existing food prefabs"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Effect Chaining"}),": Combines spice effects with existing food effects"]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Example:"})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-lua",children:'-- Generate spiced foods from prepared foods\nGenerateSpicedFoods(require("preparedfoods"))\nGenerateSpicedFoods(require("preparedfoods_warly"))\n\n-- Resulting spiced food example\nlocal spiced_meatballs = {\n    name = "meatballs_spice_garlic",\n    basename = "meatballs",\n    spice = "SPICE_GARLIC",\n    priority = 100,\n    cooktime = 0.12,\n    test = function(cooker, names, tags) \n        return names["meatballs"] and names["spice_garlic"] \n    end,\n    oneatenfn = function(inst, eater)\n        eater:AddDebuff("buff_playerabsorption", "buff_playerabsorption")\n        -- Original meatballs effects would also be called\n    end,\n    prefabs = { "buff_playerabsorption" },\n    floater = {"med", nil, {0.85, 0.7, 0.85}},\n    official = true\n}\n'})}),"\n",(0,d.jsx)(s.h2,{id:"constants",children:"Constants"}),"\n",(0,d.jsx)(s.h3,{id:"spices",children:"SPICES"}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Value:"})," Table containing spice definitions"]}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Status:"})," ",(0,d.jsx)(s.code,{children:"stable"})]}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Description:"}),"\nCentral definition table for all available spices and their properties."]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Structure:"})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-lua",children:'local SPICES = {\n    SPICE_GARLIC = { \n        oneatenfn = oneaten_garlic, \n        prefabs = { "buff_playerabsorption" } \n    },\n    SPICE_SUGAR = { \n        oneatenfn = oneaten_sugar, \n        prefabs = { "buff_workeffectiveness" } \n    },\n    SPICE_CHILI = { \n        oneatenfn = oneaten_chili, \n        prefabs = { "buff_attack" } \n    },\n    SPICE_SALT = {}\n}\n'})}),"\n",(0,d.jsx)(s.h2,{id:"module-initialization",children:"Module Initialization"}),"\n",(0,d.jsx)(s.p,{children:"The module automatically generates spiced foods for:"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["Standard prepared foods from ",(0,d.jsx)(s.code,{children:"preparedfoods.lua"})]}),"\n",(0,d.jsxs)(s.li,{children:["Warly-specific prepared foods from ",(0,d.jsx)(s.code,{children:"preparedfoods_warly.lua"})]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Initialization Code:"})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-lua",children:'GenerateSpicedFoods(require("preparedfoods"))\nGenerateSpicedFoods(require("preparedfoods_warly"))\n\nreturn spicedfoods\n'})}),"\n",(0,d.jsx)(s.h2,{id:"recipe-testing",children:"Recipe Testing"}),"\n",(0,d.jsx)(s.p,{children:"Spiced food recipes use specific test functions to validate ingredients:"}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Standard Foods:"})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-lua",children:"newdata.test = function(cooker, names, tags) \n    return names[foodname] and names[spicename] \nend\n"})}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Wetgoop Exception:"})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-lua",children:"newdata.test = function(cooker, names, tags) \n    return names[spicename] \nend\n"})}),"\n",(0,d.jsx)(s.h2,{id:"related-modules",children:"Related Modules"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.a,{href:"/dst-api-webdocs/docs/game-scripts/core-systems/game-mechanics/cooking/preparedfoods",children:"Prepared Foods"}),": Base food definitions that get spiced variants"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.a,{href:"/dst-api-webdocs/docs/game-scripts/core-systems/game-mechanics/cooking/preparedfoods-warly",children:"Prepared Foods Warly"}),": Warly-specific foods that get spiced variants"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.a,{href:"./tuning.md",children:"Tuning"}),": Contains temperature and timing constants used by spiced foods"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.a,{href:"/dst-api-webdocs/docs/game-scripts/core-systems/game-mechanics/cooking/",children:"Cooking"}),": Recipe system that processes spiced food recipes"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(l,{...e})}):l(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>c,x:()=>o});var i=n(96540);const d={},r=i.createContext(d);function c(e){const s=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:c(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);