"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[7278],{4019:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>l,default:()=>o,frontMatter:()=>r,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"api-vanilla/shared-properties/health-properties","title":"Health Properties","description":"Last Update: 2023-07-06","source":"@site/docs/api-vanilla/shared-properties/health-properties.md","sourceDirName":"api-vanilla/shared-properties","slug":"/api-vanilla/shared-properties/health-properties","permalink":"/dst-api-webdocs/docs/api-vanilla/shared-properties/health-properties","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"health-properties","title":"Health Properties","sidebar_position":2,"last_updated":"2023-07-06T00:00:00.000Z","version":619045},"sidebar":"docs","previous":{"title":"Shared Node Properties Overview","permalink":"/dst-api-webdocs/docs/api/shared-properties"},"next":{"title":"Interaction Properties","permalink":"/dst-api-webdocs/docs/api-vanilla/shared-properties/interaction-properties"}}');var s=t(4848),i=t(8453);const r={id:"health-properties",title:"Health Properties",sidebar_position:2,last_updated:new Date("2023-07-06T00:00:00.000Z"),version:619045},l="Health Properties",h={},d=[{value:"Core Health Properties",id:"core-health-properties",level:2},{value:"Health Interactions",id:"health-interactions",level:2},{value:"Damage Flow",id:"damage-flow",level:3},{value:"Protection Mechanics",id:"protection-mechanics",level:3},{value:"Healing Mechanics",id:"healing-mechanics",level:3},{value:"Health-Related Components",id:"health-related-components",level:2},{value:"Health States",id:"health-states",level:2},{value:"Special Health Mechanics",id:"special-health-mechanics",level:2},{value:"Health Penalties",id:"health-penalties",level:3},{value:"Resurrection and Death Prevention",id:"resurrection-and-death-prevention",level:3},{value:"Health Visualization",id:"health-visualization",level:3},{value:"Common Health Events",id:"common-health-events",level:2},{value:"See also",id:"see-also",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Last Update: 2023-07-06"})}),"\n",(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"health-properties",children:"Health Properties"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"API Version: 619045"})}),"\n",(0,s.jsx)(n.p,{children:"Health properties are a set of shared attributes and mechanics that govern how entities manage their health state in Don't Starve Together. These properties span across multiple components but follow consistent patterns for damage, healing, and death mechanics."}),"\n",(0,s.jsx)(n.h2,{id:"core-health-properties",children:"Core Health Properties"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"currenthealth"})}),(0,s.jsx)(n.td,{children:"Number"}),(0,s.jsx)(n.td,{children:"Current health value of the entity"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"maxhealth"})}),(0,s.jsx)(n.td,{children:"Number"}),(0,s.jsx)(n.td,{children:"Maximum possible health value"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"minhealth"})}),(0,s.jsx)(n.td,{children:"Number"}),(0,s.jsx)(n.td,{children:"Minimum health value (usually 0)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"invincible"})}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsx)(n.td,{children:"Whether the entity can take damage"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"vulnerabletoheatdamage"})}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsx)(n.td,{children:"Whether entity takes damage from overheating"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"vulnerabletocold"})}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsx)(n.td,{children:"Whether entity takes damage from freezing"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"fire_damage_scale"})}),(0,s.jsx)(n.td,{children:"Number"}),(0,s.jsx)(n.td,{children:"Multiplier for fire damage"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"absorb"})}),(0,s.jsx)(n.td,{children:"Number"}),(0,s.jsx)(n.td,{children:"Amount of damage absorption (0-1 range)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"playerabsorb"})}),(0,s.jsx)(n.td,{children:"Number"}),(0,s.jsx)(n.td,{children:"Damage absorption specifically from player attacks"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"penalty"})}),(0,s.jsx)(n.td,{children:"Number"}),(0,s.jsx)(n.td,{children:"Health penalty (reduces maximum health)"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"health-interactions",children:"Health Interactions"}),"\n",(0,s.jsx)(n.p,{children:"Health properties interact across multiple components to create a cohesive damage and healing system:"}),"\n",(0,s.jsx)(n.h3,{id:"damage-flow",children:"Damage Flow"}),"\n",(0,s.jsx)(n.p,{children:"When an entity takes damage, the process typically follows this flow:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Combat Component"})," initiates damage via ",(0,s.jsx)(n.code,{children:"DoAttack()"})," or similar functions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Armor Component"})," (if present) absorbs a percentage of damage via ",(0,s.jsx)(n.code,{children:"absorb_percent"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Health Component"})," applies remaining damage via ",(0,s.jsx)(n.code,{children:"DoDelta()"})]}),"\n",(0,s.jsx)(n.li,{children:"If health reaches zero, death events are triggered"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Example damage flow\nfunction ApplyDamage(target, damage, attacker, weapon)\n    -- Combat component initiates attack\n    if target.components.combat then\n        target.components.combat:GetAttacked(attacker, damage, weapon)\n    else\n        -- Direct health modification if no combat component\n        if target.components.health then\n            target.components.health:DoDelta(-damage)\n        end\n    end\nend\n"})}),"\n",(0,s.jsx)(n.h3,{id:"protection-mechanics",children:"Protection Mechanics"}),"\n",(0,s.jsx)(n.p,{children:"Protection against damage is handled through several properties:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Damage Absorption"}),": Reduces damage by a percentage (0-1)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Invincibility"}),": Completely prevents damage when true"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Immunity Tags"}),": Specific damage types that can be negated"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Weakness Tags"}),": Damage types that bypass protection"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Example damage reduction calculation\nfunction CalculateReducedDamage(damage, absorb_percent, weakness_mult)\n    local reduced_damage = damage * (1 - absorb_percent)\n    if weakness_mult then\n        reduced_damage = reduced_damage * weakness_mult\n    end\n    return math.max(0, reduced_damage)\nend\n"})}),"\n",(0,s.jsx)(n.h3,{id:"healing-mechanics",children:"Healing Mechanics"}),"\n",(0,s.jsx)(n.p,{children:"Healing can come from multiple sources and is processed through health properties:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Direct Healing"}),": Via ",(0,s.jsx)(n.code,{children:"Health:DoDelta(positive_amount)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Food Healing"}),": Via ",(0,s.jsx)(n.code,{children:"Edible.healthvalue"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Regeneration"}),": Automatic healing over time via ",(0,s.jsx)(n.code,{children:"StartRegen()"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sleep Healing"}),": Healing while sleeping"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"health-related-components",children:"Health-Related Components"}),"\n",(0,s.jsx)(n.p,{children:"Several components interact with health properties:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Component"}),(0,s.jsx)(n.th,{children:"Key Health Interactions"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/health",children:"Health"})}),(0,s.jsxs)(n.td,{children:["Core health management (",(0,s.jsx)(n.code,{children:"DoDelta"}),", ",(0,s.jsx)(n.code,{children:"SetMax"}),", etc.)"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/combat",children:"Combat"})}),(0,s.jsx)(n.td,{children:"Damage dealing, attack handling"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/armor",children:"Armor"})}),(0,s.jsxs)(n.td,{children:["Damage absorption via ",(0,s.jsx)(n.code,{children:"absorb_percent"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/edible",children:"Edible"})}),(0,s.jsxs)(n.td,{children:["Health restoration via ",(0,s.jsx)(n.code,{children:"healthvalue"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/other-components",children:"Healer"})}),(0,s.jsx)(n.td,{children:"Direct healing functionality"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/other-components",children:"Spawner"})}),(0,s.jsx)(n.td,{children:"Respawn mechanics after death"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/other-components",children:"Resurrection"})}),(0,s.jsx)(n.td,{children:"Return from death with health restoration"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"health-states",children:"Health States"}),"\n",(0,s.jsx)(n.p,{children:"Entities can be in various health states:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Healthy"}),": Health above any critical thresholds"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Critical"}),": Health below critical threshold (often triggers special behaviors)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dead"}),": Health at or below zero"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Invincible"}),": Cannot take damage regardless of health value"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sleeping"}),": Often has modified health regeneration"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"special-health-mechanics",children:"Special Health Mechanics"}),"\n",(0,s.jsx)(n.p,{children:"The Don't Starve Together API implements several special health-related mechanics:"}),"\n",(0,s.jsx)(n.h3,{id:"health-penalties",children:"Health Penalties"}),"\n",(0,s.jsx)(n.p,{children:"Health penalties reduce maximum health while maintaining the same percentage of current health:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function ApplyHealthPenalty(inst, percent)\n    if inst.components.health then\n        inst.components.health:SetPenalty(percent)\n    end\nend\n"})}),"\n",(0,s.jsx)(n.h3,{id:"resurrection-and-death-prevention",children:"Resurrection and Death Prevention"}),"\n",(0,s.jsx)(n.p,{children:"Some mechanics allow preventing or reversing death:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PreventDeath(inst)\n    if inst.components.health then\n        inst.components.health.preventdeath = true\n    end\nend\n\nfunction AllowResurrection(inst)\n    if inst.components.health then\n        inst.components.health:SetCanMurder(false)\n    end\nend\n"})}),"\n",(0,s.jsx)(n.h3,{id:"health-visualization",children:"Health Visualization"}),"\n",(0,s.jsx)(n.p,{children:"Health properties are often visualized through:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Health Badges"}),": UI elements showing current/max health"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Health Bars"}),": Visual indicators above entities"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Visual Effects"}),": Blood splatter, healing effects, etc."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"common-health-events",children:"Common Health Events"}),"\n",(0,s.jsx)(n.p,{children:"Health properties trigger several standard events:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"death"})," - When an entity dies"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"healthdelta"})," - When health changes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"attacked"})," - When the entity receives damage"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"startfiredamage"})," / ",(0,s.jsx)(n.code,{children:"stopfiredamage"})," - For fire damage states"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/health",children:"Health Component"})," - Core component for health management"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/combat",children:"Combat Component"})," - For attack and damage handling"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/armor",children:"Armor Component"})," - For health protection mechanics"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/edible",children:"Edible Component"})," - For health restoration through food"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/hunger",children:"Hunger Component"})," - For another vital stat affecting health"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var a=t(6540);const s={},i=a.createContext(s);function r(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);