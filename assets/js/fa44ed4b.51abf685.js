"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[1333],{3965:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"api-vanilla/examples/character-mod","title":"Character Mod","description":"This tutorial walks through creating a custom character for Don\'t Starve Together. We\'ll create \\"Frostbite\\", a winter-themed character with unique abilities related to cold and ice.","source":"@site/docs/api-vanilla/examples/character-mod.md","sourceDirName":"api-vanilla/examples","slug":"/api-vanilla/examples/character-mod","permalink":"/dst-api-webdocs/docs/api-vanilla/examples/character-mod","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"character-mod","title":"Character Mod","sidebar_position":3,"last_updated":"2023-07-06T00:00:00.000Z"},"sidebar":"docs","previous":{"title":"Complex Item with Multiple Components","permalink":"/dst-api-webdocs/docs/api-vanilla/examples/complex-item"},"next":{"title":"Full Character Example","permalink":"/dst-api-webdocs/docs/api-vanilla/examples/full-character-example"}}');var a=t(4848),s=t(8453);const r={id:"character-mod",title:"Character Mod",sidebar_position:3,last_updated:new Date("2023-07-06T00:00:00.000Z")},o="Creating a Custom Character",l={},c=[{value:"Project Overview",id:"project-overview",level:2},{value:"Step 1: Set Up the Mod Structure",id:"step-1-set-up-the-mod-structure",level:2},{value:"Step 2: Create the modinfo.lua File",id:"step-2-create-the-modinfolua-file",level:2},{value:"Step 3: Create the modmain.lua File",id:"step-3-create-the-modmainlua-file",level:2},{value:"Step 4: Create the Character Prefab",id:"step-4-create-the-character-prefab",level:2},{value:"Step 5: Create the Character Skin File",id:"step-5-create-the-character-skin-file",level:2},{value:"Step 6: Create the Speech File",id:"step-6-create-the-speech-file",level:2},{value:"Step 7: Create Character Animations",id:"step-7-create-character-animations",level:2},{value:"Step 8: Testing Your Character",id:"step-8-testing-your-character",level:2},{value:"Customization Options",id:"customization-options",level:2},{value:"Add Custom Recipes",id:"add-custom-recipes",level:3},{value:"Add Special Abilities",id:"add-special-abilities",level:3},{value:"Add Custom Animations",id:"add-custom-animations",level:3},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:2},{value:"Problem: Character doesn&#39;t appear in the selection screen",id:"problem-character-doesnt-appear-in-the-selection-screen",level:3},{value:"Problem: Character appears but with missing textures",id:"problem-character-appears-but-with-missing-textures",level:3},{value:"Problem: Special abilities don&#39;t work",id:"problem-special-abilities-dont-work",level:3},{value:"Problem: Game crashes when selecting the character",id:"problem-game-crashes-when-selecting-the-character",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"creating-a-custom-character",children:"Creating a Custom Character"})}),"\n",(0,a.jsx)(n.p,{children:"This tutorial walks through creating a custom character for Don't Starve Together. We'll create \"Frostbite\", a winter-themed character with unique abilities related to cold and ice."}),"\n",(0,a.jsx)(n.h2,{id:"project-overview",children:"Project Overview"}),"\n",(0,a.jsx)(n.p,{children:"Our character will have these features:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Unique stats and abilities"}),"\n",(0,a.jsx)(n.li,{children:"Custom appearance"}),"\n",(0,a.jsx)(n.li,{children:"Special starting items"}),"\n",(0,a.jsx)(n.li,{children:"Unique perks related to temperature and ice"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"step-1-set-up-the-mod-structure",children:"Step 1: Set Up the Mod Structure"}),"\n",(0,a.jsx)(n.p,{children:"Create these folders and files:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"frostbite_character_mod/\n\u251c\u2500\u2500 modinfo.lua\n\u251c\u2500\u2500 modmain.lua\n\u251c\u2500\u2500 scripts/\n\u2502   \u2514\u2500\u2500 prefabs/\n\u2502       \u251c\u2500\u2500 frostbite.lua\n\u2502       \u2514\u2500\u2500 frostbite_none.lua\n\u251c\u2500\u2500 anim/\n\u2502   \u2514\u2500\u2500 frostbite.zip\n\u251c\u2500\u2500 bigportraits/\n\u2502   \u251c\u2500\u2500 frostbite.xml\n\u2502   \u2514\u2500\u2500 frostbite.tex\n\u251c\u2500\u2500 images/\n\u2502   \u251c\u2500\u2500 avatars/\n\u2502   \u2502   \u251c\u2500\u2500 avatar_frostbite.xml\n\u2502   \u2502   \u2514\u2500\u2500 avatar_frostbite.tex\n\u2502   \u251c\u2500\u2500 avatars_mini/\n\u2502   \u2502   \u251c\u2500\u2500 frostbite.xml\n\u2502   \u2502   \u2514\u2500\u2500 frostbite.tex\n\u2502   \u251c\u2500\u2500 names_frostbite.xml\n\u2502   \u2514\u2500\u2500 names_frostbite.tex\n\u2514\u2500\u2500 modicon.tex\n"})}),"\n",(0,a.jsx)(n.h2,{id:"step-2-create-the-modinfolua-file",children:"Step 2: Create the modinfo.lua File"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'name = "Frostbite"\ndescription = "A winter explorer with cold resistance and ice abilities"\nauthor = "Your Name"\nversion = "1.0.0"\n\n-- Compatible with Don\'t Starve Together\ndst_compatible = true\n\n-- Not compatible with Don\'t Starve\ndont_starve_compatible = false\nreign_of_giants_compatible = false\n\n-- This mod is required on clients\nall_clients_require_mod = true\n\n-- This mod is not a client-only mod\nclient_only_mod = false\n\n-- Icon displayed in the server list\nicon_atlas = "modicon.xml"\nicon = "modicon.tex"\n\n-- Tags that describe your mod\nserver_filter_tags = {\n    "character",\n}\n\n-- Configuration options\nconfiguration_options = {\n    {\n        name = "cold_resistance",\n        label = "Cold Resistance",\n        options = {\n            {description = "Low", data = 60},\n            {description = "Medium", data = 120, hover = "2 minutes of extra cold resistance"},\n            {description = "High", data = 180}\n        },\n        default = 120\n    },\n    {\n        name = "ice_damage",\n        label = "Ice Damage Bonus",\n        options = {\n            {description = "10%", data = 0.1},\n            {description = "25%", data = 0.25},\n            {description = "50%", data = 0.5}\n        },\n        default = 0.25\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"step-3-create-the-modmainlua-file",children:"Step 3: Create the modmain.lua File"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'-- Import globals into the environment\nGLOBAL.setmetatable(env, {__index = function(t, k) return GLOBAL.rawget(GLOBAL, k) end})\n\n-- Add character assets\nAssets = {\n    -- Character select screen\n    Asset("IMAGE", "bigportraits/frostbite.tex"),\n    Asset("ATLAS", "bigportraits/frostbite.xml"),\n    \n    -- Character avatar in HUD\n    Asset("IMAGE", "images/avatars/avatar_frostbite.tex"),\n    Asset("ATLAS", "images/avatars/avatar_frostbite.xml"),\n    \n    -- Mini map icon\n    Asset("IMAGE", "images/avatars_mini/frostbite.tex"),\n    Asset("ATLAS", "images/avatars_mini/frostbite.xml"),\n    \n    -- Character select screen name\n    Asset("IMAGE", "images/names_frostbite.tex"),\n    Asset("ATLAS", "images/names_frostbite.xml"),\n}\n\n-- Register the character prefabs\nPrefabFiles = {\n    "frostbite",\n    "frostbite_none",\n}\n\n-- Add the character to the game\nAddModCharacter("frostbite", "FEMALE")\n\n-- Add character-specific strings\nSTRINGS.NAMES.FROSTBITE = "Frostbite"\nSTRINGS.CHARACTER_TITLES.frostbite = "The Winter Explorer"\nSTRINGS.CHARACTER_DESCRIPTIONS.frostbite = "\u2022 Resistant to cold\\n\u2022 Does extra damage with ice weapons\\n\u2022 Gets hungry faster in summer"\nSTRINGS.CHARACTER_QUOTES.frostbite = "\\"The cold never bothered me anyway.\\""\nSTRINGS.CHARACTER_ABOUTME.frostbite = "Frostbite is a winter explorer who has adapted to the cold."\nSTRINGS.CHARACTER_BIOS.frostbite = {\n    { title = "Birthday", desc = "January 21" },\n    { title = "Favorite Food", desc = "Ice Cream" },\n    { title = "Hates", desc = "Summer heat" },\n}\n\n-- Add character speech file\nAddModCharacterSpeech("frostbite", "speech_frostbite")\n\n-- Add custom speech strings\nSTRINGS.CHARACTERS.FROSTBITE = require "speech_frostbite"\n\n-- Add ice damage bonus to weapons with the "iceweapon" tag\nAddComponentPostInit("weapon", function(self, inst)\n    local old_GetDamage = self.GetDamage\n    \n    function self:GetDamage(attacker, target)\n        local damage, stimuli = old_GetDamage(self, attacker, target)\n        \n        -- Check if the attacker is Frostbite and the weapon has the ice tag\n        if attacker and attacker:HasTag("frostbite") and inst:HasTag("iceweapon") then\n            local bonus = GetModConfigData("ice_damage") or 0.25\n            damage = damage * (1 + bonus)\n        end\n        \n        return damage, stimuli\n    end\nend)\n\n-- Add cold resistance\nAddPlayerPostInit(function(inst)\n    if inst.prefab == "frostbite" then\n        -- Add cold resistance tag\n        inst:AddTag("frostbite")\n        \n        -- Add temperature resistance\n        if inst.components.temperature then\n            local old_GetInsulation = inst.components.temperature.GetInsulation\n            \n            inst.components.temperature.GetInsulation = function(self)\n                local winter_insulation, summer_insulation = old_GetInsulation(self)\n                local cold_resistance = GetModConfigData("cold_resistance") or 120\n                return winter_insulation + cold_resistance, summer_insulation\n            end\n        end\n        \n        -- Increase hunger rate in summer\n        inst:ListenForEvent("seasonchange", function(src, data)\n            if data.season == "summer" then\n                inst.components.hunger.hungerrate = 1.5 * TUNING.WILSON_HUNGER_RATE\n            else\n                inst.components.hunger.hungerrate = TUNING.WILSON_HUNGER_RATE\n            end\n        end)\n    end\nend)\n'})}),"\n",(0,a.jsx)(n.h2,{id:"step-4-create-the-character-prefab",children:"Step 4: Create the Character Prefab"}),"\n",(0,a.jsxs)(n.p,{children:["Create ",(0,a.jsx)(n.code,{children:"scripts/prefabs/frostbite.lua"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'local MakePlayerCharacter = require "prefabs/player_common"\n\nlocal assets = {\n    Asset("SCRIPT", "scripts/prefabs/player_common.lua"),\n    Asset("ANIM", "anim/frostbite.zip"),\n    Asset("SOUND", "sound/willow.fsb"), -- Reuse Willow\'s sounds for now\n}\n\n-- Custom starting inventory\nlocal start_inv = {\n    "winterhat", -- Start with a winter hat\n    "torch",\n    "flint",\n    "twigs",\n}\n\n-- When the character is revived from ghost\nlocal function onbecamehuman(inst)\n    -- Set speed when revived\n    inst.components.locomotor:SetExternalSpeedMultiplier(inst, "frostbite_speed_mod", 1)\n    \n    -- Apply cold resistance\n    if inst.components.temperature then\n        local cold_resistance = GetModConfigData("cold_resistance") or 120\n        inst.components.temperature.inherentinsulation = cold_resistance\n    end\nend\n\n-- When the character turns into a ghost\nlocal function onbecameghost(inst)\n    -- Ghosts are slightly faster\n    inst.components.locomotor:SetExternalSpeedMultiplier(inst, "frostbite_speed_mod", 1.1)\n    \n    -- Remove cold resistance\n    if inst.components.temperature then\n        inst.components.temperature.inherentinsulation = 0\n    end\nend\n\n-- When loading or spawning the character\nlocal function onload(inst)\n    inst:ListenForEvent("ms_respawnedfromghost", onbecamehuman)\n    inst:ListenForEvent("ms_becameghost", onbecameghost)\n\n    if inst:HasTag("playerghost") then\n        onbecameghost(inst)\n    else\n        onbecamehuman(inst)\n    end\nend\n\n-- Special frost effect when near freezing enemies\nlocal function UpdateFrostAura(inst)\n    if inst.components.health:IsDead() or inst:HasTag("playerghost") then return end\n    \n    local x, y, z = inst.Transform:GetWorldPosition()\n    local ents = TheSim:FindEntities(x, y, z, 3, nil, {"player", "companion", "INLIMBO"})\n    \n    for _, ent in ipairs(ents) do\n        if ent.components.temperature and ent ~= inst then\n            -- Cool nearby enemies slightly\n            ent.components.temperature:DoDelta(-0.5)\n            \n            -- Visual effect for very cold entities\n            if ent.components.temperature:GetCurrent() < 0 then\n                local fx = SpawnPrefab("frostbreath")\n                if fx then\n                    fx.Transform:SetPosition(ent.Transform:GetWorldPosition())\n                end\n            end\n        end\n    end\nend\n\n-- This initializes for the server only\nlocal master_postinit = function(inst)\n    -- Set starting inventory\n    inst.starting_inventory = start_inv\n\n    -- Stats\n    inst.components.health:SetMaxHealth(125) -- Less health (default is 150)\n    inst.components.hunger:SetMax(150) -- Same hunger\n    inst.components.sanity:SetMax(200) -- More sanity (default is 150)\n    \n    -- Hunger rate (speed at which character gets hungry)\n    inst.components.hunger.hungerrate = TUNING.WILSON_HUNGER_RATE\n    \n    -- Temperature resistance\n    local cold_resistance = GetModConfigData("cold_resistance") or 120\n    inst.components.temperature.inherentinsulation = cold_resistance\n    \n    -- Add frost aura effect\n    inst:DoPeriodicTask(1, UpdateFrostAura)\n    \n    -- Special perk: Craft ice items without an ice box\n    inst:AddTag("icebox_crafter")\n    \n    -- Load saved data\n    inst.OnLoad = onload\n    inst.OnNewSpawn = onbecamehuman\nend\n\n-- This initializes for both the server and client\nlocal common_postinit = function(inst) \n    -- Minimap icon\n    inst.MiniMapEntity:SetIcon("frostbite.tex")\n    \n    -- Character traits\n    inst:AddTag("frostbite")\n    inst:AddTag("winterperson")\n    \n    -- Voice\n    inst.soundsname = "willow" -- Use Willow\'s voice for now\n    \n    -- Stats display\n    inst:AddComponent("talker")\n    inst.components.talker.fontsize = 35\n    inst.components.talker.font = TALKINGFONT\n    inst.components.talker.offset = Vector3(0, -400, 0)\n    \n    -- Special visual effect: frost breath in winter\n    inst:ListenForEvent("seasonchange", function(src, data)\n        if data.season == "winter" then\n            -- Add frost breath effect in winter\n            if not inst._frostbreath_task then\n                inst._frostbreath_task = inst:DoPeriodicTask(3, function()\n                    if not inst.components.health:IsDead() and not inst:HasTag("playerghost") then\n                        local fx = SpawnPrefab("frostbreath")\n                        if fx then\n                            fx.Transform:SetPosition(inst.Transform:GetWorldPosition())\n                        end\n                    end\n                end)\n            end\n        else\n            -- Remove frost breath effect outside winter\n            if inst._frostbreath_task then\n                inst._frostbreath_task:Cancel()\n                inst._frostbreath_task = nil\n            end\n        end\n    end)\nend\n\n-- Return the character function\nreturn MakePlayerCharacter("frostbite", prefabs, assets, common_postinit, master_postinit, start_inv)\n'})}),"\n",(0,a.jsx)(n.h2,{id:"step-5-create-the-character-skin-file",children:"Step 5: Create the Character Skin File"}),"\n",(0,a.jsxs)(n.p,{children:["Create ",(0,a.jsx)(n.code,{children:"scripts/prefabs/frostbite_none.lua"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'return CreatePrefabSkin("frostbite_none", {\n    base_prefab = "frostbite",\n    type = "base",\n    assets = {\n        Asset("ANIM", "anim/frostbite.zip"),\n    },\n    skins = { normal_skin = "frostbite" },\n    skin_tags = { "FROSTBITE", "CHARACTER" },\n    build_name_override = "frostbite",\n    rarity = "Character",\n})\n'})}),"\n",(0,a.jsx)(n.h2,{id:"step-6-create-the-speech-file",children:"Step 6: Create the Speech File"}),"\n",(0,a.jsxs)(n.p,{children:["Create a new file ",(0,a.jsx)(n.code,{children:"speech_frostbite.lua"})," in the mod's root directory:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'return {\n    -- Generic responses\n    ACTIONFAIL = {\n        SHAVE = {\n            AWAKEBEEFALO = "I\'m not going to try that while it\'s awake.",\n            GENERIC = "I can\'t shave that!",\n            NOBITS = "There\'s nothing left to shave.",\n        },\n        STORE = {\n            GENERIC = "It\'s full.",\n            NOTALLOWED = "That doesn\'t go there.",\n            INUSE = "Someone beat me to it.",\n        },\n    },\n    \n    -- Character-specific dialogue\n    DESCRIBE = {\n        EVERGREEN = "A bit of winter in any season.",\n        EVERGREEN_SPARSE = "It\'s barely hanging on to life.",\n        WINTER_TREE = "The best kind of tree.",\n        BEEFALO = "It\'s so woolly and warm.",\n        CAMPFIRE = {\n            EMBERS = "I should add something before it goes out.",\n            GENERIC = "A welcome source of warmth.",\n            HIGH = "That\'s a bit too warm for my taste.",\n            LOW = "The fire\'s getting a bit low.",\n            NORMAL = "Nice and cozy.",\n            OUT = "Well, that\'s done.",\n        },\n        COLDFIRE = {\n            EMBERS = "I should add something before it goes out.",\n            GENERIC = "Ah, refreshing.",\n            HIGH = "Delightfully cold!",\n            LOW = "The fire\'s getting a bit low.",\n            NORMAL = "Nice and cool.",\n            OUT = "Well, that\'s done.",\n        },\n        ICEBOX = "Feels like home!",\n        WINTERHAT = "It\'s not like I need it, but it\'s still nice.",\n        WINTEROMETER = "I can tell the temperature just fine without it.",\n    },\n    \n    -- Announce strings\n    ANNOUNCE_COLD = "Just how I like it!",\n    ANNOUNCE_HOT = "Too... hot...!",\n    ANNOUNCE_HOUNDS = "Something\'s coming... something with teeth.",\n    ANNOUNCE_HUNGRY = "I need food.",\n    ANNOUNCE_DUSK = "The cold night approaches.",\n    \n    -- Combat related\n    COMBAT_QUIT = {\n        GENERIC = "I\'ll get you next time!",\n    },\n    \n    -- Weather related\n    ANNOUNCE_SNOWED_ON = "A pleasant dusting of snow!",\n    ANNOUNCE_SNOWBALL_DODGE = "You\'ll have to try harder than that!",\n    ANNOUNCE_COLD_RESIST = "The cold is my ally.",\n    ANNOUNCE_HAIL_RESIST = "Ice cannot harm me.",\n    \n    -- Exclusive to Frostbite\n    ANNOUNCE_FROST_AURA = "I can feel the chill spreading from me.",\n    ANNOUNCE_ICE_CRAFT = "I know the secrets of ice.",\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"step-7-create-character-animations",children:"Step 7: Create Character Animations"}),"\n",(0,a.jsx)(n.p,{children:"For a complete character mod, you'll need to create the following animation files:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Character Animation"}),": ",(0,a.jsx)(n.code,{children:"anim/frostbite.zip"})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"This contains the character's in-game animations"}),"\n",(0,a.jsx)(n.li,{children:"You can start by modifying an existing character's animations"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Selection Portrait"}),": ",(0,a.jsx)(n.code,{children:"bigportraits/frostbite.tex"})," and ",(0,a.jsx)(n.code,{children:"bigportraits/frostbite.xml"})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"300x450 pixel image for the character selection screen"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Avatar"}),": ",(0,a.jsx)(n.code,{children:"images/avatars/avatar_frostbite.tex"})," and ",(0,a.jsx)(n.code,{children:"images/avatars/avatar_frostbite.xml"})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"64x64 pixel image for the HUD"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Mini Map Icon"}),": ",(0,a.jsx)(n.code,{children:"images/avatars_mini/frostbite.tex"})," and ",(0,a.jsx)(n.code,{children:"images/avatars_mini/frostbite.xml"})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"32x32 pixel image for the mini map"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Character Name"}),": ",(0,a.jsx)(n.code,{children:"images/names_frostbite.tex"})," and ",(0,a.jsx)(n.code,{children:"images/names_frostbite.xml"})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Image with the character's name for the selection screen"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"step-8-testing-your-character",children:"Step 8: Testing Your Character"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Launch Don't Starve Together"}),"\n",(0,a.jsx)(n.li,{children:"Enable your mod in the Mods menu"}),"\n",(0,a.jsx)(n.li,{children:"Start a new game and select Frostbite"}),"\n",(0,a.jsxs)(n.li,{children:["Test the character by:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Checking the starting inventory"}),"\n",(0,a.jsx)(n.li,{children:"Testing cold resistance in winter"}),"\n",(0,a.jsx)(n.li,{children:"Using ice weapons to see the damage bonus"}),"\n",(0,a.jsx)(n.li,{children:"Observing hunger rate changes in summer"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"customization-options",children:"Customization Options"}),"\n",(0,a.jsx)(n.p,{children:"Here are some ways to enhance your character:"}),"\n",(0,a.jsx)(n.h3,{id:"add-custom-recipes",children:"Add Custom Recipes"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'-- In modmain.lua\n-- Add a custom recipe that only Frostbite can craft\nAddRecipe("ice_staff", \n    {\n        Ingredient("twigs", 2),\n        Ingredient("bluegem", 1)\n    }, \n    GLOBAL.RECIPETABS.MAGIC, \n    GLOBAL.TECH.NONE, -- No science machine needed\n    nil, nil, nil, "frostbite", -- Only Frostbite can craft this\n    nil, \n    "images/inventoryimages/ice_staff.xml", "ice_staff.tex")\n'})}),"\n",(0,a.jsx)(n.h3,{id:"add-special-abilities",children:"Add Special Abilities"}),"\n",(0,a.jsx)(n.p,{children:"For more unique abilities, you can add custom components or modify existing ones:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'-- In frostbite.lua, add to master_postinit\n-- Special ability: Create ice crystals when at low temperature\ninst:ListenForEvent("temperaturechange", function(inst)\n    if inst.components.temperature:GetCurrent() < 0 then\n        -- Spawn ice crystals around the player\n        local x, y, z = inst.Transform:GetWorldPosition()\n        local theta = math.random() * 2 * PI\n        local radius = math.random(2, 3)\n        local offset_x = radius * math.cos(theta)\n        local offset_z = radius * math.sin(theta)\n        \n        local ice = SpawnPrefab("ice")\n        if ice then\n            ice.Transform:SetPosition(x + offset_x, 0, z + offset_z)\n        end\n    end\nend)\n'})}),"\n",(0,a.jsx)(n.h3,{id:"add-custom-animations",children:"Add Custom Animations"}),"\n",(0,a.jsx)(n.p,{children:"For truly unique animations, you'll need to create custom animation files:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Use Spriter to create custom animations"}),"\n",(0,a.jsx)(n.li,{children:"Export as a zip file"}),"\n",(0,a.jsxs)(n.li,{children:["Place in the ",(0,a.jsx)(n.code,{children:"anim"})," folder"]}),"\n",(0,a.jsx)(n.li,{children:"Update the prefab file to use your custom animations"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"}),"\n",(0,a.jsx)(n.h3,{id:"problem-character-doesnt-appear-in-the-selection-screen",children:"Problem: Character doesn't appear in the selection screen"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Solution"}),": Check that all required assets are properly named and in the correct folders"]}),"\n",(0,a.jsx)(n.h3,{id:"problem-character-appears-but-with-missing-textures",children:"Problem: Character appears but with missing textures"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Solution"}),": Verify that animation files are correctly formatted and referenced"]}),"\n",(0,a.jsx)(n.h3,{id:"problem-special-abilities-dont-work",children:"Problem: Special abilities don't work"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Solution"}),": Add debug prints to check if your event listeners and functions are being called"]}),"\n",(0,a.jsx)(n.h3,{id:"problem-game-crashes-when-selecting-the-character",children:"Problem: Game crashes when selecting the character"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Solution"}),": Check for errors in your prefab file, particularly in the postinit functions:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"-- Add error handling to critical functions\nlocal function onbecamehuman(inst)\n    if not inst or not inst.components or not inst.components.locomotor then\n        return\n    end\n    \n    -- Rest of the function...\nend\n"})}),"\n",(0,a.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,a.jsx)(n.p,{children:"Now that you've created a basic character, you can:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Create Custom Animations"}),": Design unique animations for your character"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Add Special Abilities"}),": Develop more complex and unique abilities"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Create Custom Items"}),": Add character-specific items and tools"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Add Custom Sound Effects"}),": Record unique voice lines for your character"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["For more advanced character creation, check out the ",(0,a.jsx)(n.a,{href:"/dst-api-webdocs/docs/api-vanilla/examples/custom-component",children:"Custom Component"})," tutorial to learn how to add entirely new behaviors to your character."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var i=t(6540);const a={},s=i.createContext(a);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);