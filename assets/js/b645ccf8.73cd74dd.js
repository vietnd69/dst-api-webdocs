"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[87966],{28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var t=i(96540);const s={},l=t.createContext(s);function r(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(l.Provider,{value:n},e.children)}},76636:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>h,contentTitle:()=>a,default:()=>c,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"game-scripts/core-systems/user-interface/graphics/lighting","title":"Lighting","description":"Lighting system configuration and utilities (currently empty module)","source":"@site/docs/game-scripts/core-systems/user-interface/graphics/lighting.md","sourceDirName":"game-scripts/core-systems/user-interface/graphics","slug":"/game-scripts/core-systems/user-interface/graphics/lighting","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/user-interface/graphics/lighting","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"lighting","title":"Lighting","description":"Lighting system configuration and utilities (currently empty module)","sidebar_position":1,"last_updated":"2025-06-21T00:00:00.000Z","build_version":676042,"change_status":"stable"},"sidebar":"docs","previous":{"title":"FX (Visual Effects)","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/user-interface/graphics/fx"},"next":{"title":"Post Process Effects","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/user-interface/graphics/postprocesseffects"}}');var s=i(74848),l=i(28453);const r={id:"lighting",title:"Lighting",description:"Lighting system configuration and utilities (currently empty module)",sidebar_position:1,last_updated:new Date("2025-06-21T00:00:00.000Z"),build_version:676042,change_status:"stable"},a="Lighting",h={},d=[{value:"Version History",id:"version-history",level:2},{value:"Overview",id:"overview",level:2},{value:"Current Status",id:"current-status",level:2},{value:"Related Lighting Systems",id:"related-lighting-systems",level:2},{value:"Ambient Lighting Component",id:"ambient-lighting-component",level:3},{value:"Lighting Constants",id:"lighting-constants",level:3},{value:"Lighting Shaders",id:"lighting-shaders",level:3},{value:"World Lighting Integration",id:"world-lighting-integration",level:3},{value:"Forest World",id:"forest-world",level:4},{value:"Cave World",id:"cave-world",level:4},{value:"Event Worlds",id:"event-worlds",level:4},{value:"Lighting-Related Events",id:"lighting-related-events",level:2},{value:"&quot;overrideambientlighting&quot;",id:"overrideambientlighting",level:3},{value:"Light Sources",id:"light-sources",level:2},{value:"Character Lighting",id:"character-lighting",level:3},{value:"Environmental Lighting",id:"environmental-lighting",level:3},{value:"UI Lighting Effects",id:"ui-lighting-effects",level:2},{value:"Overlay Widgets",id:"overlay-widgets",level:3},{value:"Development Notes",id:"development-notes",level:2},{value:"Why This Module Is Empty",id:"why-this-module-is-empty",level:3},{value:"Potential Future Use",id:"potential-future-use",level:3},{value:"Related Modules",id:"related-modules",level:2},{value:"Common Lighting Patterns",id:"common-lighting-patterns",level:2},{value:"Light Watcher Integration",id:"light-watcher-integration",level:3},{value:"Brightness Calculations",id:"brightness-calculations",level:3},{value:"Platform-Specific Considerations",id:"platform-specific-considerations",level:3}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"lighting",children:"Lighting"})}),"\n",(0,s.jsx)(n.h2,{id:"version-history",children:"Version History"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Build Version"}),(0,s.jsx)(n.th,{children:"Change Date"}),(0,s.jsx)(n.th,{children:"Change Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"676042"}),(0,s.jsx)(n.td,{children:"2025-06-21"}),(0,s.jsx)(n.td,{children:"stable"}),(0,s.jsx)(n.td,{children:"Current version (empty module)"})]})})]}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"lighting.lua"})," module is currently empty but is part of the lighting system infrastructure in Don't Starve Together. Based on codebase references, lighting functionality is primarily handled through components and other specialized modules."]}),"\n",(0,s.jsx)(n.h2,{id:"current-status",children:"Current Status"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"File Content:"})," Empty (no code implementation)"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose:"})," Reserved for future lighting system utilities or configuration data."]}),"\n",(0,s.jsx)(n.h2,{id:"related-lighting-systems",children:"Related Lighting Systems"}),"\n",(0,s.jsx)(n.p,{children:"While this module is empty, lighting functionality exists throughout the codebase:"}),"\n",(0,s.jsx)(n.h3,{id:"ambient-lighting-component",children:"Ambient Lighting Component"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Location:"})," ",(0,s.jsx)(n.code,{children:"components/ambientlighting.lua"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose:"})," Manages world ambient lighting values and visual effects."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Visual ambient value calculation"}),"\n",(0,s.jsx)(n.li,{children:"Lighting overrides for special events"}),"\n",(0,s.jsx)(n.li,{children:"Integration with weather and time systems"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Usage Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Accessed through world components\nlocal ambientLighting = TheWorld.components.ambientlighting\nlocal brightness = ambientLighting:GetVisualAmbientValue()\n"})}),"\n",(0,s.jsx)(n.h3,{id:"lighting-constants",children:"Lighting Constants"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Location:"})," Various tuning files and components"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TUNING.ABIGAIL_LIGHTING"}),": Character-specific lighting values"]}),"\n",(0,s.jsxs)(n.li,{children:["Weather lighting constants in ",(0,s.jsx)(n.code,{children:"components/weather.lua"})]}),"\n",(0,s.jsxs)(n.li,{children:["Cave weather lighting in ",(0,s.jsx)(n.code,{children:"components/caveweather.lua"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"lighting-shaders",children:"Lighting Shaders"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Location:"})," ",(0,s.jsx)(n.code,{children:"prefabs/global.lua"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Asset:"})," ",(0,s.jsx)(n.code,{children:'"shaders/lighting.ksh"'})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose:"})," GPU shader for lighting calculations and effects."]}),"\n",(0,s.jsx)(n.h3,{id:"world-lighting-integration",children:"World Lighting Integration"}),"\n",(0,s.jsx)(n.p,{children:"Different world types have specific lighting configurations:"}),"\n",(0,s.jsx)(n.h4,{id:"forest-world",children:"Forest World"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- In prefabs/forest.lua\ninst:AddComponent("ambientlighting")\n-- NOTE: ambient lighting is required by light watchers\n'})}),"\n",(0,s.jsx)(n.h4,{id:"cave-world",children:"Cave World"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- In prefabs/cave.lua  \ninst:AddComponent("ambientlighting")\n-- NOTE: ambient lighting is required by light watchers\n'})}),"\n",(0,s.jsx)(n.h4,{id:"event-worlds",children:"Event Worlds"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- In prefabs/lavaarena.lua\ninst:AddComponent("ambientlighting")\ninst:PushEvent("overrideambientlighting", Point(200/255, 200/255, 200/255))\n'})}),"\n",(0,s.jsx)(n.h2,{id:"lighting-related-events",children:"Lighting-Related Events"}),"\n",(0,s.jsx)(n.h3,{id:"overrideambientlighting",children:'"overrideambientlighting"'}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Status:"})," stable (but marked as NOT safe to use)"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose:"})," Overrides default ambient lighting with custom values."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Color point with RGB values (0-1 range)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'inst:PushEvent("overrideambientlighting", Point(0.8, 0.8, 0.8))\n'})}),"\n",(0,s.jsx)(n.h2,{id:"light-sources",children:"Light Sources"}),"\n",(0,s.jsx)(n.p,{children:"Various prefabs in the game implement lighting:"}),"\n",(0,s.jsx)(n.h3,{id:"character-lighting",children:"Character Lighting"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Abigail:"})," Uses ",(0,s.jsx)(n.code,{children:"TUNING.ABIGAIL_LIGHTING"})," values"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Mining Hat:"})," Provides hands-free lighting"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Lanterns:"})," Mood and functional lighting"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"environmental-lighting",children:"Environmental Lighting"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Moon Fissures:"})," React to world brightness"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Lightning:"})," Creates temporary bright illumination"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fire Sources:"})," Dynamic light and warmth"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"ui-lighting-effects",children:"UI Lighting Effects"}),"\n",(0,s.jsx)(n.p,{children:"Several UI widgets react to ambient lighting:"}),"\n",(0,s.jsx)(n.h3,{id:"overlay-widgets",children:"Overlay Widgets"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Miasma Over:"})," Adjusts opacity based on ambient lighting"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sandstorm Over:"})," Brightness calculation from ambient values"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Moonstorm Over:"})," Visual effects tied to lighting levels"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Implementation Pattern:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Common pattern in overlay widgets\nself.ambientlighting = TheWorld.components.ambientlighting\nlocal brightness = math.clamp(self.ambientlighting:GetVisualAmbientValue() * 1.4, 0, 1)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"development-notes",children:"Development Notes"}),"\n",(0,s.jsx)(n.h3,{id:"why-this-module-is-empty",children:"Why This Module Is Empty"}),"\n",(0,s.jsx)(n.p,{children:"The lighting system in DST is distributed across multiple specialized components rather than centralized in a single module:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Component-Based Architecture:"})," Lighting logic lives in ",(0,s.jsx)(n.code,{children:"ambientlighting"})," component"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"World-Specific Implementation:"})," Each world type handles its own lighting setup"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Shader-Based Rendering:"})," Core lighting calculations happen in GPU shaders"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Event-Driven Updates:"})," Lighting changes use the event system"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"potential-future-use",children:"Potential Future Use"}),"\n",(0,s.jsx)(n.p,{children:"This module could be used for:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Centralized lighting configuration constants"}),"\n",(0,s.jsx)(n.li,{children:"Lighting utility functions"}),"\n",(0,s.jsx)(n.li,{children:"Cross-component lighting coordination"}),"\n",(0,s.jsx)(n.li,{children:"Lighting effect definitions"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"related-modules",children:"Related Modules"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"../components/ambientlighting.md",children:"Ambient Lighting Component"}),": Core lighting component"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"./weather.md",children:"Weather"}),": Weather-based lighting effects"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"../components/caveweather.md",children:"Cave Weather"}),": Underground lighting systems"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"../components/worldtemperature.md",children:"World Temperature"}),": Lighting constants for temperature"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"./tuning.md",children:"Tuning"}),": Lighting configuration constants"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"common-lighting-patterns",children:"Common Lighting Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"light-watcher-integration",children:"Light Watcher Integration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Most lighting systems require light watchers\n-- NOTE: ambient lighting is required by light watchers\ninst:AddComponent("ambientlighting")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"brightness-calculations",children:"Brightness Calculations"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Standard brightness calculation pattern\nlocal world_brightness = TheWorld.components.ambientlighting:GetVisualAmbientValue()\nlocal adjusted_brightness = math.clamp(world_brightness * modifier, 0, 1)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"platform-specific-considerations",children:"Platform-Specific Considerations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Console vs PC lighting differences"}),"\n",(0,s.jsx)(n.li,{children:"Performance optimization for different hardware"}),"\n",(0,s.jsx)(n.li,{children:"Shader compatibility across platforms"}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);