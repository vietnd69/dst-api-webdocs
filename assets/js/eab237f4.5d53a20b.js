"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[8629],{5144:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>a,frontMatter:()=>o,metadata:()=>d,toc:()=>r});const d=JSON.parse('{"id":"api-vanilla/node-types/widget","title":"Widget","description":"Last Update: 2023-07-06","source":"@site/docs/api-vanilla/node-types/widget.md","sourceDirName":"api-vanilla/node-types","slug":"/api-vanilla/node-types/widget","permalink":"/dst-api-webdocs/docs/api-vanilla/node-types/widget","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"id":"widget","title":"Widget","sidebar_position":7,"last_updated":"2023-07-06T00:00:00.000Z","version":624447}}');var s=i(4848),l=i(8453);const o={id:"widget",title:"Widget",sidebar_position:7,last_updated:new Date("2023-07-06T00:00:00.000Z"),version:624447},t="Widget",c={},r=[{value:"Widget properties and methods",id:"widget-properties-and-methods",level:2},{value:"Overview",id:"overview",level:2},{value:"Common Widget Structure",id:"common-widget-structure",level:2},{value:"Widget Hierarchy",id:"widget-hierarchy",level:2},{value:"Methods",id:"methods",level:2},{value:"AddChild(widget: <code>Widget</code>): <code>Widget</code>",id:"addchildwidget-widget-widget",level:3},{value:"RemoveChild(widget: <code>Widget</code>): <code>void</code>",id:"removechildwidget-widget-void",level:3},{value:"SetPosition(x: <code>number</code>, y: <code>number</code>, z: <code>number</code>): <code>void</code>",id:"setpositionx-number-y-number-z-number-void",level:3},{value:"SetScale(x: <code>number</code>, y: <code>number</code>, z: <code>number</code>): <code>void</code>",id:"setscalex-number-y-number-z-number-void",level:3},{value:"SetRotation(angle: <code>number</code>): <code>void</code>",id:"setrotationangle-number-void",level:3},{value:"SetTint(r: <code>number</code>, g: <code>number</code>, b: <code>number</code>, a: <code>number</code>): <code>void</code>",id:"settintr-number-g-number-b-number-a-number-void",level:3},{value:"SetOnClick(fn: <code>Function</code>): <code>void</code>",id:"setonclickfn-function-void",level:3},{value:"SetFocus(): <code>boolean</code>",id:"setfocus-boolean",level:3},{value:"ClearFocus(): <code>void</code>",id:"clearfocus-void",level:3},{value:"Show(): <code>void</code>",id:"show-void",level:3},{value:"Hide(): <code>void</code>",id:"hide-void",level:3},{value:"ScaleTo(from: <code>number</code>, to: <code>number</code>, time: <code>number</code>, fn: <code>Function</code>): <code>void</code>",id:"scaletofrom-number-to-number-time-number-fn-function-void",level:3},{value:"MoveTo(from: <code>Vector3</code>, to: <code>Vector3</code>, time: <code>number</code>, fn: <code>Function</code>): <code>void</code>",id:"movetofrom-vector3-to-vector3-time-number-fn-function-void",level:3},{value:"Common Event Handlers",id:"common-event-handlers",level:2},{value:"Common Widget Types",id:"common-widget-types",level:2},{value:"See also",id:"see-also",level:2}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Last Update: 2023-07-06"})}),"\n",(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"widget",children:"Widget"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"API Version: 624447"})}),"\n",(0,s.jsx)(n.p,{children:"Widgets are UI elements that can be used to create user interfaces in Don't Starve Together. They handle rendering, input, and other UI-related functionality."}),"\n",(0,s.jsx)(n.h2,{id:"widget-properties-and-methods",children:"Widget properties and methods"}),"\n",(0,s.jsx)(n.p,{children:"Widget provides the following key properties and methods:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Properties"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"parent"})," - Parent widget that contains this widget"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"children"})," - List of child widgets"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"position"})," - Position in screen coordinates"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"scale"})," - Scale of the widget"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"rotation"})," - Rotation of the widget"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"visible"})," - Whether the widget is visible"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Methods"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"AddChild()"})," - Adds a child widget"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"RemoveChild()"})," - Removes a child widget"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SetPosition()"})," - Sets the widget's position"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SetScale()"})," - Sets the widget's scale"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Show()"})," - Makes the widget visible"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Hide()"})," - Makes the widget invisible"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Widgets are the building blocks of the game's user interface. They can be combined hierarchically to create complex UI layouts. Each widget handles its own rendering, input events, and animations."}),"\n",(0,s.jsx)(n.h2,{id:"common-widget-structure",children:"Common Widget Structure"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'local MyWidget = Class(Widget, function(self, name)\n    Widget._ctor(self, name or "MyWidget")\n    \n    -- Initialize widget properties\n    self.bg = self:AddChild(Image("images/ui.xml", "panel.tex"))\n    self.bg:SetScale(2, 2)\n    \n    self.text = self:AddChild(Text(BODYTEXTFONT, 20))\n    self.text:SetString("Hello World")\n    self.text:SetPosition(0, 0)\n    \n    -- Set up callbacks\n    self:SetOnClick(function() print("Widget clicked!") end)\nend)\n\nfunction MyWidget:OnGainFocus()\n    self.bg:SetTint(1, 1, 0, 1)\n    return true\nend\n\nfunction MyWidget:OnLoseFocus()\n    self.bg:SetTint(1, 1, 1, 1)\n    return true\nend\n\nreturn MyWidget\n'})}),"\n",(0,s.jsx)(n.h2,{id:"widget-hierarchy",children:"Widget Hierarchy"}),"\n",(0,s.jsx)(n.p,{children:"Widgets can be organized in a parent-child hierarchy:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'local parent = Widget("ParentWidget")\nlocal child = parent:AddChild(Widget("ChildWidget"))\n'})}),"\n",(0,s.jsx)(n.p,{children:"Children inherit properties like visibility and focus from their parents."}),"\n",(0,s.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsxs)(n.h3,{id:"addchildwidget-widget-widget",children:["AddChild(widget: ",(0,s.jsx)(n.code,{children:"Widget"}),"): ",(0,s.jsx)(n.code,{children:"Widget"})]}),"\n",(0,s.jsx)(n.p,{children:"Adds a child widget to this widget."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Add a child widget\nlocal child = self:AddChild(Widget("ChildWidget"))\n\n-- Add a text widget with styling\nlocal text = self:AddChild(Text(BODYTEXTFONT, 20))\ntext:SetString("Hello World")\ntext:SetPosition(0, 10)\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"removechildwidget-widget-void",children:["RemoveChild(widget: ",(0,s.jsx)(n.code,{children:"Widget"}),"): ",(0,s.jsx)(n.code,{children:"void"})]}),"\n",(0,s.jsx)(n.p,{children:"Removes a child widget from this widget."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Remove a specific child\nself:RemoveChild(self.child)\n\n-- Remove all children\nfor i = #self.children, 1, -1 do\n    self:RemoveChild(self.children[i])\nend\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"setpositionx-number-y-number-z-number-void",children:["SetPosition(x: ",(0,s.jsx)(n.code,{children:"number"}),", y: ",(0,s.jsx)(n.code,{children:"number"}),", z: ",(0,s.jsx)(n.code,{children:"number"}),"): ",(0,s.jsx)(n.code,{children:"void"})]}),"\n",(0,s.jsx)(n.p,{children:"Sets the position of this widget in screen coordinates."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Set position with x and y coordinates\nself:SetPosition(100, 50)\n\n-- Set position with x, y, and z coordinates\nself:SetPosition(100, 50, 0)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"setscalex-number-y-number-z-number-void",children:["SetScale(x: ",(0,s.jsx)(n.code,{children:"number"}),", y: ",(0,s.jsx)(n.code,{children:"number"}),", z: ",(0,s.jsx)(n.code,{children:"number"}),"): ",(0,s.jsx)(n.code,{children:"void"})]}),"\n",(0,s.jsx)(n.p,{children:"Sets the scale of this widget."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Set uniform scale\nself:SetScale(2)\n\n-- Set different x and y scale\nself:SetScale(2, 1)\n\n-- Set x, y, and z scale\nself:SetScale(2, 1, 1)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"setrotationangle-number-void",children:["SetRotation(angle: ",(0,s.jsx)(n.code,{children:"number"}),"): ",(0,s.jsx)(n.code,{children:"void"})]}),"\n",(0,s.jsx)(n.p,{children:"Sets the rotation of this widget in degrees."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Rotate widget 45 degrees\nself:SetRotation(45)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"settintr-number-g-number-b-number-a-number-void",children:["SetTint(r: ",(0,s.jsx)(n.code,{children:"number"}),", g: ",(0,s.jsx)(n.code,{children:"number"}),", b: ",(0,s.jsx)(n.code,{children:"number"}),", a: ",(0,s.jsx)(n.code,{children:"number"}),"): ",(0,s.jsx)(n.code,{children:"void"})]}),"\n",(0,s.jsx)(n.p,{children:"Sets the color tint of this widget."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Red tint\nself:SetTint(1, 0, 0, 1)\n\n-- Half-transparent blue tint\nself:SetTint(0, 0, 1, 0.5)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"setonclickfn-function-void",children:["SetOnClick(fn: ",(0,s.jsx)(n.code,{children:"Function"}),"): ",(0,s.jsx)(n.code,{children:"void"})]}),"\n",(0,s.jsx)(n.p,{children:"Sets a function to call when the widget is clicked."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Set click handler\nself:SetOnClick(function()\n    print("Widget clicked!")\nend)\n\n-- Set click handler with access to self\nself:SetOnClick(function()\n    self.clicked = true\n    self:DoSomething()\nend)\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"setfocus-boolean",children:["SetFocus(): ",(0,s.jsx)(n.code,{children:"boolean"})]}),"\n",(0,s.jsx)(n.p,{children:"Gives focus to this widget."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Give focus to this widget\nself:SetFocus()\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"clearfocus-void",children:["ClearFocus(): ",(0,s.jsx)(n.code,{children:"void"})]}),"\n",(0,s.jsx)(n.p,{children:"Removes focus from this widget."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Clear focus from this widget\nself:ClearFocus()\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"show-void",children:["Show(): ",(0,s.jsx)(n.code,{children:"void"})]}),"\n",(0,s.jsx)(n.p,{children:"Makes the widget visible."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Show this widget\nself:Show()\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"hide-void",children:["Hide(): ",(0,s.jsx)(n.code,{children:"void"})]}),"\n",(0,s.jsx)(n.p,{children:"Makes the widget invisible."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Hide this widget\nself:Hide()\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"scaletofrom-number-to-number-time-number-fn-function-void",children:["ScaleTo(from: ",(0,s.jsx)(n.code,{children:"number"}),", to: ",(0,s.jsx)(n.code,{children:"number"}),", time: ",(0,s.jsx)(n.code,{children:"number"}),", fn: ",(0,s.jsx)(n.code,{children:"Function"}),"): ",(0,s.jsx)(n.code,{children:"void"})]}),"\n",(0,s.jsx)(n.p,{children:"Animates the widget's scale over time."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Scale from 1 to 2 over 0.5 seconds\nself:ScaleTo(1, 2, 0.5, function() print("Scaling complete") end)\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"movetofrom-vector3-to-vector3-time-number-fn-function-void",children:["MoveTo(from: ",(0,s.jsx)(n.code,{children:"Vector3"}),", to: ",(0,s.jsx)(n.code,{children:"Vector3"}),", time: ",(0,s.jsx)(n.code,{children:"number"}),", fn: ",(0,s.jsx)(n.code,{children:"Function"}),"): ",(0,s.jsx)(n.code,{children:"void"})]}),"\n",(0,s.jsx)(n.p,{children:"Animates the widget's position over time."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Move widget over 0.5 seconds\nself:MoveTo(Vector3(0, 0, 0), Vector3(100, 50, 0), 0.5, function() print("Movement complete") end)\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"common-event-handlers",children:"Common Event Handlers"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OnControl(control, down)"}),": Called when a control is pressed/released"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OnMouseButton(button, down, x, y)"}),": Called on mouse events"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OnRawKey(key, down)"}),": Called on keyboard events"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OnTextInput(text)"}),": Called when text is entered"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OnGainFocus()"}),": Called when the widget gains focus"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OnLoseFocus()"}),": Called when the widget loses focus"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"common-widget-types",children:"Common Widget Types"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Text"}),": Displays text"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Image"}),": Displays an image"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Button"}),": Clickable button"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TextButton"}),": Button with text"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ImageButton"}),": Button with an image"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Menu"}),": Group of options"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ScrollableList"}),": Scrollable list of items"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TextEdit"}),": Editable text field"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"mdc:dst-api-webdocs/docs/api-vanilla/ui/screen.md",children:"Screen"})," - Screens that contain widgets"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"mdc:dst-api-webdocs/docs/api-vanilla/ui/text.md",children:"Text"})," - Text display widget"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"mdc:dst-api-webdocs/docs/api-vanilla/ui/image.md",children:"Image"})," - Image display widget"]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>t});var d=i(6540);const s={},l=d.createContext(s);function o(e){const n=d.useContext(l);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),d.createElement(l.Provider,{value:n},e.children)}}}]);