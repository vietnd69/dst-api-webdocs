"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[25052],{26175:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"game-scripts/core-systems/data-management/utilities/platformpostload","title":"Platform Post Load","description":"Platform-specific configuration and tweaks applied after game initialization for different gaming platforms","source":"@site/docs/game-scripts/core-systems/data-management/utilities/platformpostload.md","sourceDirName":"game-scripts/core-systems/data-management/utilities","slug":"/game-scripts/core-systems/data-management/utilities/platformpostload","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/data-management/utilities/platformpostload","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"platformpostload","title":"Platform Post Load","description":"Platform-specific configuration and tweaks applied after game initialization for different gaming platforms","sidebar_position":2,"last_updated":"2025-06-21T00:00:00.000Z","build_version":676042,"change_status":"stable"},"sidebar":"docs","previous":{"title":"Data Management Utilities Overview","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/data-management/utilities/"},"next":{"title":"Scheduler","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/data-management/utilities/scheduler"}}');var t=i(74848),d=i(28453);const l={id:"platformpostload",title:"Platform Post Load",description:"Platform-specific configuration and tweaks applied after game initialization for different gaming platforms",sidebar_position:2,last_updated:new Date("2025-06-21T00:00:00.000Z"),build_version:676042,change_status:"stable"},r="Platform Post Load",o={},c=[{value:"Version History",id:"version-history",level:2},{value:"Overview",id:"overview",level:2},{value:"Purpose",id:"purpose",level:2},{value:"Platform Support",id:"platform-support",level:2},{value:"WIN32_RAIL Platform",id:"win32_rail-platform",level:3},{value:"Voting System Modifications",id:"voting-system-modifications",level:2},{value:"YesNoTwoThirdsVote(params, voteresults)",id:"yes-no-two-thirds-vote",level:3},{value:"Command Localization",id:"command-localization",level:2},{value:"RailUserCommandInject Function Calls",id:"railusercommandinject-function-calls",level:3},{value:"User Commands",id:"user-commands",level:3},{value:"Emote Commands",id:"emote-commands",level:3},{value:"Command Removal",id:"command-removal",level:2},{value:"RailUserCommandRemove Function Calls",id:"railusercommandremove-function-calls",level:3},{value:"Platform Detection",id:"platform-detection",level:2},{value:"Platform Identification",id:"platform-identification",level:3},{value:"Integration Examples",id:"integration-examples",level:2},{value:"Custom Platform Addition",id:"custom-platform-addition",level:3},{value:"Voting System Integration",id:"voting-system-integration",level:3},{value:"Command Usage Example",id:"command-usage-example",level:3},{value:"Debug Information",id:"debug-information",level:2},{value:"Loading Notification",id:"loading-notification",level:3},{value:"Dependencies",id:"dependencies",level:2},{value:"Required Modules",id:"required-modules",level:3},{value:"Integration Points",id:"integration-points",level:3},{value:"Regional Compliance",id:"regional-compliance",level:2},{value:"Chinese Market Adaptations",id:"chinese-market-adaptations",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Platform-Specific Development",id:"platform-specific-development",level:3},{value:"Command Localization Guidelines",id:"command-localization-guidelines",level:3},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Vote Protection",id:"vote-protection",level:3},{value:"Related Modules",id:"related-modules",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"platform-post-load",children:"Platform Post Load"})}),"\n",(0,t.jsx)(n.h2,{id:"version-history",children:"Version History"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Build Version"}),(0,t.jsx)(n.th,{children:"Change Date"}),(0,t.jsx)(n.th,{children:"Change Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"676042"}),(0,t.jsx)(n.td,{children:"2025-06-21"}),(0,t.jsx)(n.td,{children:"stable"}),(0,t.jsx)(n.td,{children:"Current version"})]})})]}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"platformpostload.lua"})," module provides platform-specific tweaks and configurations that are applied after the main game initialization. It avoids polluting the core game code with inline platform branching by centralizing platform-specific modifications in a dedicated module."]}),"\n",(0,t.jsx)(n.h2,{id:"purpose",children:"Purpose"}),"\n",(0,t.jsx)(n.p,{children:"This module serves as a post-initialization hook for applying platform-specific modifications including:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Custom voting mechanics for specific platforms"}),"\n",(0,t.jsx)(n.li,{children:"Localized command injection for regional markets"}),"\n",(0,t.jsx)(n.li,{children:"Platform-specific command modifications"}),"\n",(0,t.jsx)(n.li,{children:"Regional compliance adjustments"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"platform-support",children:"Platform Support"}),"\n",(0,t.jsx)(n.h3,{id:"win32_rail-platform",children:"WIN32_RAIL Platform"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Status:"})," ",(0,t.jsx)(n.code,{children:"stable"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Description:"}),"\nSpecial configuration for the Chinese WeGame/Rail platform that includes enhanced voting mechanics and Chinese language command support."]}),"\n",(0,t.jsx)(n.h2,{id:"voting-system-modifications",children:"Voting System Modifications"}),"\n",(0,t.jsx)(n.h3,{id:"yes-no-two-thirds-vote",children:"YesNoTwoThirdsVote(params, voteresults)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Status:"})," ",(0,t.jsx)(n.code,{children:"stable"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Platform:"})," ",(0,t.jsx)(n.code,{children:"WIN32_RAIL"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Description:"}),"\nCustom vote result function that requires a two-thirds majority for kick votes to pass, providing enhanced player protection against vote abuse."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"params"})," (table): Vote parameters"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"voteresults"})," (table): Vote results containing option counts"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"(number): Vote result option (1 for yes, nil for no/insufficient)"}),"\n",(0,t.jsx)(n.li,{children:"(number): Vote count for the winning option"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Logic:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"if voteresults.options[1] >= 2 * voteresults.options[2] then\n    return 1, voteresults.options[1]\nend\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'-- Applied automatically to kick command on WIN32_RAIL platform\nlocal kick_command = UserCommands.GetCommandFromName("kick")\nkick_command.voteresultfn = YesNoTwoThirdsVote\n\n-- Example vote scenario:\n-- Yes votes: 6, No votes: 2\n-- 6 >= 2 * 2 (4) = true, kick passes\n-- Yes votes: 5, No votes: 3  \n-- 5 >= 2 * 3 (6) = false, kick fails\n'})}),"\n",(0,t.jsx)(n.h2,{id:"command-localization",children:"Command Localization"}),"\n",(0,t.jsx)(n.h3,{id:"railusercommandinject-function-calls",children:"RailUserCommandInject Function Calls"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Status:"})," ",(0,t.jsx)(n.code,{children:"stable"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Platform:"})," ",(0,t.jsx)(n.code,{children:"WIN32_RAIL"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Description:"}),"\nInjects Chinese language equivalents for standard user commands to improve accessibility for Chinese players."]}),"\n",(0,t.jsx)(n.h3,{id:"user-commands",children:"User Commands"}),"\n",(0,t.jsx)(n.p,{children:"The following user commands are injected with Chinese translations:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"English Command"}),(0,t.jsx)(n.th,{children:"Chinese Command"}),(0,t.jsx)(n.th,{children:"Chinese Aliases"}),(0,t.jsx)(n.th,{children:"Parameters"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"help"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u5e2e\u52a9"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u6307\u4ee4"})}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"emote"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u8868\u60c5"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u8868\u60c5\u59d3\u540d"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"rescue"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u6551\u547d"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"kick"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u8e22\u51fa"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u7528\u6237"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ban"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u5c01\u7981"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"\u7528\u6237"}),", ",(0,t.jsx)(n.code,{children:"\u79d2"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"stopvote"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u505c\u6b62\u6295\u7968"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"roll"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u6447\u9ab0\u5b50"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u9ab0\u5b50"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"rollback"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u56de\u6eda"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u4fdd\u5b58\u6b21\u6570"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"regenerate"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u91cd\u65b0\u751f\u6210"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"-"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'-- These commands become available on WIN32_RAIL platform:\nRailUserCommandInject("help", "\u5e2e\u52a9", {"\u6307\u4ee4"})\nRailUserCommandInject("kick", "\u8e22\u51fa", {"\u7528\u6237"})\nRailUserCommandInject("ban", "\u5c01\u7981", {"\u7528\u6237", "\u79d2"})\n\n-- Players can now use:\n-- /help or /\u5e2e\u52a9 or /\u6307\u4ee4\n-- /kick player or /\u8e22\u51fa player\n-- /ban player 60 or /\u5c01\u7981 player 60\n'})}),"\n",(0,t.jsx)(n.h3,{id:"emote-commands",children:"Emote Commands"}),"\n",(0,t.jsx)(n.p,{children:"The following emote commands are injected with Chinese translations:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"English Emote"}),(0,t.jsx)(n.th,{children:"Chinese Emote"}),(0,t.jsx)(n.th,{children:"Alternative"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"wave"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u6325\u624b"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u518d\u89c1"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"rude"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u6311\u4e8b"})}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"happy"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u5feb\u4e50"})}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"angry"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u6124\u6012"})}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"cry"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u54ed"})}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"no"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u4e0d"})}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"joy"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u559c\u60a6"})}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"dance"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u821e\u8e48"})}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"sit"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u5750\u4e0b"})}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"squat"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u8e72\u5750"})}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"bonesaw"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u952f"})}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"facepalm"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u53f9"})}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"kiss"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u543b"})}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"pose"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u59ff\u52bf"})}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"toast"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\u5e72\u676f"})}),(0,t.jsx)(n.td,{children:"-"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'-- These emote commands become available:\nRailUserCommandInject("wave", "\u6325\u624b", nil, "\u518d\u89c1")\nRailUserCommandInject("happy", "\u5feb\u4e50")\nRailUserCommandInject("dance", "\u821e\u8e48")\n\n-- Players can now use:\n-- /wave or /\u6325\u624b or /\u518d\u89c1\n-- /happy or /\u5feb\u4e50\n-- /dance or /\u821e\u8e48\n'})}),"\n",(0,t.jsx)(n.h2,{id:"command-removal",children:"Command Removal"}),"\n",(0,t.jsx)(n.h3,{id:"railusercommandremove-function-calls",children:"RailUserCommandRemove Function Calls"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Status:"})," ",(0,t.jsx)(n.code,{children:"stable"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Platform:"})," ",(0,t.jsx)(n.code,{children:"WIN32_RAIL"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Description:"}),"\nRemoves specific commands that may not be appropriate or necessary for the target platform."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Removed Commands:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"bug"}),": Bug reporting command removed (likely replaced with platform-specific reporting)"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'RailUserCommandRemove("bug")\n-- The /bug command is no longer available on WIN32_RAIL platform\n'})}),"\n",(0,t.jsx)(n.h2,{id:"platform-detection",children:"Platform Detection"}),"\n",(0,t.jsx)(n.h3,{id:"platform-identification",children:"Platform Identification"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Constant:"})," ",(0,t.jsx)(n.code,{children:"PLATFORM"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Description:"}),"\nThe module uses the global ",(0,t.jsx)(n.code,{children:"PLATFORM"})," constant to determine the current gaming platform and apply appropriate modifications."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Supported Platforms:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"WIN32_RAIL"}),": Chinese WeGame/Rail platform with enhanced localization"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'if PLATFORM == "WIN32_RAIL" then\n    -- Apply Chinese platform-specific modifications\n    -- Enhanced voting mechanics\n    -- Chinese command localization\n    -- Regional compliance features\nend\n'})}),"\n",(0,t.jsx)(n.h2,{id:"integration-examples",children:"Integration Examples"}),"\n",(0,t.jsx)(n.h3,{id:"custom-platform-addition",children:"Custom Platform Addition"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'-- Example of adding support for a new platform\nif PLATFORM == "NEW_PLATFORM" then\n    -- Apply platform-specific modifications\n    local custom_vote_fn = function(params, voteresults)\n        -- Custom voting logic for new platform\n        return 1, voteresults.options[1]\n    end\n    \n    local kick_command = UserCommands.GetCommandFromName("kick")\n    kick_command.voteresultfn = custom_vote_fn\n    \n    -- Inject localized commands\n    CustomPlatformCommandInject("help", "aide")\n    CustomPlatformCommandInject("kick", "expulser", {"utilisateur"})\nend\n'})}),"\n",(0,t.jsx)(n.h3,{id:"voting-system-integration",children:"Voting System Integration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'-- The modified voting system integrates with the existing vote infrastructure\nlocal function HandleKickVote(voter, target)\n    -- Vote is initiated normally\n    local vote_data = {\n        command = "kick",\n        target = target,\n        initiator = voter\n    }\n    \n    -- On WIN32_RAIL, YesNoTwoThirdsVote will be called automatically\n    -- Requires 2/3 majority instead of simple majority\n    TheWorld.components.voter:StartVote(vote_data)\nend\n'})}),"\n",(0,t.jsx)(n.h3,{id:"command-usage-example",children:"Command Usage Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'-- Example of how localized commands work in practice\nlocal function ProcessUserInput(player, command_text)\n    -- Both English and Chinese commands are recognized\n    if command_text == "/help" or command_text == "/\u5e2e\u52a9" or command_text == "/\u6307\u4ee4" then\n        ShowHelpDialog(player)\n    elseif command_text:match("^/kick") or command_text:match("^/\u8e22\u51fa") then\n        ProcessKickCommand(player, command_text)\n    elseif command_text:match("^/wave") or command_text:match("^/\u6325\u624b") or command_text:match("^/\u518d\u89c1") then\n        player.components.playeractionpicker:DoAction(ACTIONS.WAVE)\n    end\nend\n'})}),"\n",(0,t.jsx)(n.h2,{id:"debug-information",children:"Debug Information"}),"\n",(0,t.jsx)(n.h3,{id:"loading-notification",children:"Loading Notification"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Debug Output:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'Print(VERBOSITY.DEBUG, "[Loading platformpostload]")\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Description:"}),"\nDebug message printed during module loading to confirm platform-specific modifications are being applied."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"-- Enable debug verbosity to see platform loading\nc_setverbosity(VERBOSITY.DEBUG)\n-- Output: [Loading platformpostload]\n"})}),"\n",(0,t.jsx)(n.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,t.jsx)(n.h3,{id:"required-modules",children:"Required Modules"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"usercommands"}),": Provides access to user command system for modifications"]}),"\n",(0,t.jsxs)(n.li,{children:["Global ",(0,t.jsx)(n.code,{children:"PLATFORM"}),": Platform identification constant"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"RailUserCommandInject"}),": Platform-specific command injection function"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"RailUserCommandRemove"}),": Platform-specific command removal function"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"integration-points",children:"Integration Points"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"User Command System"}),": Modifies existing commands and adds localized variants"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Voting System"}),": Enhances voting mechanics for specific platforms"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Emote System"}),": Adds localized emote commands"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Debug System"}),": Integrates with game's debug output system"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"regional-compliance",children:"Regional Compliance"}),"\n",(0,t.jsx)(n.h3,{id:"chinese-market-adaptations",children:"Chinese Market Adaptations"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Platform:"})," ",(0,t.jsx)(n.code,{children:"WIN32_RAIL"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Features:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Enhanced Vote Protection"}),": Two-thirds majority requirement prevents vote abuse"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Native Language Support"}),": Full Chinese command localization"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cultural Adaptation"}),": Emote commands with culturally appropriate translations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Regional Command Set"}),": Platform-appropriate command availability"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"platform-specific-development",children:"Platform-Specific Development"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Centralized Configuration"}),": Keep platform modifications in dedicated modules"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Conditional Loading"}),": Use platform detection to avoid unnecessary code execution"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Localization Support"}),": Provide native language alternatives for user-facing commands"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Regional Compliance"}),": Adapt game mechanics to meet regional requirements"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Debug Visibility"}),": Include loading notifications for troubleshooting"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"command-localization-guidelines",children:"Command Localization Guidelines"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'-- Good: Provide meaningful translations\nRailUserCommandInject("rescue", "\u6551\u547d")  -- "rescue" -> "help/save me"\n\n-- Good: Include cultural alternatives\nRailUserCommandInject("wave", "\u6325\u624b", nil, "\u518d\u89c1")  -- "wave" -> "wave hand" or "goodbye"\n\n// Good: Maintain consistent parameter naming\nRailUserCommandInject("kick", "\u8e22\u51fa", {"\u7528\u6237"})  // "user" parameter in Chinese\n'})}),"\n",(0,t.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,t.jsx)(n.h3,{id:"vote-protection",children:"Vote Protection"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Enhanced Security:"})," The two-thirds voting requirement on WIN32_RAIL platform provides additional protection against coordinated vote abuse, requiring broader consensus for player kicks."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Impact:"})," Reduces false positive kicks while maintaining legitimate moderation capabilities."]}),"\n",(0,t.jsx)(n.h2,{id:"related-modules",children:"Related Modules"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./builtinusercommands.md",children:"User Commands"}),": Base user command system that gets modified"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./consolecommands.md",children:"Console Commands"}),": Alternative command interface"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./actions.md",children:"Player Actions"}),": Action system used by emote commands"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./voting.md",children:"Voting System"}),": Core voting mechanics enhanced by platform modifications"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./debugprint.md",children:"Debug System"}),": Debug output system used for loading notifications"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>r});var s=i(96540);const t={},d=s.createContext(t);function l(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);