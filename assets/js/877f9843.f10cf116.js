"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[5775],{28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>t});var s=i(96540);const r={},c=s.createContext(r);function l(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(c.Provider,{value:n},e.children)}},49036:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"game-scripts/core-systems/game-mechanics/special-events/quagmire_recipebook","title":"Quagmire Recipe Book","description":"Class for managing recipe discovery, storage, and unlocking in the Quagmire seasonal event","source":"@site/docs/game-scripts/core-systems/game-mechanics/special-events/quagmire_recipebook.md","sourceDirName":"game-scripts/core-systems/game-mechanics/special-events","slug":"/game-scripts/core-systems/game-mechanics/special-events/quagmire_recipebook","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/game-mechanics/special-events/quagmire_recipebook","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"quagmire_recipebook","title":"Quagmire Recipe Book","description":"Class for managing recipe discovery, storage, and unlocking in the Quagmire seasonal event","sidebar_position":2,"last_updated":"2025-06-21T00:00:00.000Z","build_version":676042,"change_status":"stable"}}');var r=i(74848),c=i(28453);const l={id:"quagmire_recipebook",title:"Quagmire Recipe Book",description:"Class for managing recipe discovery, storage, and unlocking in the Quagmire seasonal event",sidebar_position:2,last_updated:new Date("2025-06-21T00:00:00.000Z"),build_version:676042,change_status:"stable"},t="Quagmire Recipe Book",a={},o=[{value:"Version History",id:"version-history",level:2},{value:"Overview",id:"overview",level:2},{value:"Constants",id:"constants",level:2},{value:"USE_SETTINGS_FILE",id:"use_settings_file",level:3},{value:"MAX_RECIPES",id:"max_recipes",level:3},{value:"Class Definition",id:"class-definition",level:2},{value:"QuagmireRecipeBook()",id:"constructor",level:3},{value:"Instance Methods",id:"instance-methods",level:2},{value:"IsRecipeUnlocked(product)",id:"is-recipe-unlocked",level:3},{value:"GetValidRecipes()",id:"get-valid-recipes",level:3},{value:"Load()",id:"load",level:3},{value:"Save()",id:"save",level:3},{value:"RegisterWorld(world)",id:"register-world",level:3},{value:"Recipe Data Structure",id:"recipe-data-structure",level:2},{value:"Recipe Entry Format",id:"recipe-entry-format",level:3},{value:"Internal Functions",id:"internal-functions",level:2},{value:"RemoveCookedFromName(ingredients)",id:"remove-cooked-from-name",level:3},{value:"IsKnownIngredients(recipes, ingredients)",id:"is-known-ingredients",level:3},{value:"OnRecipeDiscovered(self, data)",id:"on-recipe-discovered",level:3},{value:"OnRecipeAppraised(self, data)",id:"on-recipe-appraised",level:3},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Basic Recipe Book Setup",id:"basic-recipe-book-setup",level:3},{value:"Recipe Discovery Simulation",id:"recipe-discovery-simulation",level:3},{value:"Integration Points",id:"integration-points",level:2},{value:"Achievement System Integration",id:"achievement-system-integration",level:3},{value:"Event System Integration",id:"event-system-integration",level:3},{value:"Persistence System Integration",id:"persistence-system-integration",level:3},{value:"Related Modules",id:"related-modules",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"quagmire-recipe-book",children:"Quagmire Recipe Book"})}),"\n",(0,r.jsx)(n.h2,{id:"version-history",children:"Version History"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Build Version"}),(0,r.jsx)(n.th,{children:"Change Date"}),(0,r.jsx)(n.th,{children:"Change Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"676042"}),(0,r.jsx)(n.td,{children:"2025-06-21"}),(0,r.jsx)(n.td,{children:"stable"}),(0,r.jsx)(n.td,{children:"Current version"})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"QuagmireRecipeBook"})," class manages recipe discovery, persistence, and unlocking mechanics for the Quagmire seasonal event. It tracks discovered recipes, their ingredients, cooking stations, and coin values while providing integration with the achievement system for permanent recipe unlocking."]}),"\n",(0,r.jsx)(n.p,{children:"The system automatically discovers new recipes as players cook, stores multiple ingredient combinations per dish, and manages temporary session-based unlocks alongside permanent achievement-based unlocks."}),"\n",(0,r.jsx)(n.h2,{id:"constants",children:"Constants"}),"\n",(0,r.jsx)(n.h3,{id:"use_settings_file",children:"USE_SETTINGS_FILE"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Value:"})," ",(0,r.jsx)(n.code,{children:'PLATFORM ~= "PS4" and PLATFORM ~= "NACL"'})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"})," Platform check for persistent storage availability."]}),"\n",(0,r.jsx)(n.h3,{id:"max_recipes",children:"MAX_RECIPES"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Value:"})," ",(0,r.jsx)(n.code,{children:"3"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"})," Maximum number of ingredient combinations stored per recipe."]}),"\n",(0,r.jsx)(n.h2,{id:"class-definition",children:"Class Definition"}),"\n",(0,r.jsx)(n.h3,{id:"constructor",children:"QuagmireRecipeBook()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nCreates a new QuagmireRecipeBook instance with empty recipe storage."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Properties:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"recipes"})," (table): Storage for discovered recipe data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"dirty"})," (boolean): Flag indicating unsaved changes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"filters"})," (table): Recipe filtering options"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"local recipe_book = QuagmireRecipeBook()\n"})}),"\n",(0,r.jsx)(n.h2,{id:"instance-methods",children:"Instance Methods"}),"\n",(0,r.jsx)(n.h3,{id:"is-recipe-unlocked",children:"IsRecipeUnlocked(product)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nChecks if a recipe is permanently unlocked through achievement system."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"product"}),' (string): Recipe product name (e.g., "quagmire_bisque")']}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"(boolean): True if recipe is permanently unlocked via achievements"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Implementation Logic:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'local split_name = string.split(product, "_")\nlocal achievement_name = "food_"..split_name[#split_name]\nreturn EventAchievements:IsAchievementUnlocked(FESTIVAL_EVENTS.QUAGMIRE, GetFestivalEventSeasons(FESTIVAL_EVENTS.QUAGMIRE), achievement_name)\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'local recipe_book = QuagmireRecipeBook()\nlocal is_unlocked = recipe_book:IsRecipeUnlocked("quagmire_bisque")\n-- Checks achievement: "food_bisque"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"get-valid-recipes",children:"GetValidRecipes()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nReturns all recipes that are either permanently unlocked or temporarily available in current session."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"(table): Dictionary of valid recipes keyed by product name"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Logic:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Permanently unlocked recipes (via achievements) are always included"}),"\n",(0,r.jsx)(n.li,{children:"Temporarily unlocked recipes (discovered this session) are included"}),"\n",(0,r.jsx)(n.li,{children:"Session identification prevents cross-session temporary access"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'local recipe_book = QuagmireRecipeBook()\nlocal valid_recipes = recipe_book:GetValidRecipes()\n-- Returns: {["quagmire_bisque"] = {recipe_data}, ...}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"load",children:"Load()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nLoads recipe data from persistent storage and initializes the recipe book."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Process:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:'Retrieves persistent string data using key "recipebook"'}),"\n",(0,r.jsx)(n.li,{children:"Decodes JSON data into recipe structure"}),"\n",(0,r.jsx)(n.li,{children:"Removes duplicate recipe combinations"}),"\n",(0,r.jsx)(n.li,{children:"Sets dirty flag to false"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Error Handling:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Prints "Failed to load the Gorge recipe book" on JSON decode failure'}),"\n",(0,r.jsx)(n.li,{children:"Gracefully handles missing or corrupted data"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"local recipe_book = QuagmireRecipeBook()\nrecipe_book:Load()\n-- Asynchronously loads data from persistent storage\n"})}),"\n",(0,r.jsx)(n.h3,{id:"save",children:"Save()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nSaves recipe data to persistent storage if changes have been made."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Process:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Checks dirty flag to avoid unnecessary saves"}),"\n",(0,r.jsx)(n.li,{children:'Triggers UI refresh event "quagmire_refreshrecipbookwidget"'}),"\n",(0,r.jsx)(n.li,{children:"Encodes recipe data as JSON"}),"\n",(0,r.jsx)(n.li,{children:'Saves to persistent storage with key "recipebook"'}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"local recipe_book = QuagmireRecipeBook()\n-- Make changes to recipes...\nrecipe_book:Save() -- Only saves if dirty flag is true\n"})}),"\n",(0,r.jsx)(n.h3,{id:"register-world",children:"RegisterWorld(world)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nRegisters the recipe book with world event listeners for automatic recipe discovery and appraisal."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"world"})," (EntityScript): World entity to listen for events"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Events Registered:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"quagmire_recipediscovered"'}),": Triggered when new recipes are cooked"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"quagmire_recipeappraised"'}),": Triggered when recipes are evaluated for coins"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"local recipe_book = QuagmireRecipeBook()\nrecipe_book:RegisterWorld(TheWorld)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"recipe-data-structure",children:"Recipe Data Structure"}),"\n",(0,r.jsx)(n.h3,{id:"recipe-entry-format",children:"Recipe Entry Format"}),"\n",(0,r.jsx)(n.p,{children:"Each recipe entry contains the following structure:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'{\n    dish = true/false,           -- Whether it\'s a dish (vs syrup)\n    station = {"cookpot", "..."},-- Array of compatible cooking stations\n    size = "small/large/syrup",  -- Recipe size category\n    new = "new",                 -- New recipe marker\n    date = "DD/MM/YYYY/HH:MM:SS", -- Discovery timestamp\n    recipes = {                  -- Array of ingredient combinations\n        {"ingredient1", "ingredient2", ...},\n        {"variant1", "variant2", ...}\n    },\n    session = "session_id",      -- Session identifier for temporary unlock\n    base_value = {               -- Coin values for base dish\n        coin1 = 1,\n        coin2 = 2,\n        coin3 = nil,\n        coin4 = nil\n    },\n    silver_value = {             -- Coin values for silver-quality dish\n        coin1 = 2,\n        coin2 = 3,\n        coin3 = 1,\n        coin4 = nil\n    },\n    tags = {"craving_tag", "snack"} -- Recipe tags for cravings and penalties\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"internal-functions",children:"Internal Functions"}),"\n",(0,r.jsx)(n.h3,{id:"remove-cooked-from-name",children:"RemoveCookedFromName(ingredients)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nNormalizes ingredient names by removing cooking state indicators."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ingredients"})," (table): Array of ingredient names"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"(table): Array of normalized ingredient names"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Transformations:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"_cooked_"'})," \u2192 ",(0,r.jsx)(n.code,{children:'""'})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"cooked_"'})," \u2192 ",(0,r.jsx)(n.code,{children:'""'})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"quagmire_cooked"'})," \u2192 ",(0,r.jsx)(n.code,{children:'"quagmire_"'})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"_cooked"'})," \u2192 ",(0,r.jsx)(n.code,{children:'""'})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"cooked"'})," \u2192 ",(0,r.jsx)(n.code,{children:'""'})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"is-known-ingredients",children:"IsKnownIngredients(recipes, ingredients)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nChecks if an ingredient combination is already known for a recipe."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"recipes"})," (table): Array of known ingredient combinations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ingredients"})," (table): Ingredient combination to check"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"(number|nil): Index of matching recipe, or nil if not found"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"on-recipe-discovered",children:"OnRecipeDiscovered(self, data)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nEvent handler for new recipe discovery. Updates recipe database and triggers notifications."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"self"})," (QuagmireRecipeBook): Recipe book instance"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"data"})," (table): Recipe discovery data"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Process:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Validates recipe (excludes burnt/goop products)"}),"\n",(0,r.jsx)(n.li,{children:"Normalizes and sorts ingredients"}),"\n",(0,r.jsx)(n.li,{children:"Determines station size based on ingredient count"}),"\n",(0,r.jsx)(n.li,{children:"Updates or creates recipe entry"}),"\n",(0,r.jsx)(n.li,{children:"Manages ingredient combination storage (MAX_RECIPES limit)"}),"\n",(0,r.jsx)(n.li,{children:"Triggers UI notification event"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"on-recipe-appraised",children:"OnRecipeAppraised(self, data)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nEvent handler for recipe coin evaluation. Updates coin values and recipe tags."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"self"})," (QuagmireRecipeBook): Recipe book instance"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"data"})," (table): Recipe appraisal data including coins and quality"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Process:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Constructs coin value structure"}),"\n",(0,r.jsx)(n.li,{children:"Determines value type (base_value vs silver_value)"}),"\n",(0,r.jsx)(n.li,{children:"Updates recipe with better coin values"}),"\n",(0,r.jsx)(n.li,{children:"Adds craving and penalty tags"}),"\n",(0,r.jsx)(n.li,{children:"Saves changes automatically"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,r.jsx)(n.h3,{id:"basic-recipe-book-setup",children:"Basic Recipe Book Setup"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'local QuagmireRecipeBook = require("quagmire_recipebook")\n\n-- Create and initialize recipe book\nlocal recipe_book = QuagmireRecipeBook()\nrecipe_book:Load()\nrecipe_book:RegisterWorld(TheWorld)\n\n-- Check if player can access a specific recipe\nlocal can_cook_bisque = recipe_book:IsRecipeUnlocked("quagmire_bisque")\nif can_cook_bisque then\n    print("Bisque recipe permanently unlocked!")\nend\n\n-- Get all currently accessible recipes\nlocal available_recipes = recipe_book:GetValidRecipes()\nfor product_name, recipe_data in pairs(available_recipes) do\n    print("Can cook:", product_name)\n    print("Stations:", table.concat(recipe_data.station, ", "))\nend\n'})}),"\n",(0,r.jsx)(n.h3,{id:"recipe-discovery-simulation",children:"Recipe Discovery Simulation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- Simulate discovering a new recipe\nlocal discovery_data = {\n    product = "quagmire_bisque",\n    ingredients = {"quagmire_crabmeat", "potato", "onion"},\n    station = "cookpot",\n    dish = true\n}\n\n-- This would normally be triggered by game events\nTheWorld:PushEvent("quagmire_recipediscovered", discovery_data)\n\n-- Simulate recipe appraisal\nlocal appraisal_data = {\n    product = "quagmire_bisque",\n    coins = {1, 2, 0, 0},\n    silverdish = false,\n    matchedcraving = "hearty",\n    snackpenalty = false\n}\n\nTheWorld:PushEvent("quagmire_recipeappraised", appraisal_data)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"integration-points",children:"Integration Points"}),"\n",(0,r.jsx)(n.h3,{id:"achievement-system-integration",children:"Achievement System Integration"}),"\n",(0,r.jsx)(n.p,{children:"The recipe book integrates with the achievement system through:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Permanent Unlocks"}),": Recipes unlocked via ",(0,r.jsx)(n.code,{children:'"food_[name]"'})," achievements"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cross-Session Persistence"}),": Achievement-based unlocks persist across games"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Temporary Access"}),": Session-based discovery for preview before permanent unlock"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"event-system-integration",children:"Event System Integration"}),"\n",(0,r.jsx)(n.p,{children:"Key events for recipe book functionality:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Discovery"}),": ",(0,r.jsx)(n.code,{children:'"quagmire_recipediscovered"'})," from cooking system"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Appraisal"}),": ",(0,r.jsx)(n.code,{children:'"quagmire_recipeappraised"'})," from tribute evaluation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"UI Refresh"}),": ",(0,r.jsx)(n.code,{children:'"quagmire_refreshrecipbookwidget"'})," for interface updates"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"persistence-system-integration",children:"Persistence System Integration"}),"\n",(0,r.jsx)(n.p,{children:"Data persistence through:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Storage Key"}),": ",(0,r.jsx)(n.code,{children:'"recipebook"'})," in persistent storage"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Format"}),": JSON-encoded recipe data structure"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Platform Support"}),": Conditional based on platform capabilities"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"related-modules",children:"Related Modules"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./quagmire_achievements.md",children:"Quagmire Achievements"}),": Recipe unlock achievements"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./eventachievements.md",children:"Event Achievements"}),": Core achievement system"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./cooking.md",children:"Cooking"}),": Recipe cooking mechanics"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./json.md",children:"JSON"}),": Data serialization for persistence"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);