"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[7643],{1071:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"api-vanilla/global-objects/global-objects-overview","title":"Global Objects Overview","description":"Last Update: 2023-07-06","source":"@site/docs/api-vanilla/global-objects/index.md","sourceDirName":"api-vanilla/global-objects","slug":"/api/global-objects","permalink":"/dst-api-webdocs/docs/api/global-objects","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"global-objects-overview","title":"Global Objects Overview","sidebar_position":1,"last_updated":"2023-07-06T00:00:00.000Z","slug":"/api/global-objects"},"sidebar":"docs","previous":{"title":"Global Objects","permalink":"/dst-api-webdocs/docs/category/global-objects"},"next":{"title":"TheWorld","permalink":"/dst-api-webdocs/docs/api-vanilla/global-objects/theworld"}}');var t=s(4848),i=s(8453);const a={id:"global-objects-overview",title:"Global Objects Overview",sidebar_position:1,last_updated:new Date("2023-07-06T00:00:00.000Z"),slug:"/api/global-objects"},r="Global Objects Overview",o={},c=[{value:"Key Global Objects",id:"key-global-objects",level:2},{value:"Other Important Global Objects",id:"other-important-global-objects",level:2},{value:"Context-Dependent Globals",id:"context-dependent-globals",level:2},{value:"Using Global Objects in Mods",id:"using-global-objects-in-mods",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Common Pitfalls",id:"common-pitfalls",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"Last Update: 2023-07-06"})}),"\n",(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"global-objects-overview",children:"Global Objects Overview"})}),"\n",(0,t.jsx)(n.p,{children:"Global objects in Don't Starve Together are special singleton instances that provide access to core game systems, data, and functionality. These objects are accessible from anywhere in your mod code and serve as the primary interface for interacting with the game world, players, networking, and other essential systems."}),"\n",(0,t.jsx)(n.h2,{id:"key-global-objects",children:"Key Global Objects"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Object"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/api-vanilla/global-objects/theworld",children:"TheWorld"})}),(0,t.jsx)(n.td,{children:"The main world instance that manages terrain, environment, and game state"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/api-vanilla/global-objects/theplayer",children:"ThePlayer"})}),(0,t.jsx)(n.td,{children:"The local player character (client-side only)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/api-vanilla/global-objects/thenet",children:"TheNet"})}),(0,t.jsx)(n.td,{children:"Networking functionality for multiplayer and server management"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/api-vanilla/global-objects/thesim",children:"TheSim"})}),(0,t.jsx)(n.td,{children:"Low-level simulation engine access"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/api-vanilla/global-objects/global",children:"GLOBAL"})}),(0,t.jsx)(n.td,{children:"The game's global namespace for accessing internal functions and tables"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"other-important-global-objects",children:"Other Important Global Objects"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Object"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/api-vanilla/global-objects/theinput",children:"TheInput"})}),(0,t.jsx)(n.td,{children:"Manages input handling from keyboard, mouse, and controllers"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/api-vanilla/global-objects/theinventory",children:"TheInventory"})}),(0,t.jsx)(n.td,{children:"Manages player's item collection (including skins)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/api-vanilla/global-objects/theshard",children:"TheShard"})}),(0,t.jsx)(n.td,{children:"Handles communication between different server shards"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/api-vanilla/global-objects/theglobalinstance",children:"TheGlobalInstance"})}),(0,t.jsx)(n.td,{children:"Manages global data that persists across shards"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/api-vanilla/global-objects/thefrontend",children:"TheFrontEnd"})}),(0,t.jsx)(n.td,{children:"Controls the game's user interface and screens"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/api-vanilla/global-objects/theclock",children:"TheClock"})}),(0,t.jsx)(n.td,{children:"Provides timing and day/night cycle information"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/api-vanilla/global-objects/thefocalpoint",children:"TheFocalPoint"})}),(0,t.jsx)(n.td,{children:"Controls the camera's focal point"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"context-dependent-globals",children:"Context-Dependent Globals"}),"\n",(0,t.jsx)(n.p,{children:"Some global objects only exist in specific contexts:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ThePlayer"})," - Only exists on the client and represents the local player"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"AllPlayers"})," - An array of all player entities in the game"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"TheCamera"})," - Only exists on the client and manages the game camera"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"TheGameModes"})," - Manages different game modes (survival, wilderness, etc.)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"using-global-objects-in-mods",children:"Using Global Objects in Mods"}),"\n",(0,t.jsx)(n.p,{children:"Global objects are a powerful way to interact with the game, but they should be used carefully:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'-- Example: Using global objects in a mod\nlocal function OnWorldLoaded(inst)\n    -- Check if we are on the server\n    if TheWorld.ismastersim then\n        -- Modify world properties\n        TheWorld.components.seasons:SetSeasonLength(TUNING.SEASON_LENGTH_MODERATE)\n        \n        -- Get all players\n        for i, v in ipairs(AllPlayers) do\n            -- Give each player some items\n            if v.components.inventory then\n                v.components.inventory:GiveItem(SpawnPrefab("log"))\n            end\n        end\n    end\n    \n    -- Client-side code (runs on all clients)\n    if ThePlayer then\n        -- Show a message to the local player\n        ThePlayer.components.talker:Say("World loaded!")\n    end\nend\n\n-- Listen for world load event\nAddPrefabPostInit("world", OnWorldLoaded)\n'})}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Check Existence"}),": Always check if a global object exists before using it (e.g., ",(0,t.jsx)(n.code,{children:"if ThePlayer then"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Check Context"}),": Verify you're in the right execution context (client/server) with ",(0,t.jsx)(n.code,{children:"TheWorld.ismastersim"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Use Local References"}),": Store frequently accessed globals in local variables for better performance"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Avoid Overwriting"}),": Never reassign global objects (e.g., ",(0,t.jsx)(n.code,{children:"TheWorld = nil"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Understand Authority"}),": Only the server has authority to make most gameplay changes"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"common-pitfalls",children:"Common Pitfalls"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Using ",(0,t.jsx)(n.strong,{children:"ThePlayer"})," on a dedicated server (it doesn't exist there)"]}),"\n",(0,t.jsx)(n.li,{children:"Modifying server state from client code"}),"\n",(0,t.jsx)(n.li,{children:"Assuming all components exist on all objects"}),"\n",(0,t.jsx)(n.li,{children:"Using TheWorld components on the client (many only exist on the server)"}),"\n",(0,t.jsx)(n.li,{children:"Not checking if global objects are initialized before using them"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Global objects are essential for Don't Starve Together modding, providing the primary interface to interact with the game's systems. Understanding these objects and their proper usage is key to creating effective and compatible mods."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>r});var l=s(6540);const t={},i=l.createContext(t);function a(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);