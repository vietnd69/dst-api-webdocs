"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[6108],{7184:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"api-vanilla/components/container","title":"Container","description":"The Container component allows entities to store multiple items within them, such as chests, backpacks, or other storage containers. It manages slot configuration, opening/closing, and item access.","source":"@site/docs/api-vanilla/components/container.md","sourceDirName":"api-vanilla/components","slug":"/api-vanilla/components/container","permalink":"/dst-api-webdocs/docs/api-vanilla/components/container","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":24,"frontMatter":{"id":"container","title":"Container","sidebar_position":24},"sidebar":"docs","previous":{"title":"Builder Component","permalink":"/dst-api-webdocs/docs/api-vanilla/components/builder"},"next":{"title":"Eater","permalink":"/dst-api-webdocs/docs/api-vanilla/components/eater"}}');var o=t(4848),s=t(8453);const r={id:"container",title:"Container",sidebar_position:24},a="Container Component",c={},l=[{value:"Basic Usage",id:"basic-usage",level:2},{value:"Properties",id:"properties",level:2},{value:"Key Methods",id:"key-methods",level:2},{value:"Slot Management",id:"slot-management",level:3},{value:"Item Operations",id:"item-operations",level:3},{value:"Container Configuration",id:"container-configuration",level:3},{value:"Item Slot Configuration",id:"item-slot-configuration",level:2},{value:"Integration with Other Components",id:"integration-with-other-components",level:2},{value:"See also",id:"see-also",level:2},{value:"Example: Creating a Chest Container",id:"example-creating-a-chest-container",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"container-component",children:"Container Component"})}),"\n",(0,o.jsx)(e.p,{children:"The Container component allows entities to store multiple items within them, such as chests, backpacks, or other storage containers. It manages slot configuration, opening/closing, and item access."}),"\n",(0,o.jsx)(e.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:'-- Add a container component to an entity\nlocal entity = CreateEntity()\nentity:AddComponent("container")\n\n-- Configure the container component\nlocal container = entity.components.container\ncontainer:SetNumSlots(12)\ncontainer.widgetslotpos = {} -- Position slots in UI\ncontainer.widgetanimbank = "ui_chest_3x3"\ncontainer.widgetanimbuild = "ui_chest_3x3"\n'})}),"\n",(0,o.jsx)(e.h2,{id:"properties",children:"Properties"}),"\n",(0,o.jsxs)(e.table,{children:[(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"Property"}),(0,o.jsx)(e.th,{children:"Type"}),(0,o.jsx)(e.th,{children:"Description"})]})}),(0,o.jsxs)(e.tbody,{children:[(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"numslots"})}),(0,o.jsx)(e.td,{children:"Number"}),(0,o.jsx)(e.td,{children:"Number of storage slots in the container"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"itemslots"})}),(0,o.jsx)(e.td,{children:"Table"}),(0,o.jsx)(e.td,{children:"Table of items stored in the container"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"openable"})}),(0,o.jsx)(e.td,{children:"Boolean"}),(0,o.jsx)(e.td,{children:"Whether the container can be opened"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"openers"})}),(0,o.jsx)(e.td,{children:"Table"}),(0,o.jsx)(e.td,{children:"List of entities that have this container open"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"widgetslotpos"})}),(0,o.jsx)(e.td,{children:"Table"}),(0,o.jsx)(e.td,{children:"Positions of slots in UI"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"widgetbuttoninfo"})}),(0,o.jsx)(e.td,{children:"Table"}),(0,o.jsx)(e.td,{children:"Button info for container UI"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"widgetanimbank"})}),(0,o.jsx)(e.td,{children:"String"}),(0,o.jsx)(e.td,{children:"Animation bank for container UI"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"widgetanimbuild"})}),(0,o.jsx)(e.td,{children:"String"}),(0,o.jsx)(e.td,{children:"Animation build for container UI"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"widgetpos"})}),(0,o.jsx)(e.td,{children:"Vector3"}),(0,o.jsx)(e.td,{children:"Position of container UI"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"acceptsstacks"})}),(0,o.jsx)(e.td,{children:"Boolean"}),(0,o.jsx)(e.td,{children:"Whether container accepts stacked items"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"usespecificslotsforitems"})}),(0,o.jsx)(e.td,{children:"Boolean"}),(0,o.jsx)(e.td,{children:"Whether items have specific slot requirements"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"type"})}),(0,o.jsx)(e.td,{children:"String"}),(0,o.jsx)(e.td,{children:"Container type (for UI and behaviors)"})]})]})]}),"\n",(0,o.jsx)(e.h2,{id:"key-methods",children:"Key Methods"}),"\n",(0,o.jsx)(e.h3,{id:"slot-management",children:"Slot Management"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:'-- Set number of slots\ncontainer:SetNumSlots(9)\n\n-- Check if slot is empty\nlocal is_empty = container:IsEmpty(slot_num)\n\n-- Check if container has a specific item type\nlocal has_log = container:Has("log", 1)\n\n-- Count items of a specific type\nlocal num_rocks = container:CountItems("rocks")\n\n-- Find specific item in container\nlocal axe = container:FindItem(function(item) return item.prefab == "axe" end)\n'})}),"\n",(0,o.jsx)(e.h3,{id:"item-operations",children:"Item Operations"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:"-- Give an item to the container\ncontainer:GiveItem(item)\n\n-- Give item to a specific slot\ncontainer:GiveItemInSlot(item, slot_num)\n\n-- Take an item from a specific slot\nlocal item = container:RemoveItemBySlot(slot_num)\n\n-- Drop all contents\ncontainer:DropEverything()\n\n-- Close container for all users\ncontainer:Close()\n\n-- Open container for a user\ncontainer:Open(opener)\n"})}),"\n",(0,o.jsx)(e.h3,{id:"container-configuration",children:"Container Configuration"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:"-- Make container non-openable (e.g., just stores items internally)\ncontainer.openable = false\n\n-- Set UI positions for a 3x3 container\nlocal function MakeContainerSlots(container)\n    container.widgetslotpos = {}\n    for y = 0, 2 do\n        for x = 0, 2 do\n            table.insert(container.widgetslotpos, Vector3(80*x-80*2/2, 80*y-80*2/2, 0))\n        end\n    end\nend\n"})}),"\n",(0,o.jsx)(e.h2,{id:"item-slot-configuration",children:"Item Slot Configuration"}),"\n",(0,o.jsx)(e.p,{children:"Container slots can be configured in multiple ways:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Standard Container"}),": Fixed number of slots for any item"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Specialized Container"}),": Slots that only accept specific items"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Sorted Container"}),": Container that sorts items automatically"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"integration-with-other-components",children:"Integration with Other Components"}),"\n",(0,o.jsx)(e.p,{children:"The Container component often works with:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"Inventory"})," - For transferring items between containers and inventories"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"ItemSlot"})," - For slot-specific behaviors"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"Preserver"})," - For containers that preserve items (like ice boxes)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"Inventoryitem"})," - For containers that can be carried"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"see-also",children:"See also"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/inventory",children:"Inventory Component"})," - For player item storage and management"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/other-components",children:"Inventoryitem Component"})," - For items that can be stored in containers"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/stackable",children:"Stackable Component"})," - For stacking items in containers"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/other-components",children:"Preserver Component"})," - For preserving items in containers"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.a,{href:"/dst-api-webdocs/docs/api-vanilla/components/equippable",children:"Equippable Component"})," - For wearable containers like backpacks"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"example-creating-a-chest-container",children:"Example: Creating a Chest Container"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:'local function MakeChest()\n    local inst = CreateEntity()\n    \n    -- Add basic components\n    inst.entity:AddTransform()\n    inst.entity:AddAnimState()\n    inst.entity:AddNetwork()\n    \n    -- Add container\n    inst:AddComponent("container")\n    local container = inst.components.container\n    container:SetNumSlots(9)\n    \n    -- Configure container UI\n    container.widgetslotpos = {}\n    for y = 0, 2 do\n        for x = 0, 2 do\n            table.insert(container.widgetslotpos, Vector3(80*x-80*2/2, 80*y-80*2/2, 0))\n        end\n    end\n    container.widgetanimbank = "ui_chest_3x3"\n    container.widgetanimbuild = "ui_chest_3x3"\n    container.widgetpos = Vector3(0, 200, 0)\n    container.side_align_tip = 160\n    \n    -- Add events for opening/closing\n    inst:ListenForEvent("onopen", function(inst)\n        inst.AnimState:PlayAnimation("open")\n        inst.SoundEmitter:PlaySound("dontstarve/wilson/chest_open")\n    end)\n    \n    inst:ListenForEvent("onclose", function(inst)\n        inst.AnimState:PlayAnimation("close")\n        inst.SoundEmitter:PlaySound("dontstarve/wilson/chest_close")\n    end)\n    \n    return inst\nend\n\n-- Example of a specialized container (backpack)\nlocal function MakeBackpack()\n    local inst = CreateEntity()\n    \n    -- Add basic components\n    inst.entity:AddTransform()\n    inst.entity:AddAnimState()\n    inst.entity:AddNetwork()\n    \n    -- Make it an inventory item\n    inst:AddComponent("inventoryitem")\n    inst.components.inventoryitem.cangoincontainer = true\n    \n    -- Add container\n    inst:AddComponent("container")\n    local container = inst.components.container\n    container:SetNumSlots(4)\n    \n    -- Configure container UI\n    container.widgetslotpos = {\n        Vector3(-37, 0, 0),\n        Vector3(-12, 0, 0),\n        Vector3(12, 0, 0),\n        Vector3(37, 0, 0),\n    }\n    container.widgetanimbank = "ui_backpack_2x2"\n    container.widgetanimbuild = "ui_backpack_2x2"\n    container.widgetpos = Vector3(-5, -50, 0)\n    \n    -- Make it equippable\n    inst:AddComponent("equippable")\n    inst.components.equippable.equipslot = EQUIPSLOTS.BODY\n    \n    return inst\nend\n'})})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>a});var i=t(6540);const o={},s=i.createContext(o);function r(n){const e=i.useContext(s);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:r(n.components),i.createElement(s.Provider,{value:e},n.children)}}}]);