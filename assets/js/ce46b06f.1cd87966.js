"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[80199],{28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var r=i(96540);const s={},t=r.createContext(s);function a(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(t.Provider,{value:n},e.children)}},58471:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"game-scripts/core-systems/data-management/utilities/traps","title":"Traps","description":"Legacy redirection file pointing to trap functionality now located in scenarios folder","source":"@site/docs/game-scripts/core-systems/data-management/utilities/traps.md","sourceDirName":"game-scripts/core-systems/data-management/utilities","slug":"/game-scripts/core-systems/data-management/utilities/traps","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/data-management/utilities/traps","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"traps","title":"Traps","description":"Legacy redirection file pointing to trap functionality now located in scenarios folder","sidebar_position":3,"last_updated":"2025-06-21T00:00:00.000Z","build_version":676042,"change_status":"stable"},"sidebar":"docs","previous":{"title":"Scheduler","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/data-management/utilities/scheduler"},"next":{"title":"Development Tools Overview","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/development-tools/"}}');var s=i(74848),t=i(28453);const a={id:"traps",title:"Traps",description:"Legacy redirection file pointing to trap functionality now located in scenarios folder",sidebar_position:3,last_updated:new Date("2025-06-21T00:00:00.000Z"),build_version:676042,change_status:"stable"},o="Traps",c={},l=[{value:"Version History",id:"version-history",level:2},{value:"Overview",id:"overview",level:2},{value:"File Contents",id:"file-contents",level:2},{value:"Migration Information",id:"migration-information",level:2},{value:"Historical Context",id:"historical-context",level:3},{value:"Current Location",id:"current-location",level:3},{value:"Scenarios Integration",id:"scenarios-integration",level:2},{value:"Accessing Trap Functionality",id:"accessing-trap-functionality",level:3},{value:"Scenario-Based Trap Examples",id:"scenario-based-trap-examples",level:3},{value:"Migration Guide",id:"migration-guide",level:2},{value:"For Developers",id:"for-developers",level:3},{value:"For Modders",id:"for-modders",level:3},{value:"Finding Trap Content",id:"finding-trap-content",level:2},{value:"Scenarios Directory Structure",id:"scenarios-directory-structure",level:3},{value:"Search Strategy",id:"search-strategy",level:3},{value:"Related Modules",id:"related-modules",level:2},{value:"Development Notes",id:"development-notes",level:2},{value:"Why the Migration Occurred",id:"why-the-migration-occurred",level:3},{value:"Best Practices",id:"best-practices",level:3},{value:"Source Reference",id:"source-reference",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"traps",children:"Traps"})}),"\n",(0,s.jsx)(n.h2,{id:"version-history",children:"Version History"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Build Version"}),(0,s.jsx)(n.th,{children:"Change Date"}),(0,s.jsx)(n.th,{children:"Change Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"676042"}),(0,s.jsx)(n.td,{children:"2025-06-21"}),(0,s.jsx)(n.td,{children:"stable"}),(0,s.jsx)(n.td,{children:"Current version"})]})})]}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"traps.lua"})," file serves as a legacy redirection file that indicates trap functionality has been relocated to the scenarios system. This file contains only a comment directing developers to the scenarios folder where trap-related content is now maintained."]}),"\n",(0,s.jsx)(n.h2,{id:"file-contents",children:"File Contents"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'--These are all in the "scenarios" folder now!\n'})}),"\n",(0,s.jsx)(n.h2,{id:"migration-information",children:"Migration Information"}),"\n",(0,s.jsx)(n.h3,{id:"historical-context",children:"Historical Context"}),"\n",(0,s.jsxs)(n.p,{children:["Previously, trap definitions and configurations were maintained in the ",(0,s.jsx)(n.code,{children:"traps.lua"})," file as part of the core systems. The functionality has been reorganized and moved to a more appropriate location within the scenarios system for better organization and modularity."]}),"\n",(0,s.jsx)(n.h3,{id:"current-location",children:"Current Location"}),"\n",(0,s.jsx)(n.p,{children:"Trap-related functionality can now be found in:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Primary Location:"})," ",(0,s.jsx)(n.code,{children:"scripts/scenarios/"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Available Trap Scenarios:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Chest scenarios with trap mechanisms"}),"\n",(0,s.jsx)(n.li,{children:"Environmental trap configurations"}),"\n",(0,s.jsx)(n.li,{children:"Interactive trap behaviors"}),"\n",(0,s.jsx)(n.li,{children:"Trap-related world generation logic"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"scenarios-integration",children:"Scenarios Integration"}),"\n",(0,s.jsx)(n.h3,{id:"accessing-trap-functionality",children:"Accessing Trap Functionality"}),"\n",(0,s.jsxs)(n.p,{children:["Instead of referencing ",(0,s.jsx)(n.code,{children:"traps.lua"}),", developers should now look to the scenarios system:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Legacy approach (deprecated)\n-- require "traps"\n\n-- Current approach\n-- Trap functionality is now integrated into specific scenario files\n-- Example: scripts/scenarios/chest_abandonedboat.lua contains trapped chest logic\n'})}),"\n",(0,s.jsx)(n.h3,{id:"scenario-based-trap-examples",children:"Scenario-Based Trap Examples"}),"\n",(0,s.jsx)(n.p,{children:"The scenarios folder contains various trap implementations:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Example of trap functionality in scenarios\n-- Located in scripts/scenarios/[specific_scenario].lua\nlocal function SetupTrappedChest(inst)\n    -- Trap logic now embedded in scenario-specific context\n    inst:AddComponent("trap")\n    inst.components.trap:SetSpringRadius(2)\n    -- ... additional trap configuration\nend\n'})}),"\n",(0,s.jsx)(n.h2,{id:"migration-guide",children:"Migration Guide"}),"\n",(0,s.jsx)(n.h3,{id:"for-developers",children:"For Developers"}),"\n",(0,s.jsxs)(n.p,{children:["If you were previously referencing or modifying ",(0,s.jsx)(n.code,{children:"traps.lua"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Identify the specific trap functionality"})," you need"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Search the scenarios folder"})," for relevant trap implementations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reference scenario-specific files"})," instead of the legacy traps module"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Follow scenario conventions"})," for implementing new trap behaviors"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"for-modders",children:"For Modders"}),"\n",(0,s.jsx)(n.p,{children:"When creating mods that involve traps:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Instead of modifying traps.lua, create scenario-based implementations\nlocal function AddCustomTrap()\n    -- Use scenario system for trap logic\n    local scenario_data = {\n        trap_type = "custom_trap",\n        trigger_radius = 3,\n        effects = {"damage", "stun"}\n    }\n    \n    return scenario_data\nend\n'})}),"\n",(0,s.jsx)(n.h2,{id:"finding-trap-content",children:"Finding Trap Content"}),"\n",(0,s.jsx)(n.h3,{id:"scenarios-directory-structure",children:"Scenarios Directory Structure"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"scripts/scenarios/\n\u251c\u2500\u2500 chest_abandonedboat.lua    -- Trapped chest scenarios\n\u251c\u2500\u2500 camera_maxwellthrone.lua   -- Camera-based trap triggers  \n\u251c\u2500\u2500 [scenario_name].lua        -- Other scenario files with trap logic\n\u2514\u2500\u2500 ...\n"})}),"\n",(0,s.jsx)(n.h3,{id:"search-strategy",children:"Search Strategy"}),"\n",(0,s.jsx)(n.p,{children:"To locate specific trap functionality:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Browse scenarios folder"})," for files containing trap-related names"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:'Search for "trap" keyword'})," within scenario files"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Check scenario documentation"})," for trap-specific behaviors"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reference scenario index"})," for organized trap listings"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"related-modules",children:"Related Modules"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"../scenarios/index.md",children:"Scenarios"}),": Main scenarios system documentation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"../components/index.md",children:"Components"}),": Trap component implementations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"../map/index.md",children:"World Generation"}),": Trap placement in world generation"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"development-notes",children:"Development Notes"}),"\n",(0,s.jsx)(n.h3,{id:"why-the-migration-occurred",children:"Why the Migration Occurred"}),"\n",(0,s.jsx)(n.p,{children:"The relocation of trap functionality to scenarios provides:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Better Organization"}),": Traps are now contextualized within their usage scenarios"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Improved Modularity"}),": Scenario-specific trap behavior is isolated and maintainable"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Enhanced Flexibility"}),": Traps can be customized per scenario without affecting global systems"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Clearer Dependencies"}),": Trap logic is coupled with the scenarios that use them"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.p,{children:"When working with trap functionality:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use scenario-based approach"})," for implementing new traps"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reference existing scenarios"})," for established trap patterns"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Maintain scenario conventions"})," for consistency"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Document trap behaviors"})," within their specific scenario contexts"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"source-reference",children:"Source Reference"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"File Location:"})," ",(0,s.jsx)(n.code,{children:"scripts/traps.lua"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Content Type:"})," Legacy redirection comment"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Current Implementation:"})," See ",(0,s.jsx)(n.code,{children:"scripts/scenarios/"})," directory"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Global Access:"})," No longer provides global trap functionality - use scenario-specific implementations instead"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);