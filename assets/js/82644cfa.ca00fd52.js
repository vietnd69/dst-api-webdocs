"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[43075],{28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var s=t(96540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}},65525:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"game-scripts/core-systems/networking-communication/chat-commands/wordfilter","title":"Word Filter","description":"Content filtering system for chat and text input validation","source":"@site/docs/game-scripts/core-systems/networking-communication/chat-commands/wordfilter.md","sourceDirName":"game-scripts/core-systems/networking-communication/chat-commands","slug":"/game-scripts/core-systems/networking-communication/chat-commands/wordfilter","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/networking-communication/chat-commands/wordfilter","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"wordfilter","title":"Word Filter","description":"Content filtering system for chat and text input validation","sidebar_position":5,"last_updated":"2025-06-21T00:00:00.000Z","build_version":676042,"change_status":"stable"},"sidebar":"docs","previous":{"title":"VoteUtil","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/networking-communication/chat-commands/voteutil"},"next":{"title":"Multiplayer Overview","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/networking-communication/multiplayer/"}}');var i=t(74848),r=t(28453);const a={id:"wordfilter",title:"Word Filter",description:"Content filtering system for chat and text input validation",sidebar_position:5,last_updated:new Date("2025-06-21T00:00:00.000Z"),build_version:676042,change_status:"stable"},l="Word Filter",o={},c=[{value:"Version History",id:"version-history",level:2},{value:"Overview",id:"overview",level:2},{value:"Usage Example",id:"usage-example",level:2},{value:"Filter Structure",id:"filter-structure",level:2},{value:"Exact Match Filter",id:"exact-match-filter",level:3},{value:"Loose Match Filter",id:"loose-match-filter",level:3},{value:"Constants",id:"constants",level:2},{value:"FILTER_PREFIX",id:"filter_prefix",level:3},{value:"Implementation Details",id:"implementation-details",level:2},{value:"Hash-Based Filtering",id:"hash-based-filtering",level:3},{value:"Pattern Matching",id:"pattern-matching",level:3},{value:"Security Features",id:"security-features",level:2},{value:"Content Obfuscation",id:"content-obfuscation",level:3},{value:"Performance Optimization",id:"performance-optimization",level:3},{value:"Usage Patterns",id:"usage-patterns",level:2},{value:"Chat Message Validation",id:"chat-message-validation",level:3},{value:"User Input Sanitization",id:"user-input-sanitization",level:3},{value:"Integration Points",id:"integration-points",level:2},{value:"Chat System Integration",id:"chat-system-integration",level:3},{value:"User Interface Validation",id:"user-interface-validation",level:3},{value:"Related Modules",id:"related-modules",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"word-filter",children:"Word Filter"})}),"\n",(0,i.jsx)(n.h2,{id:"version-history",children:"Version History"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Build Version"}),(0,i.jsx)(n.th,{children:"Change Date"}),(0,i.jsx)(n.th,{children:"Change Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"676042"}),(0,i.jsx)(n.td,{children:"2025-06-21"}),(0,i.jsx)(n.td,{children:"stable"}),(0,i.jsx)(n.td,{children:"Current version"})]})})]}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"wordfilter"})," module provides a content filtering system for Don't Starve Together to validate chat messages and text input. It implements both exact match filtering using hashed strings and loose match filtering using encoded patterns to maintain a safe gaming environment."]}),"\n",(0,i.jsx)(n.h2,{id:"usage-example",children:"Usage Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'-- The wordfilter is accessed as a data structure, not a module\n-- It contains exact_match and loose_match tables for filtering\nlocal wordfilter = require("wordfilter")\n\n-- Access filter data structures\nlocal exact_matches = wordfilter.exact_match\nlocal loose_patterns = wordfilter.loose_match\n\n-- Example usage in chat validation (conceptual)\nlocal function ContainsFilteredContent(message)\n    -- Check exact matches using hash lookup\n    local message_hash = CalculateHash(message)\n    if exact_matches[message_hash] then\n        return true\n    end\n    \n    -- Check loose matches using pattern matching  \n    for _, pattern in ipairs(loose_patterns) do\n        local decoded = DecodeFilterPattern(pattern)\n        if string.find(message:lower(), decoded) then\n            return true\n        end\n    end\n    \n    return false\nend\n'})}),"\n",(0,i.jsx)(n.h2,{id:"filter-structure",children:"Filter Structure"}),"\n",(0,i.jsx)(n.h3,{id:"exact-match-filter",children:"Exact Match Filter"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"table"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Status:"})," ",(0,i.jsx)(n.code,{children:"stable"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Description:"})," A hash-based lookup table for exact string matching. Uses numeric hash keys mapped to boolean values for efficient filtering."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Actual Data Structure:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"-- Sample entries from actual wordfilter.lua\nexact_match = {\n    [3197419846] = true,\n    [3197419919] = true,\n    [3263511942] = true,\n    [3582500414] = true,\n    [3644918893] = true,\n    [3648592437] = true,\n    [4019784033] = true,\n    -- ... 200+ additional hash entries\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Properties:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Total Entries"}),": 200+ pre-computed hash values"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Lookup Performance"}),": O(1) hash table access"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Storage Efficiency"}),": Boolean true values indicate filtered content"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Generated Content"}),": Automatically generated file with hashed strings"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Hash Distribution"}),": Uses 32-bit hash values for collision resistance"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"loose-match-filter",children:"Loose Match Filter"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"array"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Status:"})," ",(0,i.jsx)(n.code,{children:"stable"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Description:"})," An array of encoded patterns for substring matching against user input."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Actual Data Structure:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"-- Complete loose_match array from actual wordfilter.lua\nloose_match = {\n    'KLEI     1DYml0Y2g=',\n    'KLEI     1DY3VudA==',\n    'KLEI     1DZmFnZ290',\n    'KLEI     1DbmlnZ2E=',\n    'KLEI     1DbmlnZ2Vy',\n    'KLEI     1Dc2hpdA==',\n    'KLEI     1Dd2lnZ2Vy',\n    'KLEI     1Dd2hvcmU=',\n    'KLEI     1DYXNzaG9sZQ==',\n    'KLEI     1DZnVjaw==',\n    'KLEI     1DcmV0YXJk',\n    'KLEI     1DdjRn',\n    'KLEI     1Dd2gwcmU=',\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Properties:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Pattern Count"}),": 13 encoded filter patterns"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Encoding"}),': Base64 encoded patterns with "KLEI     1D" prefix']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Functionality"}),": Supports partial string matching and variations"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Purpose"}),": Detects obfuscated content and spelling variations"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Pattern Format"}),": ",(0,i.jsx)(n.code,{children:"'KLEI     1D' + base64_encoded_pattern"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"constants",children:"Constants"}),"\n",(0,i.jsx)(n.h3,{id:"filter_prefix",children:"FILTER_PREFIX"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Value:"})," ",(0,i.jsx)(n.code,{children:'"KLEI     "'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Status:"})," ",(0,i.jsx)(n.code,{children:"stable"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Description:"})," Standard prefix used in loose match patterns to identify filter entries."]}),"\n",(0,i.jsx)(n.h2,{id:"implementation-details",children:"Implementation Details"}),"\n",(0,i.jsx)(n.h3,{id:"hash-based-filtering",children:"Hash-Based Filtering"}),"\n",(0,i.jsx)(n.p,{children:"The exact match system uses numeric hashes for efficient lookup:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"-- Example hash lookup (internal implementation)\nlocal function IsExactMatch(input_hash)\n    return wordfilter.exact_match[input_hash] == true\nend\n"})}),"\n",(0,i.jsx)(n.h3,{id:"pattern-matching",children:"Pattern Matching"}),"\n",(0,i.jsx)(n.p,{children:"The loose match system processes encoded patterns:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"-- Example pattern matching (internal implementation)\nlocal function ContainsFilteredPattern(input_text)\n    for _, pattern in ipairs(wordfilter.loose_match) do\n        local decoded_pattern = DecodeFilterPattern(pattern)\n        if string.find(input_text:lower(), decoded_pattern) then\n            return true\n        end\n    end\n    return false\nend\n"})}),"\n",(0,i.jsx)(n.h2,{id:"security-features",children:"Security Features"}),"\n",(0,i.jsx)(n.h3,{id:"content-obfuscation",children:"Content Obfuscation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Encoded Patterns"}),": Filter patterns are base64 encoded to prevent easy circumvention"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Hash Protection"}),": Exact matches use numeric hashes rather than plain text"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Dynamic Validation"}),": Supports both exact and partial matching strategies"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"O(1) Lookup"}),": Hash-based exact matching for common cases"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Minimal Processing"}),": Encoded patterns reduce memory footprint"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Efficient Iteration"}),": Array-based loose matching for pattern scanning"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"usage-patterns",children:"Usage Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"chat-message-validation",children:"Chat Message Validation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'-- Typical usage in chat system\nlocal function ValidateChatMessage(message)\n    if not wordfilter.PassesFilter(message) then\n        return false, "Message contains inappropriate content"\n    end\n    return true\nend\n'})}),"\n",(0,i.jsx)(n.h3,{id:"user-input-sanitization",children:"User Input Sanitization"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"-- Input validation for user-generated content\nlocal function SanitizeUserInput(input)\n    if wordfilter.ContainsFilteredContent(input) then\n        return SanitizeString(input)\n    end\n    return input\nend\n"})}),"\n",(0,i.jsx)(n.h2,{id:"integration-points",children:"Integration Points"}),"\n",(0,i.jsx)(n.h3,{id:"chat-system-integration",children:"Chat System Integration"}),"\n",(0,i.jsx)(n.p,{children:"The word filter integrates with the game's chat system to automatically validate messages before display."}),"\n",(0,i.jsx)(n.h3,{id:"user-interface-validation",children:"User Interface Validation"}),"\n",(0,i.jsx)(n.p,{children:"Text input fields utilize the filter system to provide real-time content validation feedback."}),"\n",(0,i.jsx)(n.h2,{id:"related-modules",children:"Related Modules"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/dst-api-webdocs/docs/game-scripts/core-systems/networking-communication/chat-commands/chathistory",children:"Chat History"}),": Uses word filter for message validation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./consolecommands.md",children:"Console Commands"}),": Applies filtering to command input"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/dst-api-webdocs/docs/game-scripts/core-systems/networking-communication/chat-commands/usercommands",children:"User Commands"}),": Validates user command parameters"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);