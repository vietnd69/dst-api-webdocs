"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[63492],{7960:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"game-scripts/core-systems/localization-content/strings/createstringspo","title":"Create Strings POT","description":"Main game POT file generation tool for localization workflows across multiple platforms","source":"@site/docs/game-scripts/core-systems/localization-content/strings/createstringspo.md","sourceDirName":"game-scripts/core-systems/localization-content/strings","slug":"/game-scripts/core-systems/localization-content/strings/createstringspo","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/localization-content/strings/createstringspo","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"createstringspo","title":"Create Strings POT","description":"Main game POT file generation tool for localization workflows across multiple platforms","sidebar_position":4,"last_updated":"2025-06-21T00:00:00.000Z","build_version":676042,"change_status":"stable"},"sidebar":"docs","previous":{"title":"Strings and Localization Overview","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/localization-content/strings/"},"next":{"title":"Create Strings POT DLC","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/localization-content/strings/createstringspo_dlc"}}');var r=s(74848),i=s(28453);const l={id:"createstringspo",title:"Create Strings POT",description:"Main game POT file generation tool for localization workflows across multiple platforms",sidebar_position:4,last_updated:new Date("2025-06-21T00:00:00.000Z"),build_version:676042,change_status:"stable"},a="Create Strings POT",o={},d=[{value:"Version History",id:"version-history",level:2},{value:"Overview",id:"overview",level:2},{value:"Usage Example",id:"usage-example",level:2},{value:"Command Line Usage",id:"command-line-usage",level:2},{value:"Constants",id:"constants",level:2},{value:"STRING_RESERVED_LEAD_BYTES",id:"string_reserved_lead_bytes",level:3},{value:"Platform Support Matrix",id:"platform-support-matrix",level:3},{value:"Functions",id:"functions",level:2},{value:"CreateStringsPOTv1(filename, root, tbl_dta, tbl_lkp)",id:"create-strings-pot-v1",level:3},{value:"CreateStringsPOTv2(filename, root, tbl_dta, tbl_lkp)",id:"create-strings-pot-v2",level:3},{value:"IsValidString(str)",id:"is-valid-string",level:3},{value:"LookupIdValue(lkp_var, path)",id:"lookup-id-value",level:3},{value:"Common Usage Patterns",id:"common-usage-patterns",level:2},{value:"Related Modules",id:"related-modules",level:2},{value:"Status Indicators",id:"status-indicators",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"create-strings-pot",children:"Create Strings POT"})}),"\n",(0,r.jsx)(n.h2,{id:"version-history",children:"Version History"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Build Version"}),(0,r.jsx)(n.th,{children:"Change Date"}),(0,r.jsx)(n.th,{children:"Change Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"676042"}),(0,r.jsx)(n.td,{children:"2025-06-21"}),(0,r.jsx)(n.td,{children:"stable"}),(0,r.jsx)(n.td,{children:"Current version"})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"createstringspo.lua"})," script is the main tool for generating POT (Portable Object Template) files from the game's string tables. This system handles localization workflows for the base game across multiple platforms, providing industry-standard translation file formats."]}),"\n",(0,r.jsx)(n.p,{children:"The system provides:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-Platform Support"}),": Handles string generation for Steam, PlayStation, Xbox, and Rail platforms"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Localization Pipeline"}),": Converts game strings into POT format for translation workflows"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"UTF-8 Compliance"}),": Properly handles UTF-8 encoding with reserved byte sequences"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Version Compatibility"}),": Supports both v1 (msgid-based) and v2 (msgctxt-based) formats"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Quality Assurance"}),": Advanced validation and sorting for cleaner output files"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"usage-example",children:"Usage Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- Set platform and enable POT generation\nPOT_GENERATION = true\nPLATFORM = "WIN32_STEAM"\nrequire "strings"\n\n-- Generate POT file in v2 format\nCreateStringsPOTv2("languages/strings.pot", "STRINGS", STRINGS)\n\n-- Generate with translation data\nCreateStringsPOTv2("output/french.po", "STRINGS", french_strings, STRINGS)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"command-line-usage",children:"Command Line Usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Generate for Steam (default)\nlua.exe createstringspo.lua\n\n# Generate for Rail platform\nlua.exe createstringspo.lua RAIL\n\n# Generate for PlayStation\nlua.exe createstringspo.lua PS4\n\n# Generate for Xbox\nlua.exe createstringspo.lua XBL\n"})}),"\n",(0,r.jsx)(n.h2,{id:"constants",children:"Constants"}),"\n",(0,r.jsx)(n.h3,{id:"string_reserved_lead_bytes",children:"STRING_RESERVED_LEAD_BYTES"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Value:"})," ",(0,r.jsx)(n.code,{children:"{238, 239}"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," \ud83d\udfe2 ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"})," UTF-8 byte sequences that are reserved and ignored during POT file generation."]}),"\n",(0,r.jsx)(n.h3,{id:"platform-support-matrix",children:"Platform Support Matrix"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Platform"}),(0,r.jsx)(n.th,{children:"Argument"}),(0,r.jsx)(n.th,{children:"PLATFORM Value"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Steam"})}),(0,r.jsx)(n.td,{children:"(default)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"WIN32_STEAM"})}),(0,r.jsx)(n.td,{children:"Default Windows Steam platform"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Rail"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RAIL"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"WIN32_RAIL"})}),(0,r.jsx)(n.td,{children:"WeGame/Rail platform (China)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"PlayStation"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PS4"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PS4"})}),(0,r.jsx)(n.td,{children:"PlayStation 4 platform"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Xbox"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"XBL"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"XBL"})}),(0,r.jsx)(n.td,{children:"Xbox Live platform"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,r.jsx)(n.h3,{id:"create-strings-pot-v1",children:"CreateStringsPOTv1(filename, root, tbl_dta, tbl_lkp)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," \ud83d\udfe2 ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nCreates a POT file using the original msgid-based format. Includes duplicate detection."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"filename"}),' (string, optional): Output filename, defaults to "data\\scripts\\languages\\temp_v1.pot"']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"root"}),' (string, optional): Root table name, defaults to "STRINGS"']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tbl_dta"})," (table): Table containing string data to process"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tbl_lkp"})," (table, optional): Lookup table for translation data"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'CreateStringsPOTv1("output/strings_v1.pot", "STRINGS", STRINGS)\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Version History:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Added in build 676042: Current stable implementation"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"create-strings-pot-v2",children:"CreateStringsPOTv2(filename, root, tbl_dta, tbl_lkp)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," \ud83d\udfe2 ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nCreates a POT file using the enhanced msgctxt-based format with proper headers and alphabetical sorting."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"filename"}),' (string, optional): Output filename, defaults to "data\\scripts\\languages\\temp_v2.pot"']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"root"}),' (string, optional): Root table name, defaults to "STRINGS"']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tbl_dta"})," (table): Table containing string data to process"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tbl_lkp"})," (table, optional): Lookup table for translation data"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'CreateStringsPOTv2("languages/strings.pot", "STRINGS", STRINGS)\n\n-- With translation data\nCreateStringsPOTv2("output/french.po", "STRINGS", french_strings, STRINGS)\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Version History:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Added in build 676042: Current stable implementation"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"is-valid-string",children:"IsValidString(str)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," \ud83d\udfe2 ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nValidates if a string should be included in POT generation by checking for reserved UTF-8 byte sequences."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"str"})," (string): String to validate"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"(boolean): True if string is valid for POT generation, false otherwise"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"if IsValidString(game_string) then\n    -- Process string for POT file\nend\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Version History:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Added in build 676042: Current stable implementation"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"lookup-id-value",children:"LookupIdValue(lkp_var, path)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," \ud83d\udfe2 ",(0,r.jsx)(n.code,{children:"stable"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nPerforms dynamic lookup of string values from a lookup table using dot-delimited path syntax."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"lkp_var"})," (string): Name of variable holding lookup table"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"path"}),' (string): Dot-delimited path to the value (e.g., "STRINGS.NAMES.TORCH")']}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"(string): Value from lookup table if found, nil otherwise"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'local value = LookupIdValue("STRINGS_LOOKUP", "STRINGS.NAMES.TORCH")\nif value then\n    print("Found translation: " .. value)\nend\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Version History:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Added in build 676042: Current stable implementation"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"common-usage-patterns",children:"Common Usage Patterns"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- Basic POT generation\nPOT_GENERATION = true\nPLATFORM = "WIN32_STEAM"  -- Set by command line argument\nrequire "strings"\n\n-- Generate v2 format POT file\nCreateStringsPOTv2("languages/strings.pot", "STRINGS", STRINGS)\n\n-- Generate with translation data\nlocal french_strings = LoadTranslationTable("french_strings.lua")\nCreateStringsPOTv2("output/french.po", "STRINGS", french_strings, STRINGS)\n\n-- Validate strings before processing\nif IsValidString(game_string) then\n    -- String is safe for POT generation\nend\n'})}),"\n",(0,r.jsx)(n.h2,{id:"related-modules",children:"Related Modules"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/dst-api-webdocs/docs/game-scripts/core-systems/localization-content/strings/createstringspo_dlc",children:(0,r.jsx)(n.strong,{children:"Create Strings POT DLC"})}),": DLC-specific POT generation system"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./localization.md",children:(0,r.jsx)(n.strong,{children:"Localization"})}),": Main localization system that uses POT files"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"../languages/index.md",children:(0,r.jsx)(n.strong,{children:"Strings"})}),": String table definitions and structure"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./constants.md",children:(0,r.jsx)(n.strong,{children:"Constants"})}),": Game constants including platform identifiers"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"status-indicators",children:"Status Indicators"}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udfe2 ",(0,r.jsx)(n.strong,{children:"Stable"}),": All core functionality is stable and production-ready"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var t=s(96540);const r={},i=t.createContext(r);function l(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);