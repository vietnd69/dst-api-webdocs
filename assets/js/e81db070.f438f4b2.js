"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[2640],{6539:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"community/another-component","title":"Another Component","description":"The Another component is a utility component that provides various helper functions and properties for entity behavior. It helps manage state transitions, temporary effects, and attribute modifications.","source":"@site/docs/community/another-component.md","sourceDirName":"community","slug":"/community/another-component","permalink":"/dst-api-webdocs/docs/community/another-component","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":31,"frontMatter":{"id":"another-component","title":"Another Component","sidebar_position":31,"version":619045}}');var s=t(4848),r=t(8453);const i={id:"another-component",title:"Another Component",sidebar_position:31,version:619045},c="Another Component",a={},d=[{value:"Basic Usage",id:"basic-usage",level:2},{value:"Properties",id:"properties",level:2},{value:"Key Methods",id:"key-methods",level:2},{value:"Events",id:"events",level:2},{value:"Integration with Other Components",id:"integration-with-other-components",level:2},{value:"See also",id:"see-also",level:2},{value:"Example: Creating a Temporary Buff Effect",id:"example-creating-a-temporary-buff-effect",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"another-component",children:"Another Component"})}),"\n",(0,s.jsx)(n.p,{children:"The Another component is a utility component that provides various helper functions and properties for entity behavior. It helps manage state transitions, temporary effects, and attribute modifications."}),"\n",(0,s.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",metastring:'title="basic_usage.lua"',children:'-- Add an another component to an entity\nlocal entity = CreateEntity()\nentity:AddComponent("another")\n\n-- Configure the another component\nlocal another = entity.components.another\nanother:SetDuration(30)\nanother:SetModifier(0.25)\nanother:EnableEffect(true)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"duration"})}),(0,s.jsx)(n.td,{children:"Number"}),(0,s.jsx)(n.td,{children:"Duration of the component's effects in seconds"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"modifier"})}),(0,s.jsx)(n.td,{children:"Number"}),(0,s.jsx)(n.td,{children:"Multiplier applied to entity attributes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"effect_enabled"})}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsx)(n.td,{children:"Whether the component's effects are active"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"cooldown"})}),(0,s.jsx)(n.td,{children:"Number"}),(0,s.jsx)(n.td,{children:"Cooldown period before effects can be reactivated"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"stacks"})}),(0,s.jsx)(n.td,{children:"Number"}),(0,s.jsx)(n.td,{children:"How many times the effect is stacked"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"max_stacks"})}),(0,s.jsx)(n.td,{children:"Number"}),(0,s.jsx)(n.td,{children:"Maximum possible stacks"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"oneffectstart"})}),(0,s.jsx)(n.td,{children:"Function"}),(0,s.jsx)(n.td,{children:"Callback when effect starts"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"oneffectend"})}),(0,s.jsx)(n.td,{children:"Function"}),(0,s.jsx)(n.td,{children:"Callback when effect ends"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"key-methods",children:"Key Methods"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",metastring:'title="key_methods.lua"',children:'-- Set effect duration\nanother:SetDuration(60) -- 60 seconds\n\n-- Set attribute modifier\nanother:SetModifier(0.5) -- 50% modifier\n\n-- Enable or disable effects\nanother:EnableEffect(true)\nanother:DisableEffect()\n\n-- Stack effects\nanother:AddStack()\nanother:RemoveStack()\nanother:ClearStacks()\n\n-- Check component state\nlocal is_active = another:IsEffectActive()\nlocal remaining = another:GetRemainingTime()\nlocal stacks = another:GetStacks()\n\n-- Set callbacks\nanother:SetOnEffectStart(function(inst)\n    -- Do something when effect starts\n    print("Effect started on " .. inst.name)\nend)\n\nanother:SetOnEffectEnd(function(inst)\n    -- Do something when effect ends\n    print("Effect ended on " .. inst.name)\nend)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"events",children:"Events"}),"\n",(0,s.jsx)(n.p,{children:"The Another component responds to and triggers various events:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"effectstart"})," - Triggered when the effect starts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"effectend"})," - Triggered when the effect ends"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"stackadded"})," - Triggered when a stack is added"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"stackremoved"})," - Triggered when a stack is removed"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"stackscleared"})," - Triggered when all stacks are cleared"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"integration-with-other-components",children:"Integration with Other Components"}),"\n",(0,s.jsx)(n.p,{children:"The Another component often works with:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Health"})," - For applying health modifications"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Sanity"})," - For applying sanity effects"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Combat"})," - For applying combat bonuses"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Hunger"})," - For modifying hunger rates"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Locomotor"})," - For movement speed adjustments"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"health.md",children:"Health Component"})," - For health modifications"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"combat.md",children:"Combat Component"})," - For combat bonuses"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"sanity.md",children:"Sanity Component"})," - For sanity effects"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"hunger.md",children:"Hunger Component"})," - For hunger rate modifications"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/dst-api-webdocs/docs/community/related-component",children:"Related Component"})," - For relationship effects"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"example-creating-a-temporary-buff-effect",children:"Example: Creating a Temporary Buff Effect"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",metastring:'title="buff_example.lua"',children:'local function MakeBuffApplier()\n    local inst = CreateEntity()\n    \n    -- Add basic components\n    inst.entity:AddTransform()\n    inst.entity:AddAnimState()\n    inst.entity:AddNetwork()\n    \n    -- Make it an inventory item\n    inst:AddComponent("inventoryitem")\n    \n    -- Make it usable\n    inst:AddComponent("usable")\n    inst.components.usable:SetOnUseFn(function(inst, user)\n        -- When used, apply a buff to the user\n        if user.components.another == nil then\n            user:AddComponent("another")\n        end\n        \n        local another = user.components.another\n        another:SetDuration(30) -- 30 second buff\n        another:SetModifier(0.25) -- 25% boost\n        another:EnableEffect(true)\n        \n        -- Apply the actual buff effects\n        if user.components.combat ~= nil then\n            user.components.combat.externaldamagemultipliers:SetModifier(inst, 1.25)\n        end\n        \n        if user.components.locomotor ~= nil then\n            user.components.locomotor:SetExternalSpeedMultiplier(inst, "buff", 1.25)\n        end\n        \n        -- Set up callback for when buff ends\n        user.components.another:SetOnEffectEnd(function(user)\n            if user.components.combat ~= nil then\n                user.components.combat.externaldamagemultipliers:RemoveModifier(inst)\n            end\n            \n            if user.components.locomotor ~= nil then\n                user.components.locomotor:RemoveExternalSpeedMultiplier(inst, "buff")\n            end\n            \n            -- Visual feedback that buff ended\n            if user.components.talker ~= nil then\n                user.components.talker:Say("My power boost has faded!")\n            end\n        end)\n        \n        -- Visual feedback that buff started\n        if user.components.talker ~= nil then\n            user.components.talker:Say("I feel stronger!")\n        end\n        \n        -- Remove the item when used\n        inst:Remove()\n        return true\n    end)\n    \n    return inst\nend\n'})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var o=t(6540);const s={},r=o.createContext(s);function i(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);