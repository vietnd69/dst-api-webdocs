"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[30573],{28453:(e,r,n)=>{n.d(r,{R:()=>a,x:()=>d});var i=n(96540);const s={},t=i.createContext(s);function a(e){const r=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(t.Provider,{value:r},e.children)}},61023:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"game-scripts/core-systems/game-mechanics/crafting/trade-recipes","title":"Trade Recipes","description":"Configuration system for item trading and upgrade recipes in Don\'t Starve Together","source":"@site/docs/game-scripts/core-systems/game-mechanics/crafting/trade_recipes.md","sourceDirName":"game-scripts/core-systems/game-mechanics/crafting","slug":"/game-scripts/core-systems/game-mechanics/crafting/trade-recipes","permalink":"/dst-api-webdocs/docs/game-scripts/core-systems/game-mechanics/crafting/trade-recipes","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"id":"trade-recipes","title":"Trade Recipes","description":"Configuration system for item trading and upgrade recipes in Don\'t Starve Together","sidebar_position":7,"last_updated":"2025-06-21T00:00:00.000Z","build_version":676042,"change_status":"stable"}}');var s=n(74848),t=n(28453);const a={id:"trade-recipes",title:"Trade Recipes",description:"Configuration system for item trading and upgrade recipes in Don't Starve Together",sidebar_position:7,last_updated:new Date("2025-06-21T00:00:00.000Z"),build_version:676042,change_status:"stable"},d="Trade Recipes",c={},l=[{value:"Version History",id:"version-history",level:2},{value:"Overview",id:"overview",level:2},{value:"Usage Example",id:"usage-example",level:2},{value:"Constants",id:"constants",level:2},{value:"TRADE_RECIPES",id:"trade_recipes",level:3},{value:"Recipe Definitions",id:"recipe-definitions",level:2},{value:"classy_upgrade",id:"classy_upgrade",level:3},{value:"common_upgrade",id:"common_upgrade",level:3},{value:"spiffy_upgrade",id:"spiffy_upgrade",level:3},{value:"Common Usage Patterns",id:"common-usage-patterns",level:2},{value:"Validating Trade Requirements",id:"validating-trade-requirements",level:3},{value:"Processing Upgrades",id:"processing-upgrades",level:3},{value:"Iterating Through Available Recipes",id:"iterating-through-available-recipes",level:3},{value:"Integration Notes",id:"integration-notes",level:2},{value:"Rarity System Integration",id:"rarity-system-integration",level:3},{value:"Trading System Workflow",id:"trading-system-workflow",level:3},{value:"Related Modules",id:"related-modules",level:2},{value:"Source Reference",id:"source-reference",level:2}];function o(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"trade-recipes",children:"Trade Recipes"})}),"\n",(0,s.jsx)(r.h2,{id:"version-history",children:"Version History"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Build Version"}),(0,s.jsx)(r.th,{children:"Change Date"}),(0,s.jsx)(r.th,{children:"Change Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsx)(r.tbody,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"676042"}),(0,s.jsx)(r.td,{children:"2025-06-21"}),(0,s.jsx)(r.td,{children:"stable"}),(0,s.jsx)(r.td,{children:"Current version"})]})})]}),"\n",(0,s.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(r.p,{children:["The ",(0,s.jsx)(r.code,{children:"trade_recipes"})," module defines the configuration system for item trading and upgrade recipes in Don't Starve Together. It provides a centralized table of trade recipes that specify the requirements and outcomes for various item upgrades, particularly focusing on rarity-based upgrade systems."]}),"\n",(0,s.jsx)(r.h2,{id:"usage-example",children:"Usage Example"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-lua",children:'-- Access trade recipes configuration\nlocal recipe = TRADE_RECIPES.classy_upgrade\nprint(recipe.name) -- "9_CLASSY_UPGRADE"\nprint(recipe.inputs.number) -- 9\nprint(recipe.inputs.rarity) -- "Classy"\n'})}),"\n",(0,s.jsx)(r.h2,{id:"constants",children:"Constants"}),"\n",(0,s.jsx)(r.h3,{id:"trade_recipes",children:"TRADE_RECIPES"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Type:"})," ",(0,s.jsx)(r.code,{children:"table"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Status:"})," ",(0,s.jsx)(r.code,{children:"stable"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Description:"})," Global table containing all available trade recipe configurations. Each recipe defines the inputs required and the upgrade outcome for item trading systems."]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Structure:"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-lua",children:'TRADE_RECIPES = {\n    [recipe_id] = {\n        name = "RECIPE_NAME",\n        inputs = {\n            number = number_required,\n            rarity = "rarity_type"\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(r.h2,{id:"recipe-definitions",children:"Recipe Definitions"}),"\n",(0,s.jsx)(r.h3,{id:"classy_upgrade",children:"classy_upgrade"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Status:"})," ",(0,s.jsx)(r.code,{children:"stable"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Description:"})," Upgrade recipe for trading 9 Classy rarity items."]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Properties:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"name"})," (string): ",(0,s.jsx)(r.code,{children:'"9_CLASSY_UPGRADE"'})," - Identifier for the upgrade type"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"inputs.number"})," (number): ",(0,s.jsx)(r.code,{children:"9"})," - Number of items required for the trade"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"inputs.rarity"})," (string): ",(0,s.jsx)(r.code,{children:'"Classy"'})," - Required rarity level of input items"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Example:"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-lua",children:"local classy_recipe = TRADE_RECIPES.classy_upgrade\n-- Requires 9 items of Classy rarity to perform upgrade\nif player_items.rarity == classy_recipe.inputs.rarity and \n   player_items.count >= classy_recipe.inputs.number then\n    -- Perform upgrade\nend\n"})}),"\n",(0,s.jsx)(r.h3,{id:"common_upgrade",children:"common_upgrade"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Status:"})," ",(0,s.jsx)(r.code,{children:"stable"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Description:"})," Upgrade recipe for trading 9 Common rarity items."]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Properties:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"name"})," (string): ",(0,s.jsx)(r.code,{children:'"9_COMMON_UPGRADE"'})," - Identifier for the upgrade type"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"inputs.number"})," (number): ",(0,s.jsx)(r.code,{children:"9"})," - Number of items required for the trade"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"inputs.rarity"})," (string): ",(0,s.jsx)(r.code,{children:'"Common"'})," - Required rarity level of input items"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Example:"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-lua",children:"local common_recipe = TRADE_RECIPES.common_upgrade\n-- Check if player has enough common items for upgrade\nif CanPerformUpgrade(common_recipe.inputs.rarity, common_recipe.inputs.number) then\n    ExecuteUpgrade(common_recipe.name)\nend\n"})}),"\n",(0,s.jsx)(r.h3,{id:"spiffy_upgrade",children:"spiffy_upgrade"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Status:"})," ",(0,s.jsx)(r.code,{children:"stable"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Description:"})," Upgrade recipe for trading 9 Spiffy rarity items."]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Properties:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"name"})," (string): ",(0,s.jsx)(r.code,{children:'"9_SPIFFY_UPGRADE"'})," - Identifier for the upgrade type"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"inputs.number"})," (number): ",(0,s.jsx)(r.code,{children:"9"})," - Number of items required for the trade"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"inputs.rarity"})," (string): ",(0,s.jsx)(r.code,{children:'"Spiffy"'})," - Required rarity level of input items"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Example:"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-lua",children:"local spiffy_recipe = TRADE_RECIPES.spiffy_upgrade\n-- Process spiffy item upgrade\nProcessRarityUpgrade(spiffy_recipe.inputs.rarity, \n                    spiffy_recipe.inputs.number, \n                    spiffy_recipe.name)\n"})}),"\n",(0,s.jsx)(r.h2,{id:"common-usage-patterns",children:"Common Usage Patterns"}),"\n",(0,s.jsx)(r.h3,{id:"validating-trade-requirements",children:"Validating Trade Requirements"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-lua",children:"function CanAffordUpgrade(recipe_id, player_inventory)\n    local recipe = TRADE_RECIPES[recipe_id]\n    if not recipe then return false end\n    \n    local items_of_rarity = CountItemsByRarity(player_inventory, recipe.inputs.rarity)\n    return items_of_rarity >= recipe.inputs.number\nend\n"})}),"\n",(0,s.jsx)(r.h3,{id:"processing-upgrades",children:"Processing Upgrades"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-lua",children:"function ProcessUpgrade(recipe_id, player)\n    local recipe = TRADE_RECIPES[recipe_id]\n    if not recipe then return false end\n    \n    -- Remove required items\n    RemoveItemsByRarity(player, recipe.inputs.rarity, recipe.inputs.number)\n    \n    -- Grant upgrade reward\n    GrantUpgradeReward(player, recipe.name)\n    \n    return true\nend\n"})}),"\n",(0,s.jsx)(r.h3,{id:"iterating-through-available-recipes",children:"Iterating Through Available Recipes"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-lua",children:'function GetAvailableUpgrades(player_inventory)\n    local available = {}\n    \n    for recipe_id, recipe in pairs(TRADE_RECIPES) do\n        if CanAffordUpgrade(recipe_id, player_inventory) then\n            table.insert(available, {\n                id = recipe_id,\n                name = recipe.name,\n                cost = recipe.inputs.number .. " " .. recipe.inputs.rarity .. " items"\n            })\n        end\n    end\n    \n    return available\nend\n'})}),"\n",(0,s.jsx)(r.h2,{id:"integration-notes",children:"Integration Notes"}),"\n",(0,s.jsx)(r.h3,{id:"rarity-system-integration",children:"Rarity System Integration"}),"\n",(0,s.jsx)(r.p,{children:"The trade recipes system integrates with the game's item rarity classification:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Common"}),": Basic tier items, most frequently obtained"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Classy"}),": Mid-tier items with enhanced properties"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Spiffy"}),": High-tier items with premium characteristics"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"trading-system-workflow",children:"Trading System Workflow"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Validation"}),": Check if player has required number of items with correct rarity"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Consumption"}),": Remove the specified items from player inventory"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Reward"}),": Grant upgrade reward based on recipe name identifier"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Feedback"}),": Provide user feedback on successful or failed trades"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"related-modules",children:"Related Modules"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"./inventory.md",children:"Inventory Systems"}),": Item storage and management"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"./playerprofile.md",children:"Player Profile"}),": Player progression and rewards"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"./prefabskins.md",children:"Skin Systems"}),": Item appearance and rarity management"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"source-reference",children:"Source Reference"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"File Location:"})," ",(0,s.jsx)(r.code,{children:"scripts/trade_recipes.lua"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Global Access:"})," Available globally as ",(0,s.jsx)(r.code,{children:"TRADE_RECIPES"})," table"]})]})}function p(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);