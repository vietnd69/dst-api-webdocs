"use strict";(self.webpackChunkdst_api_webdocs=self.webpackChunkdst_api_webdocs||[]).push([[8629],{5144:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"api-vanilla/node-types/widget","title":"Widget","description":"Widgets are UI elements that can be used to create user interfaces in Don\'t Starve Together. They handle rendering, input, and other UI-related functionality.","source":"@site/docs/api-vanilla/node-types/widget.md","sourceDirName":"api-vanilla/node-types","slug":"/api-vanilla/node-types/widget","permalink":"/dst-api-webdocs/docs/api-vanilla/node-types/widget","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"id":"widget","title":"Widget","sidebar_position":7,"last_updated":"2023-07-06T00:00:00.000Z"}}');var s=i(4848),d=i(8453);const l={id:"widget",title:"Widget",sidebar_position:7,last_updated:new Date("2023-07-06T00:00:00.000Z")},r="Widget",c={},o=[{value:"Overview",id:"overview",level:2},{value:"Common Widget Structure",id:"common-widget-structure",level:2},{value:"Widget Hierarchy",id:"widget-hierarchy",level:2},{value:"Key Methods",id:"key-methods",level:2},{value:"Common Event Handlers",id:"common-event-handlers",level:2},{value:"Common Widget Types",id:"common-widget-types",level:2},{value:"Related Systems",id:"related-systems",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"widget",children:"Widget"})}),"\n",(0,s.jsx)(n.p,{children:"Widgets are UI elements that can be used to create user interfaces in Don't Starve Together. They handle rendering, input, and other UI-related functionality."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Widgets are the building blocks of the game's user interface. They can be combined hierarchically to create complex UI layouts. Each widget handles its own rendering, input events, and animations."}),"\n",(0,s.jsx)(n.h2,{id:"common-widget-structure",children:"Common Widget Structure"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'local MyWidget = Class(Widget, function(self, name)\n    Widget._ctor(self, name or "MyWidget")\n    \n    -- Initialize widget properties\n    self.bg = self:AddChild(Image("images/ui.xml", "panel.tex"))\n    self.bg:SetScale(2, 2)\n    \n    self.text = self:AddChild(Text(BODYTEXTFONT, 20))\n    self.text:SetString("Hello World")\n    self.text:SetPosition(0, 0)\n    \n    -- Set up callbacks\n    self:SetOnClick(function() print("Widget clicked!") end)\nend)\n\nfunction MyWidget:OnGainFocus()\n    self.bg:SetTint(1, 1, 0, 1)\n    return true\nend\n\nfunction MyWidget:OnLoseFocus()\n    self.bg:SetTint(1, 1, 1, 1)\n    return true\nend\n\nreturn MyWidget\n'})}),"\n",(0,s.jsx)(n.h2,{id:"widget-hierarchy",children:"Widget Hierarchy"}),"\n",(0,s.jsx)(n.p,{children:"Widgets can be organized in a parent-child hierarchy:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'local parent = Widget("ParentWidget")\nlocal child = parent:AddChild(Widget("ChildWidget"))\n'})}),"\n",(0,s.jsx)(n.p,{children:"Children inherit properties like visibility and focus from their parents."}),"\n",(0,s.jsx)(n.h2,{id:"key-methods",children:"Key Methods"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"AddChild(widget)"}),": Adds a child widget"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"RemoveChild(widget)"}),": Removes a child widget"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SetPosition(x, y, z)"}),": Sets the widget's position"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SetScale(x, y, z)"}),": Sets the widget's scale"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SetRotation(angle)"}),": Sets the widget's rotation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SetTint(r, g, b, a)"}),": Sets the widget's color tint"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SetOnClick(fn)"}),": Sets a click handler function"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SetFocus()"}),": Gives focus to this widget"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ClearFocus()"}),": Removes focus from this widget"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Show()"}),": Makes the widget visible"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Hide()"}),": Makes the widget invisible"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ScaleTo(from, to, time, fn)"}),": Animates the widget's scale"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"MoveTo(from, to, time, fn)"}),": Animates the widget's position"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"common-event-handlers",children:"Common Event Handlers"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OnControl(control, down)"}),": Called when a control is pressed/released"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OnMouseButton(button, down, x, y)"}),": Called on mouse events"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OnRawKey(key, down)"}),": Called on keyboard events"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OnTextInput(text)"}),": Called when text is entered"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OnGainFocus()"}),": Called when the widget gains focus"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OnLoseFocus()"}),": Called when the widget loses focus"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"common-widget-types",children:"Common Widget Types"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Text"}),": Displays text"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Image"}),": Displays an image"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Button"}),": Clickable button"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TextButton"}),": Button with text"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ImageButton"}),": Button with an image"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Menu"}),": Group of options"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ScrollableList"}),": Scrollable list of items"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TextEdit"}),": Editable text field"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"related-systems",children:"Related Systems"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"UI Screen system"}),"\n",(0,s.jsx)(n.li,{children:"Animation system"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>r});var t=i(6540);const s={},d=t.createContext(s);function l(e){const n=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(d.Provider,{value:n},e.children)}}}]);