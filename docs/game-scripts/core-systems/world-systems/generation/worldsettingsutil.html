<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-game-scripts/core-systems/world-systems/generation/worldsettingsutil" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">World Settings Util | Don&#x27;t Starve Together Vanilla API</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://vietnd69.github.io/dst-api-webdocs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://vietnd69.github.io/dst-api-webdocs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://vietnd69.github.io/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation/worldsettingsutil"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="World Settings Util | Don&#x27;t Starve Together Vanilla API"><meta data-rh="true" name="description" content="Utility functions for managing external timers and world settings integration with game components"><meta data-rh="true" property="og:description" content="Utility functions for managing external timers and world settings integration with game components"><link data-rh="true" rel="icon" href="/dst-api-webdocs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://vietnd69.github.io/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation/worldsettingsutil"><link data-rh="true" rel="alternate" href="https://vietnd69.github.io/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation/worldsettingsutil" hreflang="en"><link data-rh="true" rel="alternate" href="https://vietnd69.github.io/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation/worldsettingsutil" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://P9GA1YAAFR-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Core Systems","item":"https://vietnd69.github.io/dst-api-webdocs/docs/category/core-systems"},{"@type":"ListItem","position":2,"name":"World Systems","item":"https://vietnd69.github.io/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/"},{"@type":"ListItem","position":3,"name":"Generation","item":"https://vietnd69.github.io/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation/"},{"@type":"ListItem","position":4,"name":"World Settings Util","item":"https://vietnd69.github.io/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation/worldsettingsutil"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="Don&#39;t Starve Together Vanilla API" href="/dst-api-webdocs/opensearch.xml"><link rel="stylesheet" href="/dst-api-webdocs/assets/css/styles.d347ed0b.css">
<script src="/dst-api-webdocs/assets/js/runtime~main.a2c35c55.js" defer="defer"></script>
<script src="/dst-api-webdocs/assets/js/main.653c0730.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/dst-api-webdocs/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/dst-api-webdocs/"><div class="navbar__logo"><img src="/dst-api-webdocs/img/logo.png" alt="Don&#x27;t Starve Together Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/dst-api-webdocs/img/logo.png" alt="Don&#x27;t Starve Together Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/dst-api-webdocs/docs/game-scripts/getting-started">Game Scripts</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/vietnd69/dst-api-webdocs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub Docs<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/vietnd69/dst-scripts" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Base Game Scripts Code<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/dst-api-webdocs/docs/game-scripts/getting-started">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-divider"><hr></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/dst-api-webdocs/docs/category/core-systems">Core Systems</a><button aria-label="Collapse sidebar category &#x27;Core Systems&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems">Core Systems Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/character-systems">Character Systems</a><button aria-label="Expand sidebar category &#x27;Character Systems&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/data-management">Data Management</a><button aria-label="Expand sidebar category &#x27;Data Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/development-tools">Development Tools</a><button aria-label="Expand sidebar category &#x27;Development Tools&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/fundamentals">Fundamentals</a><button aria-label="Expand sidebar category &#x27;Fundamentals&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/game-configuration">Game Configuration</a><button aria-label="Expand sidebar category &#x27;Game Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/localization-content">Localization</a><button aria-label="Expand sidebar category &#x27;Localization&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/mod-support">Mod Support</a><button aria-label="Expand sidebar category &#x27;Mod Support&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/networking-communication">Networking Communication</a><button aria-label="Expand sidebar category &#x27;Networking Communication&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/system-core">System Core</a><button aria-label="Expand sidebar category &#x27;System Core&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/user-interface">User Interface</a><button aria-label="Expand sidebar category &#x27;User Interface&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems">World Systems</a><button aria-label="Collapse sidebar category &#x27;World Systems&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems">World Systems Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/entities">Entities</a><button aria-label="Expand sidebar category &#x27;Entities&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation">Generation</a><button aria-label="Collapse sidebar category &#x27;Generation&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation">World Generation Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation/worldgen-main">World Generation Main</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation/custom-presets">Custom Presets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation/prefabswaps">Prefab Swaps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation/plantregistrydata">Plant Registry Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation/regrowthutil">RegrowthUtil</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation/worldsettingsutil">World Settings Util</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation/worldsettings_overrides">World Settings Overrides</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/ocean">Ocean</a><button aria-label="Expand sidebar category &#x27;Ocean&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/tiles-terrain">Tiles &amp; Terrain</a><button aria-label="Expand sidebar category &#x27;Tiles &amp; Terrain&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/dst-api-webdocs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/dst-api-webdocs/docs/category/core-systems"><span>Core Systems</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems"><span>World Systems</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation"><span>Generation</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">World Settings Util</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>World Settings Util</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="version-history">Version History<a href="#version-history" class="hash-link" aria-label="Direct link to Version History" title="Direct link to Version History">​</a></h2>
<table><thead><tr><th>Build Version</th><th>Change Date</th><th>Change Type</th><th>Description</th></tr></thead><tbody><tr><td>676042</td><td>2025-06-21</td><td>stable</td><td>Current version</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>The <code>worldsettingsutil</code> module provides utility functions for integrating world settings with component-based game systems. It enables components to use external timers managed by the world settings system instead of their internal timers, allowing for global configuration of spawning, regeneration, and other time-based mechanics.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage-example">Usage Example<a href="#usage-example" class="hash-link" aria-label="Direct link to Usage Example" title="Direct link to Usage Example">​</a></h2>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Set up external timer for a childspawner component</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> worldsettingsutil </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;worldsettingsutil&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Configure spawn period timer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worldsettingsutil</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WorldSettings_ChildSpawner_SpawnPeriod</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Configure regeneration timer  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worldsettingsutil</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WorldSettings_ChildSpawner_RegenPeriod</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">true</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="timer-function-generators">Timer Function Generators<a href="#timer-function-generators" class="hash-link" aria-label="Direct link to Timer Function Generators" title="Direct link to Timer Function Generators">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="make-pause-timer-function">MakePauseTimerFunction(timername)<a href="#make-pause-timer-function" class="hash-link" aria-label="Direct link to MakePauseTimerFunction(timername)" title="Direct link to MakePauseTimerFunction(timername)">​</a></h3>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Creates a function that pauses a named timer on an entity&#x27;s worldsettingstimer component.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>timername</code> (string): Name of the timer to pause</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>(function): Function that accepts an entity instance and pauses the timer</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Create a pause function for a custom timer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> PauseCustomTimer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">MakePauseTimerFunction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;custom_timer&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Use the function to pause the timer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">PauseCustomTimer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="make-resume-timer-function">MakeResumeTimerFunction(timername)<a href="#make-resume-timer-function" class="hash-link" aria-label="Direct link to MakeResumeTimerFunction(timername)" title="Direct link to MakeResumeTimerFunction(timername)">​</a></h3>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Creates a function that resumes a named timer on an entity&#x27;s worldsettingstimer component.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>timername</code> (string): Name of the timer to resume</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>(function): Function that accepts an entity instance and resumes the timer</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="make-start-timer-function">MakeStartTimerFunction(timername)<a href="#make-start-timer-function" class="hash-link" aria-label="Direct link to MakeStartTimerFunction(timername)" title="Direct link to MakeStartTimerFunction(timername)">​</a></h3>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Creates a function that starts/restarts a named timer with a specified delay.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>timername</code> (string): Name of the timer to start</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>(function): Function that accepts an entity instance and delay, then starts the timer</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Create a start function for spawn timer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> StartSpawnTimer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">MakeStartTimerFunction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;spawn_timer&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Start timer with 10 second delay</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">StartSpawnTimer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="make-stop-timer-function">MakeStopTimerFunction(timername)<a href="#make-stop-timer-function" class="hash-link" aria-label="Direct link to MakeStopTimerFunction(timername)" title="Direct link to MakeStopTimerFunction(timername)">​</a></h3>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Creates a function that stops a named timer on an entity&#x27;s worldsettingstimer component.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>timername</code> (string): Name of the timer to stop</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>(function): Function that accepts an entity instance and stops the timer</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="childspawner-integration">ChildSpawner Integration<a href="#childspawner-integration" class="hash-link" aria-label="Direct link to ChildSpawner Integration" title="Direct link to ChildSpawner Integration">​</a></h2>
<p>The ChildSpawner component can use external timers for spawn period and regeneration period management.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="worldsettings-childspawner-spawnperiod">WorldSettings_ChildSpawner_SpawnPeriod(inst, spawnperiod, enabled)<a href="#worldsettings-childspawner-spawnperiod" class="hash-link" aria-label="Direct link to WorldSettings_ChildSpawner_SpawnPeriod(inst, spawnperiod, enabled)" title="Direct link to WorldSettings_ChildSpawner_SpawnPeriod(inst, spawnperiod, enabled)">​</a></h3>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Configures a ChildSpawner component to use an external timer for spawn period management instead of its internal timer.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>inst</code> (Entity): Entity with ChildSpawner component</li>
<li><code>spawnperiod</code> (number): Time between spawn attempts in seconds</li>
<li><code>enabled</code> (boolean): Whether the timer should be enabled initially</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>None (modifies component behavior)</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Set up spawn period timer for a spider den</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">WorldSettings_ChildSpawner_SpawnPeriod</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- The ChildSpawner will now use external timing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">components</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">childspawner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">useexternaltimer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- true</span><br></span></code></pre></div></div>
<p><strong>Integration Details:</strong></p>
<ul>
<li>Sets <code>childspawner.useexternaltimer = true</code></li>
<li>Assigns timer control functions to childspawner</li>
<li>Creates and starts the external timer</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="worldsettings-childspawner-regenperiod">WorldSettings_ChildSpawner_RegenPeriod(inst, regenperiod, enabled)<a href="#worldsettings-childspawner-regenperiod" class="hash-link" aria-label="Direct link to WorldSettings_ChildSpawner_RegenPeriod(inst, regenperiod, enabled)" title="Direct link to WorldSettings_ChildSpawner_RegenPeriod(inst, regenperiod, enabled)">​</a></h3>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Configures a ChildSpawner component to use an external timer for regeneration period management.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>inst</code> (Entity): Entity with ChildSpawner component</li>
<li><code>regenperiod</code> (number): Time between regeneration attempts in seconds</li>
<li><code>enabled</code> (boolean): Whether the timer should be enabled initially</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>None (modifies component behavior)</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Set up regeneration timer for a hound mound</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">WorldSettings_ChildSpawner_RegenPeriod</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">true</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="worldsettings-childspawner-preload">WorldSettings_ChildSpawner_PreLoad(inst, data, spawnperiod_max, regenperiod_max)<a href="#worldsettings-childspawner-preload" class="hash-link" aria-label="Direct link to WorldSettings_ChildSpawner_PreLoad(inst, data, spawnperiod_max, regenperiod_max)" title="Direct link to WorldSettings_ChildSpawner_PreLoad(inst, data, spawnperiod_max, regenperiod_max)">​</a></h3>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Prepares ChildSpawner save data for external timer migration during world loading. Converts legacy childspawner timer data to worldsettingstimer format with normalized time values.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>inst</code> (Entity): Entity being loaded</li>
<li><code>data</code> (table): Save data for the entity</li>
<li><code>spawnperiod_max</code> (number): Maximum spawn period for normalization</li>
<li><code>regenperiod_max</code> (number): Maximum regen period for normalization</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>None (modifies save data)</li>
</ul>
<p><strong>Implementation Details:</strong></p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Actual implementation from source code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">WorldSettings_ChildSpawner_PreLoad</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> spawnperiod_max</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> regenperiod_max</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> data </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">childspawner </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">worldsettingstimer </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">worldsettingstimer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> timers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">worldsettingstimer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timers</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">CHILDSPAWNER_SPAWNPERIOD_TIMERNAME</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            timeleft </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">min</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">childspawner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timetonextspawn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> spawnperiod_max</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> spawnperiod_max</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            paused </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">childspawner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spawning</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            initial_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">worldsettingstimer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timers</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">CHILDSPAWNER_REGENPERIOD_TIMERNAME</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            timeleft </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">min</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">childspawner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timetonextregen</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> regenperiod_max</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> regenperiod_max</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            paused </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">childspawner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">regening</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            initial_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre></div></div>
<p><strong>Timer Name Constants:</strong></p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Defined timer names used by the system</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> CHILDSPAWNER_SPAWNPERIOD_TIMERNAME </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ChildSpawner_SpawnPeriod&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> CHILDSPAWNER_REGENPERIOD_TIMERNAME </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ChildSpawner_RegenPeriod&quot;</span><br></span></code></pre></div></div>
<p><strong>Migration Logic:</strong></p>
<ol>
<li><strong>Condition Check</strong>: Only migrates if legacy data exists and worldsettingstimer doesn&#x27;t</li>
<li><strong>Normalization</strong>: Converts absolute time values to relative (0-1) scale</li>
<li><strong>State Preservation</strong>: Maintains paused state from original timer</li>
<li><strong>Initial Time</strong>: Sets to 0 for normalized timers</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="spawner-integration">Spawner Integration<a href="#spawner-integration" class="hash-link" aria-label="Direct link to Spawner Integration" title="Direct link to Spawner Integration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="worldsettings-spawner-spawndelay">WorldSettings_Spawner_SpawnDelay(inst, startdelay, enabled)<a href="#worldsettings-spawner-spawndelay" class="hash-link" aria-label="Direct link to WorldSettings_Spawner_SpawnDelay(inst, startdelay, enabled)" title="Direct link to WorldSettings_Spawner_SpawnDelay(inst, startdelay, enabled)">​</a></h3>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Configures a Spawner component to use external timer for spawn delay management.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>inst</code> (Entity): Entity with Spawner component</li>
<li><code>startdelay</code> (number): Initial spawn delay in seconds</li>
<li><code>enabled</code> (boolean): Whether the timer should be enabled initially</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>None (modifies component behavior)</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Set up external spawn delay for a spawner</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">WorldSettings_Spawner_SpawnDelay</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Spawner will now use external timing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">components</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spawner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">useexternaltimer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- true</span><br></span></code></pre></div></div>
<p><strong>Integration Functions:</strong></p>
<ul>
<li><code>spawner.starttimerfn</code>: Function to start the delay timer</li>
<li><code>spawner.stoptimerfn</code>: Function to stop the delay timer</li>
<li><code>spawner.timertestfn</code>: Function to check if timer exists</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="worldsettings-spawner-preload">WorldSettings_Spawner_PreLoad(inst, data, maxstartdelay)<a href="#worldsettings-spawner-preload" class="hash-link" aria-label="Direct link to WorldSettings_Spawner_PreLoad(inst, data, maxstartdelay)" title="Direct link to WorldSettings_Spawner_PreLoad(inst, data, maxstartdelay)">​</a></h3>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Migrates Spawner save data to external timer format during world loading.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>inst</code> (Entity): Entity being loaded</li>
<li><code>data</code> (table): Save data for the entity</li>
<li><code>maxstartdelay</code> (number): Maximum start delay for normalization</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>None (modifies save data)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pickable-integration">Pickable Integration<a href="#pickable-integration" class="hash-link" aria-label="Direct link to Pickable Integration" title="Direct link to Pickable Integration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="worldsettings-pickable-regentime">WorldSettings_Pickable_RegenTime(inst, regentime, enabled)<a href="#worldsettings-pickable-regentime" class="hash-link" aria-label="Direct link to WorldSettings_Pickable_RegenTime(inst, regentime, enabled)" title="Direct link to WorldSettings_Pickable_RegenTime(inst, regentime, enabled)">​</a></h3>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Configures a Pickable component to use external timer for regeneration timing.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>inst</code> (Entity): Entity with Pickable component</li>
<li><code>regentime</code> (number): Time for regeneration in seconds</li>
<li><code>enabled</code> (boolean): Whether the timer should be enabled initially</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>None (modifies component behavior)</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Set up external regen timer for a berry bush</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">WorldSettings_Pickable_RegenTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">180</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Pickable will now use external timing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">components</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pickable</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">useexternaltimer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- true</span><br></span></code></pre></div></div>
<p><strong>Integration Functions:</strong></p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Functions assigned to pickable component</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pickable</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">startregentimer    </span><span class="token comment" style="color:#999988;font-style:italic">-- Start regeneration timer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pickable</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stopregentimer     </span><span class="token comment" style="color:#999988;font-style:italic">-- Stop regeneration timer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pickable</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pauseregentimer    </span><span class="token comment" style="color:#999988;font-style:italic">-- Pause regeneration timer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pickable</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resumeregentimer   </span><span class="token comment" style="color:#999988;font-style:italic">-- Resume regeneration timer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pickable</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getregentimertime  </span><span class="token comment" style="color:#999988;font-style:italic">-- Get remaining time</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pickable</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">setregentimertime  </span><span class="token comment" style="color:#999988;font-style:italic">-- Set remaining time</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pickable</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">regentimerexists   </span><span class="token comment" style="color:#999988;font-style:italic">-- Check if timer exists</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="worldsettings-pickable-preload">WorldSettings_Pickable_PreLoad(inst, data, maxregentime)<a href="#worldsettings-pickable-preload" class="hash-link" aria-label="Direct link to WorldSettings_Pickable_PreLoad(inst, data, maxregentime)" title="Direct link to WorldSettings_Pickable_PreLoad(inst, data, maxregentime)">​</a></h3>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Migrates Pickable save data to external timer format during world loading.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>inst</code> (Entity): Entity being loaded</li>
<li><code>data</code> (table): Save data for the entity</li>
<li><code>maxregentime</code> (number): Maximum regeneration time for normalization</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>None (modifies save data)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="timer-migration-and-loading">Timer Migration and Loading<a href="#timer-migration-and-loading" class="hash-link" aria-label="Direct link to Timer Migration and Loading" title="Direct link to Timer Migration and Loading">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="worldsettings-timer-preload">WorldSettings_Timer_PreLoad(inst, data, timername, maxtimeleft)<a href="#worldsettings-timer-preload" class="hash-link" aria-label="Direct link to WorldSettings_Timer_PreLoad(inst, data, timername, maxtimeleft)" title="Direct link to WorldSettings_Timer_PreLoad(inst, data, timername, maxtimeleft)">​</a></h3>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Generic function for migrating timer component data to worldsettingstimer format.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>inst</code> (Entity): Entity being loaded</li>
<li><code>data</code> (table): Save data for the entity</li>
<li><code>timername</code> (string): Name of the timer to migrate</li>
<li><code>maxtimeleft</code> (number): Maximum time for normalization (optional)</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>None (modifies save data)</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Migrate a custom timer during preload</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">WorldSettings_Timer_PreLoad</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;custom_timer&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="worldsettings-timer-preload-fix">WorldSettings_Timer_PreLoad_Fix(inst, data, timername, maxmultiplier)<a href="#worldsettings-timer-preload-fix" class="hash-link" aria-label="Direct link to WorldSettings_Timer_PreLoad_Fix(inst, data, timername, maxmultiplier)" title="Direct link to WorldSettings_Timer_PreLoad_Fix(inst, data, timername, maxmultiplier)">​</a></h3>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Fixes timer data by applying a maximum multiplier constraint to prevent extreme values.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>inst</code> (Entity): Entity being loaded</li>
<li><code>data</code> (table): Save data for the entity</li>
<li><code>timername</code> (string): Name of the timer to fix</li>
<li><code>maxmultiplier</code> (number): Maximum multiplier to apply</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>None (modifies save data)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="timer-event-handlers">Timer Event Handlers<a href="#timer-event-handlers" class="hash-link" aria-label="Direct link to Timer Event Handlers" title="Direct link to Timer Event Handlers">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="timer-finished-callbacks">Timer Finished Callbacks<a href="#timer-finished-callbacks" class="hash-link" aria-label="Direct link to Timer Finished Callbacks" title="Direct link to Timer Finished Callbacks">​</a></h3>
<p>The module defines several timer finished callback functions that handle component-specific logic when external timers complete.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="on-childspawner-spawnperiod-timerfinished">On_ChildSpawner_SpawnPeriod_TimerFinished(inst)<a href="#on-childspawner-spawnperiod-timerfinished" class="hash-link" aria-label="Direct link to On_ChildSpawner_SpawnPeriod_TimerFinished(inst)" title="Direct link to On_ChildSpawner_SpawnPeriod_TimerFinished(inst)">​</a></h4>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Handles spawn period timer completion for ChildSpawner components. Automatically restarts the timer and attempts spawning based on current component state.</p>
<p><strong>Implementation:</strong></p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">On_ChildSpawner_SpawnPeriod_TimerFinished</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> childspawner </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> inst</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">components</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">childspawner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> childspawner </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> dospawn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> childspawner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spawning </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> childspawner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">queued_spawn </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> childspawner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">childreninside </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        inst</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">components</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">worldsettingstimer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">StartTimer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CHILDSPAWNER_SPAWNPERIOD_TIMERNAME</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> childspawner</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">GetTimeToNextSpawn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> dospawn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> dospawn </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> childspawner</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">CanSpawnOffscreenOrAwake</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                childspawner</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">SpawnChild</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                childspawner</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">QueueSpawnChild</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre></div></div>
<p><strong>Logic Flow:</strong></p>
<ol>
<li><strong>Component Check</strong>: Verifies childspawner component exists</li>
<li><strong>Spawn Condition</strong>: Checks spawning state, queue status, and available children</li>
<li><strong>Timer Restart</strong>: Always restarts timer with next spawn interval</li>
<li><strong>Timer State</strong>: Pauses timer if spawn conditions aren&#x27;t met</li>
<li><strong>Spawn Attempt</strong>: Spawns immediately or queues based on visibility/sleep state</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="on-childspawner-regenperiod-timerfinished">On_ChildSpawner_RegenPeriod_TimerFinished(inst)<a href="#on-childspawner-regenperiod-timerfinished" class="hash-link" aria-label="Direct link to On_ChildSpawner_RegenPeriod_TimerFinished(inst)" title="Direct link to On_ChildSpawner_RegenPeriod_TimerFinished(inst)">​</a></h4>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Handles regeneration period timer completion for ChildSpawner components. Manages child regeneration and emergency capacity checking.</p>
<p><strong>Implementation:</strong></p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">On_ChildSpawner_RegenPeriod_TimerFinished</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> childspawner </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> inst</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">components</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">childspawner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> childspawner </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> doregen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> childspawner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">regening </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">childspawner</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">IsFull</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> childspawner</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">IsEmergencyFull</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        inst</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">components</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">worldsettingstimer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">StartTimer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CHILDSPAWNER_REGENPERIOD_TIMERNAME</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> childspawner</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">GetTimeToNextRegen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> doregen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> doregen </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            childspawner</span><span class="token punctuation" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">DoRegen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre></div></div>
<p><strong>Logic Flow:</strong></p>
<ol>
<li><strong>Component Check</strong>: Verifies childspawner component exists</li>
<li><strong>Regen Condition</strong>: Checks regening state and capacity (both normal and emergency)</li>
<li><strong>Timer Restart</strong>: Always restarts timer with next regen interval</li>
<li><strong>Timer State</strong>: Pauses timer if regen conditions aren&#x27;t met (full capacity)</li>
<li><strong>Regen Execution</strong>: Calls DoRegen() to increase child count if conditions allow</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="on-spawner-startdelay-timerfinished">On_Spawner_StartDelay_TimerFinished(inst)<a href="#on-spawner-startdelay-timerfinished" class="hash-link" aria-label="Direct link to On_Spawner_StartDelay_TimerFinished(inst)" title="Direct link to On_Spawner_StartDelay_TimerFinished(inst)">​</a></h4>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Handles spawn delay timer completion for Spawner components.</p>
<p><strong>Logic Flow:</strong></p>
<ol>
<li>Set external timer finished flag</li>
<li>Attempt spawn if entity is asleep or spawn off-screen is enabled</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="on-pickable-regentime-timerfinished">On_Pickable_RegenTime_TimerFinished(inst)<a href="#on-pickable-regentime-timerfinished" class="hash-link" aria-label="Direct link to On_Pickable_RegenTime_TimerFinished(inst)" title="Direct link to On_Pickable_RegenTime_TimerFinished(inst)">​</a></h4>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong>
Handles regeneration timer completion for Pickable components.</p>
<p><strong>Logic Flow:</strong></p>
<ol>
<li>Trigger component regeneration</li>
<li>Reset pickable state to ready</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="constants">Constants<a href="#constants" class="hash-link" aria-label="Direct link to Constants" title="Direct link to Constants">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="timer-names">Timer Names<a href="#timer-names" class="hash-link" aria-label="Direct link to Timer Names" title="Direct link to Timer Names">​</a></h3>
<p><strong>Status:</strong> <code>stable</code></p>
<p><strong>Description:</strong> Predefined timer names used by the system.</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- ChildSpawner timer names</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CHILDSPAWNER_SPAWNPERIOD_TIMERNAME </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ChildSpawner_SpawnPeriod&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CHILDSPAWNER_REGENPERIOD_TIMERNAME </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ChildSpawner_RegenPeriod&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Spawner timer names</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SPAWNER_STARTDELAY_TIMERNAME </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Spawner_SpawnDelay&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Pickable timer names</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PICKABLE_REGENTIME_TIMERNAME </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Pickable_RegenTime&quot;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="integration-benefits">Integration Benefits<a href="#integration-benefits" class="hash-link" aria-label="Direct link to Integration Benefits" title="Direct link to Integration Benefits">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="centralized-timer-management">Centralized Timer Management<a href="#centralized-timer-management" class="hash-link" aria-label="Direct link to Centralized Timer Management" title="Direct link to Centralized Timer Management">​</a></h3>
<ul>
<li><strong>Global Control</strong>: All timers can be managed through world settings</li>
<li><strong>Consistent Scaling</strong>: Uniform difficulty scaling across components</li>
<li><strong>Save Migration</strong>: Automatic conversion of legacy save data</li>
<li><strong>Performance</strong>: Reduced timer overhead through centralization</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="world-settings-compatibility">World Settings Compatibility<a href="#world-settings-compatibility" class="hash-link" aria-label="Direct link to World Settings Compatibility" title="Direct link to World Settings Compatibility">​</a></h3>
<ul>
<li><strong>Dynamic Adjustment</strong>: Timers can be modified at runtime</li>
<li><strong>Difficulty Scaling</strong>: Integration with world difficulty systems</li>
<li><strong>Event Integration</strong>: Timer changes trigger appropriate world events</li>
<li><strong>Persistence</strong>: Timer state is properly saved and loaded</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="related-modules">Related Modules<a href="#related-modules" class="hash-link" aria-label="Direct link to Related Modules" title="Direct link to Related Modules">​</a></h2>
<ul>
<li><a href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation/worldsettings_overrides">World Settings Overrides</a>: Uses these utilities for component timer configuration</li>
<li><a href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/components/worldsettingstimer.md">World Settings Timer Component</a>: The component that manages external timers</li>
<li><a href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/components/childspawner.md">Child Spawner Component</a>: Component that can use external timers</li>
<li><a href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/components/spawner.md">Spawner Component</a>: Component that can use external timers</li>
<li><a href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/components/pickable.md">Pickable Component</a>: Component that can use external timers</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation/regrowthutil"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">RegrowthUtil</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/dst-api-webdocs/docs/game-scripts/core-systems/world-systems/generation/worldsettings_overrides"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">World Settings Overrides</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#version-history" class="table-of-contents__link toc-highlight">Version History</a></li><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#usage-example" class="table-of-contents__link toc-highlight">Usage Example</a></li><li><a href="#timer-function-generators" class="table-of-contents__link toc-highlight">Timer Function Generators</a><ul><li><a href="#make-pause-timer-function" class="table-of-contents__link toc-highlight">MakePauseTimerFunction(timername)</a></li><li><a href="#make-resume-timer-function" class="table-of-contents__link toc-highlight">MakeResumeTimerFunction(timername)</a></li><li><a href="#make-start-timer-function" class="table-of-contents__link toc-highlight">MakeStartTimerFunction(timername)</a></li><li><a href="#make-stop-timer-function" class="table-of-contents__link toc-highlight">MakeStopTimerFunction(timername)</a></li></ul></li><li><a href="#childspawner-integration" class="table-of-contents__link toc-highlight">ChildSpawner Integration</a><ul><li><a href="#worldsettings-childspawner-spawnperiod" class="table-of-contents__link toc-highlight">WorldSettings_ChildSpawner_SpawnPeriod(inst, spawnperiod, enabled)</a></li><li><a href="#worldsettings-childspawner-regenperiod" class="table-of-contents__link toc-highlight">WorldSettings_ChildSpawner_RegenPeriod(inst, regenperiod, enabled)</a></li><li><a href="#worldsettings-childspawner-preload" class="table-of-contents__link toc-highlight">WorldSettings_ChildSpawner_PreLoad(inst, data, spawnperiod_max, regenperiod_max)</a></li></ul></li><li><a href="#spawner-integration" class="table-of-contents__link toc-highlight">Spawner Integration</a><ul><li><a href="#worldsettings-spawner-spawndelay" class="table-of-contents__link toc-highlight">WorldSettings_Spawner_SpawnDelay(inst, startdelay, enabled)</a></li><li><a href="#worldsettings-spawner-preload" class="table-of-contents__link toc-highlight">WorldSettings_Spawner_PreLoad(inst, data, maxstartdelay)</a></li></ul></li><li><a href="#pickable-integration" class="table-of-contents__link toc-highlight">Pickable Integration</a><ul><li><a href="#worldsettings-pickable-regentime" class="table-of-contents__link toc-highlight">WorldSettings_Pickable_RegenTime(inst, regentime, enabled)</a></li><li><a href="#worldsettings-pickable-preload" class="table-of-contents__link toc-highlight">WorldSettings_Pickable_PreLoad(inst, data, maxregentime)</a></li></ul></li><li><a href="#timer-migration-and-loading" class="table-of-contents__link toc-highlight">Timer Migration and Loading</a><ul><li><a href="#worldsettings-timer-preload" class="table-of-contents__link toc-highlight">WorldSettings_Timer_PreLoad(inst, data, timername, maxtimeleft)</a></li><li><a href="#worldsettings-timer-preload-fix" class="table-of-contents__link toc-highlight">WorldSettings_Timer_PreLoad_Fix(inst, data, timername, maxmultiplier)</a></li></ul></li><li><a href="#timer-event-handlers" class="table-of-contents__link toc-highlight">Timer Event Handlers</a><ul><li><a href="#timer-finished-callbacks" class="table-of-contents__link toc-highlight">Timer Finished Callbacks</a></li></ul></li><li><a href="#constants" class="table-of-contents__link toc-highlight">Constants</a><ul><li><a href="#timer-names" class="table-of-contents__link toc-highlight">Timer Names</a></li></ul></li><li><a href="#integration-benefits" class="table-of-contents__link toc-highlight">Integration Benefits</a><ul><li><a href="#centralized-timer-management" class="table-of-contents__link toc-highlight">Centralized Timer Management</a></li><li><a href="#world-settings-compatibility" class="table-of-contents__link toc-highlight">World Settings Compatibility</a></li></ul></li><li><a href="#related-modules" class="table-of-contents__link toc-highlight">Related Modules</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/dst-api-webdocs/docs/game-scripts/getting-started/about-game-scripts">DST Vanilla</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forums.kleientertainment.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Klei Forums<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.gg/dst" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/vietnd69/dst-api-webdocs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contribute<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Don't Starve Together Vanilla API v0.5.2 Docs.</div></div></div></footer></div>
</body>
</html>