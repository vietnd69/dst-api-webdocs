<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-getting-started" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Getting Started with DST Modding | Don&#x27;t Starve Together Vanilla API</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://vietnd69.github.io/dst-api-webdocs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://vietnd69.github.io/dst-api-webdocs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://vietnd69.github.io/dst-api-webdocs/docs/getting-started"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Getting Started with DST Modding | Don&#x27;t Starve Together Vanilla API"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/dst-api-webdocs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://vietnd69.github.io/dst-api-webdocs/docs/getting-started"><link data-rh="true" rel="alternate" href="https://vietnd69.github.io/dst-api-webdocs/docs/getting-started" hreflang="en"><link data-rh="true" rel="alternate" href="https://vietnd69.github.io/dst-api-webdocs/docs/getting-started" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://P9GA1YAAFR-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Getting Started with DST Modding","item":"https://vietnd69.github.io/dst-api-webdocs/docs/getting-started"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="Don&#39;t Starve Together Vanilla API" href="/dst-api-webdocs/opensearch.xml"><link rel="stylesheet" href="/dst-api-webdocs/assets/css/styles.01fff3df.css">
<script src="/dst-api-webdocs/assets/js/runtime~main.1eb381fa.js" defer="defer"></script>
<script src="/dst-api-webdocs/assets/js/main.e16890c2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/dst-api-webdocs/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/dst-api-webdocs/"><div class="navbar__logo"><img src="/dst-api-webdocs/img/logo.png" alt="DST Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/dst-api-webdocs/img/logo.png" alt="DST Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">DST Vanilla API Docs v0.5.2</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/dst-api-webdocs/docs/getting-started">DST Vanilla</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/vietnd69/dst-api-webdocs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/dst-api-webdocs/docs/getting-started">Getting Started with DST Modding</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/dst-api-webdocs/docs/category/dst-vanilla-api-v052">DST Vanilla API v0.5.2</a><button aria-label="Expand sidebar category &#x27;DST Vanilla API v0.5.2&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/dst-api-webdocs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Getting Started with DST Modding</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Getting Started with DST Modding</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>Don&#x27;t Starve Together (DST) is a survival game designed to be easily modded. The game uses Lua as its primary programming language, allowing you to customize and extend almost every aspect of the game. This guide will help you understand the basic structure of a DST mod and how to get started with mod development.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-the-development-environment">Setting Up the Development Environment<a href="#setting-up-the-development-environment" class="hash-link" aria-label="Direct link to Setting Up the Development Environment" title="Direct link to Setting Up the Development Environment">​</a></h2>
<p>Before starting mod development, you need to install the following tools:</p>
<ol>
<li><strong>Don&#x27;t Starve Mod Tools</strong>: Can be installed through Steam (Library &gt; Tools &gt; Don&#x27;t Starve Mod Tools)</li>
<li><strong>Text Editor or IDE</strong>: Any editor that supports Lua such as VS Code, Sublime Text, or Notepad++</li>
<li><strong>Image Editor</strong>: Such as GIMP, Photoshop, or Aseprite for editing textures</li>
<li><strong>Spriter</strong>: Animation software that comes with Don&#x27;t Starve Mod Tools, used to view and edit animations</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="additional-tools-optional">Additional Tools (Optional)<a href="#additional-tools-optional" class="hash-link" aria-label="Direct link to Additional Tools (Optional)" title="Direct link to Additional Tools (Optional)">​</a></h3>
<ul>
<li><strong>TexTools</strong>: Tool for converting between .tex and .png formats</li>
<li><strong>KTools</strong>: Toolkit to help work with game animation files</li>
<li><strong>BuildRenamer</strong>: Tool to rename build files</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="basic-mod-structure">Basic Mod Structure<a href="#basic-mod-structure" class="hash-link" aria-label="Direct link to Basic Mod Structure" title="Direct link to Basic Mod Structure">​</a></h2>
<p>A basic DST mod includes the following files and directories:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">modname/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── modinfo.lua       # Metadata about your mod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── modmain.lua       # Main entry point for the mod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── modworldgenmain.lua  # (Optional) For mods that modify world generation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── scripts/          # Additional Lua scripts for the mod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── prefabs/      # Usually contains new prefabs (characters, items, ...)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── anim/             # (Optional) Custom animations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── images/           # (Optional) Images and icons</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── inventoryimages/  # Icons displayed in inventory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── sound/            # (Optional) Custom sound files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── exported/         # (Optional) Exported art assets</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="important-files">Important Files<a href="#important-files" class="hash-link" aria-label="Direct link to Important Files" title="Direct link to Important Files">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="modinfolua">modinfo.lua<a href="#modinfolua" class="hash-link" aria-label="Direct link to modinfo.lua" title="Direct link to modinfo.lua">​</a></h4>
<p>This file contains metadata about your mod, including:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">name = &quot;My First Mod&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">description = &quot;This is my first DST mod&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">author = &quot;Your Name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version = &quot;1.0.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- DST compatibility</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dst_compatible = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- Not compatible with single-player Don&#x27;t Starve</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dont_starve_compatible = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- Not compatible with Reign of Giants DLC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reign_of_giants_compatible = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- Character mods need to set this to true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all_clients_require_mod = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- For mods that only modify client experience</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client_only_mod = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- Icon displayed in the server list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">icon_atlas = &quot;modicon.xml&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">icon = &quot;modicon.tex&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- Tags for server filtering</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server_filter_tags = {&quot;gameplay&quot;, &quot;item&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- Configuration options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">configuration_options = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name = &quot;difficulty&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        label = &quot;Difficulty&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        options = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {description = &quot;Easy&quot;, data = &quot;easy&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {description = &quot;Normal&quot;, data = &quot;normal&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {description = &quot;Hard&quot;, data = &quot;hard&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        default = &quot;normal&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="modmainlua">modmain.lua<a href="#modmainlua" class="hash-link" aria-label="Direct link to modmain.lua" title="Direct link to modmain.lua">​</a></h4>
<p>The main entry point for your mod&#x27;s code. This is where you add hooks into the game&#x27;s systems:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-- Import utilities provided by the engine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GLOBAL.setmetatable(env, {__index = function(t, k) return GLOBAL.rawget(GLOBAL, k) end})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">local require = GLOBAL.require</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- Hook into the game systems</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AddPrefabPostInit(&quot;wilson&quot;, function(inst)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -- This code runs after Wilson (or any character) is initialized</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -- You can modify character stats here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if GLOBAL.TheWorld.ismastersim then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        inst.components.health.maxhealth = 150</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- Add a new crafting recipe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AddRecipe(&quot;super_axe&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {Ingredient(&quot;twigs&quot;, 2), Ingredient(&quot;flint&quot;, 2)}, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RECIPETABS.TOOLS, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TECH.SCIENCE_ONE, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    nil, nil, nil, nil, nil, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;images/inventoryimages/super_axe.xml&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;super_axe.tex&quot;)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="server-vs-client-in-dst-modding">Server vs Client in DST Modding<a href="#server-vs-client-in-dst-modding" class="hash-link" aria-label="Direct link to Server vs Client in DST Modding" title="Direct link to Server vs Client in DST Modding">​</a></h2>
<p>When developing mods for DST, it&#x27;s important to understand the difference between server and client:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="server-side-code">Server-Side Code<a href="#server-side-code" class="hash-link" aria-label="Direct link to Server-Side Code" title="Direct link to Server-Side Code">​</a></h3>
<p>The server is responsible for:</p>
<ul>
<li>Calculating game logic</li>
<li>Processing AI</li>
<li>Managing health, hunger, sanity, and other components</li>
<li>Controlling the world and entities</li>
</ul>
<p>Every component must include code to check <code>TheWorld.ismastersim</code> before executing code related to game logic:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if not TheWorld.ismastersim then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return inst</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- Server-side code here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">inst.components.health:SetMaxHealth(100)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="client-side-code">Client-Side Code<a href="#client-side-code" class="hash-link" aria-label="Direct link to Client-Side Code" title="Direct link to Client-Side Code">​</a></h3>
<p>The client is responsible for:</p>
<ul>
<li>Displaying images and sounds</li>
<li>Processing player input</li>
<li>UI and effects</li>
<li>Replicas (client versions of components)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="types-of-mods">Types of Mods<a href="#types-of-mods" class="hash-link" aria-label="Direct link to Types of Mods" title="Direct link to Types of Mods">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="client-only-mods">Client-Only Mods<a href="#client-only-mods" class="hash-link" aria-label="Direct link to Client-Only Mods" title="Direct link to Client-Only Mods">​</a></h3>
<p>These mods only affect the client experience and don&#x27;t change gameplay for other players. Examples include UI improvements and visual changes.</p>
<p>To mark your mod as client-only:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-- In modinfo.lua</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client_only_mod = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all_clients_require_mod = false</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="server-side-mods">Server-Side Mods<a href="#server-side-mods" class="hash-link" aria-label="Direct link to Server-Side Mods" title="Direct link to Server-Side Mods">​</a></h3>
<p>These mods change gameplay mechanics and typically need to be installed on the server. Sometimes clients also need to have them.</p>
<p>To mark your mod as requiring all clients to have it:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-- In modinfo.lua</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client_only_mod = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all_clients_require_mod = true</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="character-mods">Character Mods<a href="#character-mods" class="hash-link" aria-label="Direct link to Character Mods" title="Direct link to Character Mods">​</a></h3>
<p>Adding new characters requires special consideration. You&#x27;ll need to create:</p>
<ol>
<li>Character prefab (in <code>scripts/prefabs/</code>)</li>
<li>Character stats and abilities</li>
<li>Custom animations</li>
<li>Speech files</li>
</ol>
<p>Character mods always require <code>all_clients_require_mod = true</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prefabs-components-and-stategraphs">Prefabs, Components, and StateGraphs<a href="#prefabs-components-and-stategraphs" class="hash-link" aria-label="Direct link to Prefabs, Components, and StateGraphs" title="Direct link to Prefabs, Components, and StateGraphs">​</a></h3>
<p>Understanding these three concepts is foundational for developing mods in DST:</p>
<ol>
<li><strong>Prefabs</strong>: These are &quot;blueprints&quot; for all entities in the game. Each item, character, monster is a prefab.</li>
<li><strong>Components</strong>: These define the behavior of prefabs. Examples: health, combat, inventory.</li>
<li><strong>StateGraphs</strong>: These control animation and states of entities.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-new-prefab">Creating a New Prefab<a href="#creating-a-new-prefab" class="hash-link" aria-label="Direct link to Creating a New Prefab" title="Direct link to Creating a New Prefab">​</a></h2>
<p>To create a new item, you need to create a prefab in the <code>scripts/prefabs/</code> directory:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-- scripts/prefabs/super_axe.lua</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">local assets = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Asset(&quot;ANIM&quot;, &quot;anim/super_axe.zip&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Asset(&quot;ATLAS&quot;, &quot;images/inventoryimages/super_axe.xml&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Asset(&quot;IMAGE&quot;, &quot;images/inventoryimages/super_axe.tex&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">local function fn()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    local inst = CreateEntity()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inst.entity:AddTransform()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inst.entity:AddAnimState()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inst.entity:AddNetwork()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MakeInventoryPhysics(inst)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inst.AnimState:SetBank(&quot;super_axe&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inst.AnimState:SetBuild(&quot;super_axe&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inst.AnimState:PlayAnimation(&quot;idle&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inst:AddTag(&quot;sharp&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if not TheWorld.ismastersim then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return inst</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inst.entity:SetPristine()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inst:AddComponent(&quot;inventoryitem&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inst:AddComponent(&quot;tool&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inst.components.tool:SetAction(ACTIONS.CHOP, 2) -- Chop twice as fast</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inst:AddComponent(&quot;finiteuses&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inst.components.finiteuses:SetMaxUses(200)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inst.components.finiteuses:SetUses(200)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inst.components.finiteuses:SetOnFinished(inst.Remove)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inst:AddComponent(&quot;inspectable&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return inst</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">return Prefab(&quot;super_axe&quot;, fn, assets)</span><br></span></code></pre></div></div>
<p>Register the prefab in modmain.lua:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PrefabFiles = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;super_axe&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="components-in-dst">Components in DST<a href="#components-in-dst" class="hash-link" aria-label="Direct link to Components in DST" title="Direct link to Components in DST">​</a></h2>
<p>Components are one of the most important concepts in DST modding. They function as feature modules that can be attached to entities to provide specific functionality.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-components-and-their-functions">Common Components and Their Functions<a href="#common-components-and-their-functions" class="hash-link" aria-label="Direct link to Common Components and Their Functions" title="Direct link to Common Components and Their Functions">​</a></h3>
<p>Below are some common components and their functions:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="health-component">Health Component<a href="#health-component" class="hash-link" aria-label="Direct link to Health Component" title="Direct link to Health Component">​</a></h4>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">inst:AddComponent(&quot;health&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">inst.components.health:SetMaxHealth(100)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">inst.components.health:SetInvincible(false)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">inst.components.health.ondeath = function(inst)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -- Code to execute when entity dies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="combat-component">Combat Component<a href="#combat-component" class="hash-link" aria-label="Direct link to Combat Component" title="Direct link to Combat Component">​</a></h4>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">inst:AddComponent(&quot;combat&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">inst.components.combat:SetDefaultDamage(20)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">inst.components.combat:SetAttackPeriod(2) -- Attack every 2 seconds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">inst.components.combat:SetRange(3) -- Attack range</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="inventory-component">Inventory Component<a href="#inventory-component" class="hash-link" aria-label="Direct link to Inventory Component" title="Direct link to Inventory Component">​</a></h4>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">inst:AddComponent(&quot;inventory&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">inst.components.inventory.maxslots = 16</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hunger-component">Hunger Component<a href="#hunger-component" class="hash-link" aria-label="Direct link to Hunger Component" title="Direct link to Hunger Component">​</a></h4>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">inst:AddComponent(&quot;hunger&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">inst.components.hunger:SetMax(150)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">inst.components.hunger:SetRate(1) -- Rate at which hunger decreases</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sanity-component">Sanity Component<a href="#sanity-component" class="hash-link" aria-label="Direct link to Sanity Component" title="Direct link to Sanity Component">​</a></h4>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">inst:AddComponent(&quot;sanity&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">inst.components.sanity:SetMax(200)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">inst.components.sanity.night_drain_mult = 0.5 -- Less sanity drain at night</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-custom-components">Creating Custom Components<a href="#creating-custom-components" class="hash-link" aria-label="Direct link to Creating Custom Components" title="Direct link to Creating Custom Components">​</a></h3>
<p>You can create custom components for your mod:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-- scripts/components/mycomponent.lua</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">local MyComponent = Class(function(self, inst)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    self.inst = inst</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    self.value = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function MyComponent:SetValue(val)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    self.value = val</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function MyComponent:GetValue()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return self.value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">return MyComponent</span><br></span></code></pre></div></div>
<p>Register the component in modmain.lua:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-- Register custom component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">local require = GLOBAL.require</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">local MyComponent = require(&quot;components/mycomponent&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GLOBAL.AddComponentPostInit(&quot;mycomponent&quot;, MyComponent)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="stategraphs-in-dst">StateGraphs in DST<a href="#stategraphs-in-dst" class="hash-link" aria-label="Direct link to StateGraphs in DST" title="Direct link to StateGraphs in DST">​</a></h2>
<p>StateGraphs control how entities move and interact with the world. They define states and transitions between states.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-structure-of-a-stategraph">Basic Structure of a StateGraph<a href="#basic-structure-of-a-stategraph" class="hash-link" aria-label="Direct link to Basic Structure of a StateGraph" title="Direct link to Basic Structure of a StateGraph">​</a></h3>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">local states = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    State{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name = &quot;idle&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tags = {&quot;idle&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        onenter = function(inst)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            inst.AnimState:PlayAnimation(&quot;idle_loop&quot;, true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        end,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    State{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name = &quot;walk&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tags = {&quot;moving&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        onenter = function(inst)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            inst.AnimState:PlayAnimation(&quot;walk_loop&quot;, true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        end,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    State{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name = &quot;attack&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tags = {&quot;attack&quot;, &quot;busy&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        onenter = function(inst)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            inst.AnimState:PlayAnimation(&quot;attack&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        end,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timeline = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            TimeEvent(10*FRAMES, function(inst) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                inst.components.combat:DoAttack() </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            end),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        events = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            EventHandler(&quot;animover&quot;, function(inst) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                inst.sg:GoToState(&quot;idle&quot;) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            end),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">local function CreateStategraph()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    local sg = StateGraph(&quot;myentity&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sg:AddStates(states)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sg.states.idle.events = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        EventHandler(&quot;attacked&quot;, function(inst) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            inst.sg:GoToState(&quot;hit&quot;) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        end),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sg:SetInitialState(&quot;idle&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return sg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">return CreateStategraph()</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="applying-a-stategraph-to-an-entity">Applying a StateGraph to an Entity<a href="#applying-a-stategraph-to-an-entity" class="hash-link" aria-label="Direct link to Applying a StateGraph to an Entity" title="Direct link to Applying a StateGraph to an Entity">​</a></h3>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-- In the prefab file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">inst:SetStateGraph(&quot;SGmyentity&quot;)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="remote-procedure-calls-rpcs">Remote Procedure Calls (RPCs)<a href="#remote-procedure-calls-rpcs" class="hash-link" aria-label="Direct link to Remote Procedure Calls (RPCs)" title="Direct link to Remote Procedure Calls (RPCs)">​</a></h2>
<p>RPCs allow communication between server and client. They are necessary for mods that change gameplay:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-- Register RPC in modmain.lua</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AddModRPCHandler(&quot;MyMod&quot;, &quot;MyAction&quot;, function(player, target)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if player and player.components.inventory and target and target:HasTag(&quot;mytag&quot;) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -- Perform action on server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- Call RPC from client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SendModRPCToServer(MOD_RPC[&quot;MyMod&quot;][&quot;MyAction&quot;], target)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="debugging-and-testing">Debugging and Testing<a href="#debugging-and-testing" class="hash-link" aria-label="Direct link to Debugging and Testing" title="Direct link to Debugging and Testing">​</a></h2>
<p>DST provides some tools for debugging mods:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-- Print debug info to console</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(&quot;Debug info:&quot;, variable)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- Check if prefab is working</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c_spawn(&quot;my_prefab&quot;) -- Spawn prefab to test in game</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- Refresh mod while playing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c_reset() -- Reset and reload all mods</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="publishing-your-mod">Publishing Your Mod<a href="#publishing-your-mod" class="hash-link" aria-label="Direct link to Publishing Your Mod" title="Direct link to Publishing Your Mod">​</a></h2>
<p>When your mod is ready to share:</p>
<ol>
<li>Open Don&#x27;t Starve Mod Tools</li>
<li>Select &quot;Upload Mod&quot;</li>
<li>Enter information about your mod</li>
<li>Add a preview image (size 512x512 pixels)</li>
<li>Upload to Steam Workshop</li>
</ol>
<p>Remember to update your mod regularly and respond to user feedback to improve your mod.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2>
<ul>
<li><a href="https://forums.kleientertainment.com/" target="_blank" rel="noopener noreferrer">Don&#x27;t Starve Forums</a></li>
<li><a href="https://dontstarveapi.com/" target="_blank" rel="noopener noreferrer">Don&#x27;t Starve Modding Wiki</a></li>
<li><a href="https://forums.kleientertainment.com/files/file/83-dont-starve-mod-tools/" target="_blank" rel="noopener noreferrer">Don&#x27;t Starve Mod Tools Documentation</a></li>
</ul>
<p>Good luck with your modding project! Don&#x27;t hesitate to join the DST modding community to learn and share ideas.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--next" href="/dst-api-webdocs/docs/category/dst-vanilla-api-v052"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">DST Vanilla API v0.5.2</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#setting-up-the-development-environment" class="table-of-contents__link toc-highlight">Setting Up the Development Environment</a><ul><li><a href="#additional-tools-optional" class="table-of-contents__link toc-highlight">Additional Tools (Optional)</a></li></ul></li><li><a href="#basic-mod-structure" class="table-of-contents__link toc-highlight">Basic Mod Structure</a><ul><li><a href="#important-files" class="table-of-contents__link toc-highlight">Important Files</a></li></ul></li><li><a href="#server-vs-client-in-dst-modding" class="table-of-contents__link toc-highlight">Server vs Client in DST Modding</a><ul><li><a href="#server-side-code" class="table-of-contents__link toc-highlight">Server-Side Code</a></li><li><a href="#client-side-code" class="table-of-contents__link toc-highlight">Client-Side Code</a></li></ul></li><li><a href="#types-of-mods" class="table-of-contents__link toc-highlight">Types of Mods</a><ul><li><a href="#client-only-mods" class="table-of-contents__link toc-highlight">Client-Only Mods</a></li><li><a href="#server-side-mods" class="table-of-contents__link toc-highlight">Server-Side Mods</a></li><li><a href="#character-mods" class="table-of-contents__link toc-highlight">Character Mods</a></li><li><a href="#prefabs-components-and-stategraphs" class="table-of-contents__link toc-highlight">Prefabs, Components, and StateGraphs</a></li></ul></li><li><a href="#creating-a-new-prefab" class="table-of-contents__link toc-highlight">Creating a New Prefab</a></li><li><a href="#components-in-dst" class="table-of-contents__link toc-highlight">Components in DST</a><ul><li><a href="#common-components-and-their-functions" class="table-of-contents__link toc-highlight">Common Components and Their Functions</a></li><li><a href="#creating-custom-components" class="table-of-contents__link toc-highlight">Creating Custom Components</a></li></ul></li><li><a href="#stategraphs-in-dst" class="table-of-contents__link toc-highlight">StateGraphs in DST</a><ul><li><a href="#basic-structure-of-a-stategraph" class="table-of-contents__link toc-highlight">Basic Structure of a StateGraph</a></li><li><a href="#applying-a-stategraph-to-an-entity" class="table-of-contents__link toc-highlight">Applying a StateGraph to an Entity</a></li></ul></li><li><a href="#remote-procedure-calls-rpcs" class="table-of-contents__link toc-highlight">Remote Procedure Calls (RPCs)</a></li><li><a href="#debugging-and-testing" class="table-of-contents__link toc-highlight">Debugging and Testing</a></li><li><a href="#publishing-your-mod" class="table-of-contents__link toc-highlight">Publishing Your Mod</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/dst-api-webdocs/docs/getting-started">DST Vanilla</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forums.kleientertainment.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Klei Forums<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.gg/dst" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/vietnd69/dst-api-webdocs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Don't Starve Together Vanilla API v0.5.2 Docs.</div></div></div></footer></div>
</body>
</html>